/*! For license information please see index.min.js.LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.IpfsMfs=t():e.IpfsMfs=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=117)}([function(e,t,n){"use strict";(function(e){var r=n(148),i=n(149),o=n(70);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function k(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return k(e,t,n,r)}function S(e,t,n,r){return q(F(t),e,n,r)}function E(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function T(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||C(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||C(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:z(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(5))},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;if(!(e instanceof Error))throw new TypeError("Please pass an Error to err-code");if("object"==typeof t?n=t:null!=t&&(e.code=t),n)for(r in n)e[r]=n[r];return e}},function(e,t,n){"use strict";var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],f=!1,h=-1;function p(){f&&c&&(f=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new y(e,t)),1!==l.length||f||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";const r=n(39)(n(181)).Data,i=n(1),o=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],s=["directory","hamt-sharded-directory"],a=parseInt("0644",8),u=parseInt("0755",8);function c(e){if(null!=e){if(Object.prototype.hasOwnProperty.call(e,"secs")&&(e={secs:e.secs,nsecs:e.nsecs}),Object.prototype.hasOwnProperty.call(e,"Seconds")&&(e={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(e={secs:e[0],nsecs:e[1]}),e instanceof Date){const t=e.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:1e3*(t-1e3*n)}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e.nsecs<0||e.nsecs>999999999)throw i(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}}function l(e){if(null!=e)return("string"==typeof e||e instanceof String)&&(e=parseInt(e,8)),4095&e}class f{static unmarshal(e){const t=r.decode(e);return new f({type:o[t.Type],data:t.hasData()?t.Data:void 0,blockSizes:t.blocksizes,mode:t.hasMode()?t.mode:void 0,mtime:t.hasMtime()?t.mtime:void 0})}constructor(...e){const{type:t,data:n,blockSizes:r,hashType:s,fanout:f,mtime:h,mode:p}=function(e){return 0===e.length?{type:"file"}:2===e.length?{type:e[0],data:e[1]}:"string"==typeof e[0]||e[0]instanceof String?{type:e[0]}:e[0]}(e);if(!o.includes(t))throw i(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t,this.data=n,this.hashType=s,this.fanout=f,this.blockSizes=r||[],this._originalMode=p;const d=l(p);void 0!==d&&(this.mode=d),void 0===this.mode&&"file"===t&&(this.mode=a),void 0===this.mode&&this.isDirectory()&&(this.mode=u);const y=c(h);y&&(this.mtime=y)}isDirectory(){return s.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=r.DataType.Raw;break;case"directory":e=r.DataType.Directory;break;case"file":e=r.DataType.File;break;case"metadata":e=r.DataType.Metadata;break;case"symlink":e=r.DataType.Symlink;break;case"hamt-sharded-directory":e=r.DataType.HAMTShard;break;default:throw i(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t=this.data;this.data&&this.data.length||(t=void 0);let n,o,s=this.blockSizes;if(this.blockSizes&&this.blockSizes.length||(s=void 0),null!=this.mode&&(n=4294963200&this._originalMode|l(this.mode),n===a&&"file"===this.type&&(n=void 0),n===u&&this.isDirectory()&&(n=void 0)),null!=this.mtime){const e=c(this.mtime);e&&(o={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===o.FractionalNanoseconds&&delete o.FractionalNanoseconds)}return r.encode({Type:e,Data:t,filesize:this.fileSize(),blocksizes:s,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:o})}}e.exports=f},function(e,t,n){"use strict";(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(200)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(2))},function(e,t,n){"use strict";var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(i){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,n){"use strict";t.DAGNode=n(182),t.DAGLink=n(83),t.resolver=n(199),t.util=n(84),t.codec=t.util.codec,t.defaultHashAlg=t.util.defaultHashAlg},function(e,t,n){"use strict";const r=n(1);e.exports=(e={},t)=>{Array.isArray(e)&&(e=e.filter(e=>"object"==typeof e).pop()||{});const n={};for(const r in t)null!==e[r]&&void 0!==e[r]?n[r]=e[r]:n[r]=t[r];if(void 0!==e.count&&(n.length=e.count),void 0!==e.p&&(n.parents=e.p),void 0!==e.l&&(n.long=e.l),n.length||0===n.length||(n.length=1/0),n.offset<0)throw r(new Error("cannot have negative write offset"),"ERR_INVALID_PARAMS");if(n.length<0)throw r(new Error("cannot have negative byte count"),"ERR_INVALID_PARAMS");return n}},function(e,t,n){"use strict";const r=n(147).Key;e.exports={FILE_SEPARATOR:"/",MFS_ROOT_KEY:new r("/local/filesroot"),MAX_CHUNK_SIZE:262144,MAX_LINKS:174,FILE_TYPES:{file:0,directory:1,"hamt-sharded-directory":1}}},function(e,t,n){"use strict";(function(e){const r=n(155),i=n(156);t.names=i.names,t.codes=i.codes,t.defaultLengths=i.defaultLengths;const o=n(15);function s(e){t.decode(e)}t.toHexString=function(t){if(!e.isBuffer(t))throw new Error("must be passed a buffer");return t.toString("hex")},t.fromHexString=function(t){return e.from(t,"hex")},t.toB58String=function(t){if(!e.isBuffer(t))throw new Error("must be passed a buffer");return r.encode(t)},t.fromB58String=function(t){let n=t;return e.isBuffer(t)&&(n=t.toString()),e.from(r.decode(n))},t.decode=function(n){if(!e.isBuffer(n))throw new Error("multihash must be a Buffer");if(n.length<3)throw new Error("multihash too short. must be > 3 bytes.");const r=o.decode(n);if(!t.isValidCode(r))throw new Error("multihash unknown function code: 0x".concat(r.toString(16)));n=n.slice(o.decode.bytes);const s=o.decode(n);if(s<1)throw new Error("multihash invalid length: 0x".concat(s.toString(16)));if((n=n.slice(o.decode.bytes)).length!==s)throw new Error("multihash length inconsistent: 0x".concat(n.toString("hex")));return{code:r,name:i.codes[r],length:s,digest:n}},t.encode=function(n,r,i){if(!n||void 0===r)throw new Error("multihash encode requires at least two args: digest, code");const s=t.coerceCode(r);if(!e.isBuffer(n))throw new Error("digest should be a Buffer");if(null==i&&(i=n.length),i&&n.length!==i)throw new Error("digest length should be equal to specified length.");return e.concat([e.from(o.encode(s)),e.from(o.encode(i)),n])},t.coerceCode=function(e){let n=e;if("string"==typeof e){if(void 0===i.names[e])throw new Error("Unrecognized hash function named: ".concat(e));n=i.names[e]}if("number"!=typeof n)throw new Error("Hash function code should be a number. Got: ".concat(n));if(void 0===i.codes[n]&&!t.isAppCode(n))throw new Error("Unrecognized function code: ".concat(n));return n},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!i.codes[e]},t.validate=s,t.prefix=function(e){return s(e),e.slice(0,2)}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(e,t,n){(function(e,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(17),s=n(15),a=n(37),u=n(16),c=n(18),l={};t.clone=function(n,r){if("object"!==(void 0===n?"undefined":i(n))||null===n)return n;var o=(r=r||new Map).get(n);if(o)return o;var s=void 0,a=!1;if(Array.isArray(n))s=[],a=!0;else if(e.isBuffer(n))s=e.from(n);else if(n instanceof Date)s=new Date(n.getTime());else if(n instanceof RegExp)s=new RegExp(n);else{var u=Object.getPrototypeOf(n);u&&u.isImmutable?s=n:(s=Object.create(u),a=!0)}if(r.set(n,s),a)for(var c=Object.getOwnPropertyNames(n),l=0;l<c.length;++l){var f=c[l],h=Object.getOwnPropertyDescriptor(n,f);h&&(h.get||h.set)?Object.defineProperty(s,f,h):s[f]=t.clone(n[f],r)}return s},t.merge=function(n,r,o,s){if(t.assert(n&&"object"===(void 0===n?"undefined":i(n)),"Invalid target value: must be an object"),t.assert(null==r||"object"===(void 0===r?"undefined":i(r)),"Invalid source value: must be null, undefined, or an object"),!r)return n;if(Array.isArray(r)){t.assert(Array.isArray(n),"Cannot merge array onto an object"),!1===s&&(n.length=0);for(var a=0;a<r.length;++a)n.push(t.clone(r[a]));return n}for(var u=Object.keys(r),c=0;c<u.length;++c){var l=u[c];if("__proto__"!==l){var f=r[l];f&&"object"===(void 0===f?"undefined":i(f))?!n[l]||"object"!==i(n[l])||Array.isArray(n[l])!==Array.isArray(f)||f instanceof Date||e.isBuffer(f)||f instanceof RegExp?n[l]=t.clone(f):t.merge(n[l],f,o,s):null!=f?n[l]=f:!1!==o&&(n[l]=f)}}return n},t.applyToDefaults=function(e,n,r){if(t.assert(e&&"object"===(void 0===e?"undefined":i(e)),"Invalid defaults value: must be an object"),t.assert(!n||!0===n||"object"===(void 0===n?"undefined":i(n)),"Invalid options value: must be true, falsy or an object"),!n)return null;var o=t.clone(e);return!0===n?o:t.merge(o,n,!0===r,!1)},t.cloneWithShallow=function(e,n){if(!e||"object"!==(void 0===e?"undefined":i(e)))return e;var r=l.store(e,n),o=t.clone(e);return l.restore(o,e,r),o},l.store=function(e,n){for(var r={},i=0;i<n.length;++i){var o=n[i],s=t.reach(e,o);void 0!==s&&(r[o]=s,l.reachSet(e,o,void 0))}return r},l.restore=function(e,t,n){for(var r=Object.keys(n),i=0;i<r.length;++i){var o=r[i];l.reachSet(e,o,n[o]),l.reachSet(t,o,n[o])}},l.reachSet=function(e,t,n){for(var r=t.split("."),i=e,o=0;o<r.length;++o){var s=r[o];o+1===r.length&&(i[s]=n),i=i[s]}},t.applyToDefaultsWithShallow=function(e,n,r){if(t.assert(e&&"object"===(void 0===e?"undefined":i(e)),"Invalid defaults value: must be an object"),t.assert(!n||!0===n||"object"===(void 0===n?"undefined":i(n)),"Invalid options value: must be true, falsy or an object"),t.assert(r&&Array.isArray(r),"Invalid keys"),!n)return null;var o=t.cloneWithShallow(e,r);if(!0===n)return o;var s=l.store(n,r);return t.merge(o,n,!1,!1),l.restore(o,n,s),o},t.deepEqual=function(n,r,o,s){o=o||{prototype:!0};var a=void 0===n?"undefined":i(n);if(a!==(void 0===r?"undefined":i(r)))return!1;if("object"!==a||null===n||null===r)return n===r?0!==n||1/n==1/r:n!=n&&r!=r;if(-1!==(s=s||[]).indexOf(n))return!0;if(s.push(n),Array.isArray(n)){if(!Array.isArray(r))return!1;if(!o.part&&n.length!==r.length)return!1;for(var u=0;u<n.length;++u){if(o.part){for(var c=!1,l=0;l<r.length;++l)if(t.deepEqual(n[u],r[l],o)){c=!0;break}return c}if(!t.deepEqual(n[u],r[u],o))return!1}return!0}if(e.isBuffer(n)){if(!e.isBuffer(r))return!1;if(n.length!==r.length)return!1;for(var f=0;f<n.length;++f)if(n[f]!==r[f])return!1;return!0}if(n instanceof Date)return r instanceof Date&&n.getTime()===r.getTime();if(n instanceof RegExp)return r instanceof RegExp&&n.toString()===r.toString();if(o.prototype&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(r))return!1;var h=Object.getOwnPropertyNames(n);if(!o.part&&h.length!==Object.getOwnPropertyNames(r).length)return!1;for(var p=0;p<h.length;++p){var d=h[p],y=Object.getOwnPropertyDescriptor(n,d);if(y.get){if(!t.deepEqual(y,Object.getOwnPropertyDescriptor(r,d),o,s))return!1}else if(!t.deepEqual(n[d],r[d],o,s))return!1}return!0},t.unique=function(e,t){var n=void 0;if(t){n=[];var r=new Set;e.forEach((function(e){var i=e[t];r.has(i)||(r.add(i),n.push(e))}))}else n=Array.from(new Set(e));return n},t.mapToObject=function(e,t){if(!e)return null;for(var n={},r=0;r<e.length;++r)t?e[r][t]&&(n[e[r][t]]=!0):n[e[r]]=!0;return n},t.intersect=function(e,n,r){if(!e||!n)return[];for(var i=[],o=Array.isArray(e)?t.mapToObject(e):e,s={},a=0;a<n.length;++a)if(o[n[a]]&&!s[n[a]]){if(r)return n[a];i.push(n[a]),s[n[a]]=!0}return r?null:i},t.contain=function(e,n,r){var o=null;"object"!==(void 0===e?"undefined":i(e))||"object"!==(void 0===n?"undefined":i(n))||Array.isArray(e)||Array.isArray(n)?n=[].concat(n):(o=n,n=Object.keys(n)),r=r||{},t.assert("string"==typeof e||"object"===(void 0===e?"undefined":i(e)),"Reference must be string or an object"),t.assert(n.length,"Values array cannot be empty");var s=void 0,a=void 0;if(r.deep){s=t.deepEqual;var u=r.hasOwnProperty("only"),c=r.hasOwnProperty("part");a={prototype:u?r.only:!!c&&!r.part,part:u?!r.only:!c||r.part}}else s=function(e,t){return e===t};for(var l=!1,f=new Array(n.length),h=0;h<f.length;++h)f[h]=0;if("string"==typeof e){for(var p="(",d=0;d<n.length;++d){var y=n[d];t.assert("string"==typeof y,"Cannot compare string reference to non-string value"),p+=(d?"|":"")+t.escapeRegex(y)}var g=new RegExp(p+")","g");l=!!e.replace(g,(function(e,t){var r=n.indexOf(t);return++f[r],""}))}else if(Array.isArray(e))for(var b=0;b<e.length;++b){for(var m=!1,v=0;v<n.length&&!1===m;++v)m=s(n[v],e[b],a)&&v;!1!==m?++f[m]:l=!0}else for(var w=Object.getOwnPropertyNames(e),k=0;k<w.length;++k){var _=w[k],S=n.indexOf(_);if(-1!==S){if(o&&!s(o[_],e[_],a))return!1;++f[S]}else l=!0}for(var E=!1,x=0;x<f.length;++x)if(E=E||!!f[x],r.once&&f[x]>1||!r.part&&!f[x])return!1;return(!r.only||!l)&&E},t.flatten=function(e,n){for(var r=n||[],i=0;i<e.length;++i)Array.isArray(e[i])?t.flatten(e[i],r):r.push(e[i]);return r},t.reach=function(e,n,r){if(!1===n||null==n)return e;"string"==typeof(r=r||{})&&(r={separator:r});for(var o=n.split(r.separator||"."),s=e,a=0;a<o.length;++a){var u=o[a];if("-"===u[0]&&Array.isArray(s)&&(u=u.slice(1,u.length),u=s.length-u),!s||"object"!==(void 0===s?"undefined":i(s))&&"function"!=typeof s||!(u in s)||"object"!==(void 0===s?"undefined":i(s))&&!1===r.functions){t.assert(!r.strict||a+1===o.length,"Missing segment",u,"in reach path ",n),t.assert("object"===(void 0===s?"undefined":i(s))||!0===r.functions||"function"!=typeof s,"Invalid segment",u,"in reach path ",n),s=r.default;break}s=s[u]}return s},t.reachTemplate=function(e,n,r){return n.replace(/{([^}]+)}/g,(function(n,i){var o=t.reach(e,i,r);return null==o?"":o}))},t.formatStack=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push([r.getFileName(),r.getLineNumber(),r.getColumnNumber(),r.getFunctionName(),r.isConstructor()])}return t},t.formatTrace=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push((r[4]?"new ":"")+r[3]+" ("+r[0]+":"+r[1]+":"+r[2]+")")}return t},t.callStack=function(e){var n=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var r={};Error.captureStackTrace(r,this);var i=r.stack;return Error.prepareStackTrace=n,t.formatStack(i).slice(1+e)},t.displayStack=function(e){var n=t.callStack(void 0===e?1:e+1);return t.formatTrace(n)},t.abortThrow=!1,t.abort=function(e,n){if("test"===r.env.NODE_ENV||!0===t.abortThrow)throw new Error(e||"Unknown error");var i="";n||(i=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+i),r.exit(1)},t.assert=function(e){if(!e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];var s=r.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)}));throw new o.AssertionError({message:s.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})}},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(n,r){return t.assert("string"==typeof n||e.isBuffer(n),"value must be string or buffer"),(e.isBuffer(n)?n:e.from(n,r||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(t,n){if("string"!=typeof t)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(t))throw new Error("Invalid character");var r=e.from(t,"base64");return"buffer"===n?r:r.toString(n||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return c.escapeHtml(e)},t.escapeJavaScript=function(e){return c.escapeJavaScript(e)},t.escapeJson=function(e){return c.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;var t=!1,n=function(){if(!t){t=!0;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(null,r)}};return n._hoekOnce=!0,n},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=u.inherits,t.format=u.format,t.transform=function(e,n,r){t.assert(null==e||"object"===(void 0===e?"undefined":i(e))||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");var o="object"===(void 0===r?"undefined":i(r))&&null!==r&&r.separator||".";if(Array.isArray(e)){for(var s=[],a=0;a<e.length;++a)s.push(t.transform(e[a],n,r));return s}for(var u={},c=Object.keys(n),l=0;l<c.length;++l){var f=c[l],h=f.split(o),p=n[f];t.assert("string"==typeof p,'All mappings must be "." delineated strings');for(var d=void 0,y=u;h.length>1;)y[d=h.shift()]||(y[d]={}),y=y[d];y[d=h.shift()]=t.reach(e,p,r)}return u},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=a.resolve(e);var n=[Date.now(),r.pid,s.randomBytes(8).toString("hex")].join("-")+t;return a.join(e,n)},t.stringify=function(){try{for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify.apply(null,t)}catch(r){return"[Cannot display object: "+r.message+"]"}},t.shallow=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];t[i]=e[i]}return t},t.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.block=function(){return new Promise(t.ignore)}}).call(t,n(3).Buffer,n(7))},function(e,t,n){var r=n(0);t.create=function(e,t){r.assert("string"==typeof e,"Invalid reference key:",e);var n=r.clone(t),i=function e(t,i){return r.reach(e.isContext?i.context:t,e.key,n)};return i.isContext=e[0]===(n&&n.contextPrefix||"$"),i.key=i.isContext?e.slice(1):e,i.path=i.key.split(n&&n.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,n){t.isRef(n)&&!n.isContext&&e.push(n.root)}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=n(11),a=n(1),u=n(6),c=null,l=null,f={Set:n(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=f.Any=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l=l||n(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new f.Set,this._invalids=new f.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return e.prototype._init=function(){return this},e.prototype.createError=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return u.create(e,t,n,r,i)},e.prototype.createOverrideError=function(e,t,n,r,i,o){return u.create(e,t,n,r,this._flags,i,o)},e.prototype.checkOptions=function(e){var t=n(21).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)},e.prototype.clone=function(){var e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=o.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};for(var t=Object.keys(this._inner),n=0;n<t.length;++n){var r=t[n];e._inner[r]=this._inner[r]?this._inner[r].slice():null}return e},e.prototype.concat=function(e){o.assert(e instanceof f.Any,"Invalid schema object"),o.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);var t=this.clone();if("any"===this._type&&"any"!==e._type){for(var n=e.clone(),r=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],i=0;i<r.length;++i)n[r[i]]=t[r[i]];t=n}t._settings=t._settings?s.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),o.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);for(var a=Object.keys(e._inner),u="object"===t._type,c=0;c<a.length;++c){var l=a[c],h=e._inner[l];if(h){var p=t._inner[l];if(p)if(u&&"children"===l){for(var d={},y=0;y<p.length;++y)d[p[y].key]=y;for(var g=0;g<h.length;++g){var b=h[g].key;d[b]>=0?p[d[b]]={key:b,schema:p[d[b]].schema.concat(h[g].schema)}:p.push(h[g])}}else t._inner[l]=t._inner[l].concat(h);else t._inner[l]=h.slice()}}return t},e.prototype._test=function(e,t,n,r){var i=this.clone();return i._tests.push({func:n,name:e,arg:t,options:r}),i},e.prototype.options=function(e){o.assert(!e.context,"Cannot override context"),this.checkOptions(e);var t=this.clone();return t._settings=s.concat(t._settings,e),t},e.prototype.strict=function(e){var t=this.clone(),n=void 0!==e&&!e;return t._settings=s.concat(t._settings,{convert:n}),t},e.prototype.raw=function(e){var t=void 0===e||e;if(this._flags.raw===t)return this;var n=this.clone();return n._flags.raw=t,n},e.prototype.error=function(e){o.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");var t=this.clone();return t._flags.error=e,t},e.prototype.allow=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.clone();t=o.flatten(t);for(var i=0;i<t.length;++i){var s=t[i];o.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r._invalids.remove(s),r._valids.add(s,r._refs)}return r},e.prototype.valid=function(){var e=this.allow.apply(this,arguments);return e._flags.allowOnly=!0,e},e.prototype.invalid=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.clone();t=o.flatten(t);for(var i=0;i<t.length;++i){var s=t[i];o.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r._valids.remove(s),r._invalids.add(s,r._refs)}return r},e.prototype.required=function(){if("required"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="required",e},e.prototype.optional=function(){if("optional"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="optional",e},e.prototype.forbidden=function(){if("forbidden"===this._flags.presence)return this;var e=this.clone();return e._flags.presence="forbidden",e},e.prototype.strip=function(){if(this._flags.strip)return this;var e=this.clone();return e._flags.strip=!0,e},e.prototype.applyFunctionToChildren=function(e,t,n,r){if(1!==(e=[].concat(e)).length||""!==e[0]){r=r?r+".":"";var i=(""===e[0]?e.slice(1):e).map((function(e){return r+e}));throw new Error("unknown key(s) "+i.join(", "))}return this[t].apply(this,n)},e.prototype.default=function(e,t){"function"!=typeof e||a.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||o.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));var n=this.clone();return n._flags.default=e,a.push(n._refs,e),n},e.prototype.empty=function(e){var t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=l.schema(this._currentJoi,e),t},e.prototype.when=function(e,t){o.assert(t&&"object"===(void 0===t?"undefined":r(t)),"Invalid options"),o.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var i=t.hasOwnProperty("then")?this.concat(l.schema(this._currentJoi,t.then)):void 0,s=t.hasOwnProperty("otherwise")?this.concat(l.schema(this._currentJoi,t.otherwise)):void 0;c=c||n(10);var a={then:i,otherwise:s};Object.prototype.hasOwnProperty.call(t,"is")&&(a.is=t.is);var u=c.when(e,a);return u._flags.presence="ignore",u._baseType=this,u},e.prototype.description=function(e){o.assert(e&&"string"==typeof e,"Description must be a non-empty string");var t=this.clone();return t._description=e,t},e.prototype.notes=function(e){o.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");var t=this.clone();return t._notes=t._notes.concat(e),t},e.prototype.tags=function(e){o.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");var t=this.clone();return t._tags=t._tags.concat(e),t},e.prototype.meta=function(e){o.assert(void 0!==e,"Meta cannot be undefined");var t=this.clone();return t._meta=t._meta.concat(e),t},e.prototype.example=function(){o.assert(1===arguments.length,"Missing example");var e=arguments.length<=0?void 0:arguments[0],t=this.clone();return t._examples.push(e),t},e.prototype.unit=function(e){o.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");var t=this.clone();return t._unit=e,t},e.prototype._prepareEmptyValue=function(e){return"string"==typeof e&&this._flags.trim?e.trim():e},e.prototype._validate=function(e,t,n,r){var i=this,c=e;t=t||{key:"",path:[],parent:null,reference:r},this._settings&&(n=s.concat(n,this._settings));var l=[],h=function(){var r=void 0;if(void 0!==e)r=i._flags.raw?c:e;else if(n.noDefaults)r=e;else if(a.isRef(i._flags.default))r=i._flags.default(t.parent,n);else if("function"!=typeof i._flags.default||i._flags.func&&!i._flags.default.description)r=o.clone(i._flags.default);else{var s=void 0;null!==t.parent&&i._flags.default.length>0&&(s=[o.clone(t.parent),n]);var u=f._try(i._flags.default,s);r=u.value,u.error&&l.push(i.createError("any.default",{error:u.error},t,n))}if(l.length&&"function"==typeof i._flags.error){var h=i._flags.error.call(i,l);l="string"==typeof h?[i.createOverrideError("override",{reason:l},t,n,h)]:[].concat(h).map((function(e){return e instanceof Error?e:i.createOverrideError(e.type||"override",e.context,t,n,e.message,e.template)}))}return{value:i._flags.strip?void 0:r,finalValue:r,errors:l.length?l:null}};if(this._coerce){var p=this._coerce.call(this,e,t,n);if(p.errors)return e=p.value,l=l.concat(p.errors),h();e=p.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,f.defaults).errors&&(e=void 0);var d=this._flags.presence||n.presence;if("optional"===d){if(void 0===e){if(!this._flags.hasOwnProperty("default")||void 0!==this._flags.default||"object"!==this._type)return h();e={}}}else{if("required"===d&&void 0===e)return l.push(this.createError("any.required",null,t,n)),h();if("forbidden"===d)return void 0===e?h():(l.push(this.createError("any.unknown",null,t,n)),h())}if(this._valids.has(e,t,n,this._flags.insensitive))return h();if(this._invalids.has(e,t,n,this._flags.insensitive)&&(l.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,n)),n.abortEarly||void 0===e))return h();if(this._base){var y=this._base.call(this,e,t,n);if(y.errors)return e=y.value,l=l.concat(y.errors),h();if(y.value!==e){if(e=y.value,this._valids.has(e,t,n,this._flags.insensitive))return h();if(this._invalids.has(e,t,n,this._flags.insensitive)&&(l.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,n)),n.abortEarly))return h()}}if(this._flags.allowOnly&&(l.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,n)),n.abortEarly))return h();for(var g=0;g<this._tests.length;++g){var b=this._tests[g].func.call(this,e,t,n);if(b instanceof u.Err){if(l.push(b),n.abortEarly)return h()}else e=b}return h()},e.prototype._validateWithOptions=function(e,t,n){t&&this.checkOptions(t);var r=s.concat(f.defaults,t),i=this._validate(e,null,r),o=u.process(i.errors,e);return n?n(o,i.value):{error:o,value:i.value,then:function(e,t){return o?Promise.reject(o).catch(t):Promise.resolve(i.value).then(e)},catch:function(e){return o?Promise.reject(o).catch(e):Promise.resolve(i.value)}}},e.prototype.validate=function(e,t,n){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,n)},e.prototype.describe=function(){var e=this,t={type:this._type},n=Object.keys(this._flags);if(n.length)if(["empty","default","lazy","label"].some((function(t){return e._flags.hasOwnProperty(t)}))){t.flags={};for(var r=0;r<n.length;++r){var i=n[r];"empty"===i?t.flags[i]=this._flags[i].describe():"default"===i?a.isRef(this._flags[i])?t.flags[i]=this._flags[i].toString():"function"==typeof this._flags[i]?t.flags[i]={description:this._flags[i].description,function:this._flags[i]}:t.flags[i]=this._flags[i]:"lazy"===i||"label"===i||(t.flags[i]=this._flags[i])}}else t.flags=this._flags;this._settings&&(t.options=o.clone(this._settings)),this._baseType&&(t.base=this._baseType.describe()),this._description&&(t.description=this._description),this._notes.length&&(t.notes=this._notes),this._tags.length&&(t.tags=this._tags),this._meta.length&&(t.meta=this._meta),this._examples.length&&(t.examples=this._examples),this._unit&&(t.unit=this._unit);var s=this._valids.values();s.length&&(t.valids=s.map((function(e){return a.isRef(e)?e.toString():e})));var u=this._invalids.values();u.length&&(t.invalids=u.map((function(e){return a.isRef(e)?e.toString():e}))),t.rules=[];for(var c=0;c<this._tests.length;++c){var l=this._tests[c],f={name:l.name};void 0!==l.arg&&(f.arg=a.isRef(l.arg)?l.arg.toString():l.arg);var h=l.options;if(h){if(h.hasRef){f.arg={};for(var p=Object.keys(l.arg),d=0;d<p.length;++d){var y=p[d],g=l.arg[y];f.arg[y]=a.isRef(g)?g.toString():g}}"string"==typeof h.description?f.description=h.description:"function"==typeof h.description&&(f.description=h.description(f.arg))}t.rules.push(f)}t.rules.length||delete t.rules;var b=this._getLabel();return b&&(t.label=b),t},e.prototype.label=function(e){o.assert(e&&"string"==typeof e,"Label name must be a non-empty string");var t=this.clone();return t._flags.label=e,t},e.prototype._getLabel=function(e){return this._flags.label||e},i(e,[{key:"schemaType",get:function(){return this._type}}]),e}(),f.Any.prototype.isImmutable=!0,f.Any.prototype.only=f.Any.prototype.equal=f.Any.prototype.valid,f.Any.prototype.disallow=f.Any.prototype.not=f.Any.prototype.invalid,f.Any.prototype.exist=f.Any.prototype.required,f._try=function(e,t){var n=void 0,r=void 0;try{r=e.apply(null,t)}catch(i){n=i}return{value:r,error:n}}},function(e,t,n){(function(e){var r=n(33),i=n(34),o=n(35);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return F(U(t,e.length-n),e,n,r)}function k(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return k(e,t,n,r)}function S(e,t,n,r){return F(z(t),e,n,r)}function E(e,t,n,r){return F(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=t;s<n;++s)o+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return o}function T(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);C(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:U(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(t,n(5))},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),o=n(1);t.schema=function(e,t){return null!=t&&"object"===(void 0===t?"undefined":r(t))?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):o.isRef(t)?e.valid(t):(i.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return o.isRef(e)?e:o.create(e)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),o=n(20),s={annotations:Symbol("joi-annotations"),stringify:function(e,n){var i=void 0===e?"undefined":r(e);if(null===e)return"null";if("string"===i)return e;if(e instanceof t.Err||"function"===i||"symbol"===i)return e.toString();if("object"===i){if(Array.isArray(e)){for(var o="",a=0;a<e.length;++a)o=o+(o.length?", ":"")+s.stringify(e[a],n);return n?"["+o+"]":o}return e.toString()}return JSON.stringify(e)}};t.Err=function(){function e(t,n,r,i,s,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isJoi=!0,this.type=t,this.context=n||{},this.context.key=r.path[r.path.length-1],this.context.label=r.key,this.path=r.path,this.options=i,this.flags=s,this.message=a,this.template=u;var c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||o.errors.root)}return e.prototype.toString=function(){var e=this;if(this.message)return this.message;var t=void 0;this.template&&(t=this.template);var n=this.options.language;if(void 0===(t=t||i.reach(n,this.type)||i.reach(o.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var r=i.reach(n,"messages.wrapArrays");if("boolean"!=typeof r&&(r=o.errors.messages.wrapArrays),null===t){var a=s.stringify(this.context.reason,r);return r?a.slice(1,-1):a}var u=/\{\{\!?label\}\}/.test(t),c=t.length>2&&"!"===t[0]&&"!"===t[1];if(c&&(t=t.slice(2)),!u&&!c){var l=i.reach(n,"key");t="string"==typeof l?l+t:i.reach(o.errors,"key")+t}return t.replace(/\{\{(\!?)([^}]+)\}\}/g,(function(t,n,o){var a=i.reach(e.context,o),u=s.stringify(a,r);return n&&e.options.escapeHtml?i.escapeHtml(u):u}))},e}(),t.create=function(e,n,r,i,o,s,a){return new t.Err(e,n,r,i,o,s,a)},t.process=function(e,t){if(!e||!e.length)return null;var n="",r=[],i=function e(t,i){for(var o=0;o<t.length;++o){var s=t[o];if(s instanceof Error)return s;if(s.flags.error&&"function"!=typeof s.flags.error)return s.flags.error;var a=void 0;if(void 0===i&&(a=s.toString(),n=n+(n?". ":"")+a),s.context.reason&&s.context.reason.length){var u=e(s.context.reason,s.path);if(u)return u}else r.push({message:a||s.toString(),path:s.path,type:s.type,context:s.context})}}(e);if(i)return i;var o=new Error(n);return o.isJoi=!0,o.name="ValidationError",o.details=r,o._object=t,o.annotate=s.annotate,o},s.safeStringify=function(e,t){return JSON.stringify(e,s.serializer(),t)},s.serializer=function(){var e=[],t=[],n=function(n,r){return t[0]===r?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(r)).join(".")+"]"};return function(i,o){if(t.length>0){var a=t.indexOf(this);~a?(t.length=a+1,e.length=a+1,e[a]=i):(t.push(this),e.push(i)),~t.indexOf(o)&&(o=n.call(this,i,o))}else t.push(o);if(o){var u=o[s.annotations];if(u){if(Array.isArray(o)){for(var c=[],l=0;l<o.length;++l)u.errors[l]&&c.push("_$idx$_"+u.errors[l].sort().join(", ")+"_$end$_"),c.push(o[l]);o=c}else{for(var f=Object.keys(u.errors),h=0;h<f.length;++h){var p=f[h];o[p+"_$key$_"+u.errors[p].sort().join(", ")+"_$end$_"]=o[p],o[p]=void 0}for(var d=Object.keys(u.missing),y=0;y<d.length;++y){var g=d[y];o["_$miss$_"+g+"|"+u.missing[g]+"_$end$_"]="__missing__"}}return o}}return o===1/0||o===-1/0||Number.isNaN(o)||"function"==typeof o||"symbol"===(void 0===o?"undefined":r(o))?"["+o.toString()+"]":o}},s.annotate=function(e){var t=e?"":"[31m",n=e?"":"[41m",o=e?"":"[0m";if("object"!==r(this._object))return this.details[0].message;for(var a=i.clone(this._object||{}),u=this.details.length-1;u>=0;--u)for(var c=u+1,l=this.details[u],f=l.path,h=a,p=0;;++p){var d=f[p];if(h.isImmutable&&(h=h.clone()),!(p+1<f.length&&h[d]&&"string"!=typeof h[d])){var y=h[s.annotations]=h[s.annotations]||{errors:{},missing:{}},g=h[d],b=d||l.context.label;void 0!==g?(y.errors[b]=y.errors[b]||[],y.errors[b].push(c)):y.missing[b]=c;break}h=h[d]}var m=/_\$key\$_([, \d]+)_\$end\$_\"/g,v=/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,w=/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,k=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,_=s.safeStringify(a,2).replace(m,(function(e,n){return'" '+t+"["+n+"]"+o})).replace(v,(function(e,r,i){return n+'"'+r+'"'+o+t+" ["+i+"]: -- missing --"+o})).replace(w,(function(e,n,r){return"\n"+r+" "+t+"["+n+"]"+o})).replace(k,(function(e,t){return t}));_=_+"\n"+t;for(var S=0;S<this.details.length;++S)_=_+"\n["+(S+1)+"] "+this.details[S].message;return _+=o}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var u=n(0),c=n(2),l=n(4),f=n(6),h=n(26),p=n(1),d=n(11),y={alternatives:n(10),array:n(22),boolean:n(24),binary:n(23),date:n(12),func:n(25),number:n(27),object:n(13),string:n(28),callWithDefaults:function(e,t){var n;return u.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,(n=e)._init.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))},root:function(){var e=new c,t=e.clone();return c.prototype._currentJoi=t,t._currentJoi=t,t.any=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return u.assert(0===n.length,"Joi.any() does not allow arguments."),y.callWithDefaults.call(this,e,n)},t.alternatives=t.alt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.callWithDefaults.call(this,y.alternatives,t)},t.array=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.array() does not allow arguments."),y.callWithDefaults.call(this,y.array,t)},t.boolean=t.bool=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.boolean() does not allow arguments."),y.callWithDefaults.call(this,y.boolean,t)},t.binary=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.binary() does not allow arguments."),y.callWithDefaults.call(this,y.binary,t)},t.date=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.date() does not allow arguments."),y.callWithDefaults.call(this,y.date,t)},t.func=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.func() does not allow arguments."),y.callWithDefaults.call(this,y.func,t)},t.number=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.number() does not allow arguments."),y.callWithDefaults.call(this,y.number,t)},t.object=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.callWithDefaults.call(this,y.object,t)},t.string=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.assert(0===t.length,"Joi.string() does not allow arguments."),y.callWithDefaults.call(this,y.string,t)},t.ref=function(){return p.create.apply(p,arguments)},t.isRef=function(e){return p.isRef(e)},t.validate=function(n){var r,i=(r=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=r?void 0:arguments[r]),o="function"==typeof i?i:null,s=(arguments.length<=1?0:arguments.length-1)-(o?1:0);if(0===s)return e.validate(n,o);var a=2===s?arguments.length<=2?void 0:arguments[2]:{},u=t.compile(arguments.length<=1?void 0:arguments[1]);return u._validateWithOptions(n,a,o)},t.describe=function(){var n=arguments.length?t.compile(arguments.length<=0?void 0:arguments[0]):e;return n.describe()},t.compile=function(e){try{return l.schema(this,e)}catch(t){throw t.hasOwnProperty("path")&&(t.message=t.message+"("+t.path+")"),t}},t.assert=function(e,n,r){t.attempt(e,n,r)},t.attempt=function(e,n,r){var i=t.validate(e,n),o=i.error;if(o){if(!r)throw"function"==typeof o.annotate&&(o.message=o.annotate()),o;if(!(r instanceof Error))throw"function"==typeof o.annotate&&(o.message=r+" "+o.annotate()),o;throw r}return i.value},t.reach=function(e,t){return u.assert(e&&e instanceof c,"you must provide a joi schema"),u.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings"),function e(t,n){if(!n.length)return t;var r=t._inner.children;if(r)for(var i=n.shift(),o=0;o<r.length;++o){var s=r[o];if(s.key===i)return e(s.schema,n)}}(e,"string"==typeof t?t?t.split("."):[]:t.slice())},t.lazy=function(e){return h.set(e)},t.defaults=function(e){var t=this;u.assert("function"==typeof e,"Defaults must be a function");var n=Object.create(this.any());return n=e(n),u.assert(n&&n instanceof this.constructor,"defaults() must return a schema"),r(n,this,n.clone()),n._defaults=function(n){return t._defaults&&(n=t._defaults(n),u.assert(n instanceof t.constructor,"defaults() must return a schema")),n=e(n),u.assert(n instanceof t.constructor,"defaults() must return a schema"),n},n},t.extend=function(){for(var e=this,n=arguments.length,h=Array(n),g=0;g<n;g++)h[g]=arguments[g];var b=u.flatten(h);u.assert(b.length>0,"You need to provide at least one extension"),this.assert(b,t.extensionsSchema);var m=Object.create(this.any());r(m,this);for(var v=function(n){var h=b[n];"function"==typeof h&&(h=h(m)),e.assert(h,t.extensionSchema);var g=(h.base||e.any()).clone(),v=g.constructor,w=function(e){function t(){o(this,t);var n=s(this,e.call(this));return h.base&&r(n,g),n._type=h.name,h.language&&(n._settings=d.concat(n._settings,{language:i({},h.name,h.language)})),n}return a(t,e),t}(v);if(h.coerce&&(w.prototype._coerce=function(e,t,n){if(v.prototype._coerce){var r=v.prototype._coerce.call(this,e,t,n);if(r.errors)return r;e=r.value}var i=h.coerce.call(this,e,t,n);return i instanceof f.Err?{value:e,errors:i}:{value:i}}),h.pre&&(w.prototype._base=function(e,t,n){if(v.prototype._base){var r=v.prototype._base.call(this,e,t,n);if(r.errors)return r;e=r.value}var i=h.pre.call(this,e,t,n);return i instanceof f.Err?{value:e,errors:i}:{value:i}}),h.rules)for(var k=function(t){var n=h.rules[t],r=n.params?n.params instanceof c?n.params._inner.children.map((function(e){return e.key})):Object.keys(n.params):[],i=n.params?l.schema(e,n.params):null;w.prototype[n.name]=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(t.length>r.length)throw new Error("Unexpected number of arguments");for(var s=!1,a={},l=0;l<r.length;++l)a[r[l]]=t[l],!s&&p.isRef(t[l])&&(s=!0);i&&(a=m.attempt(a,i));var f=void 0;if(n.validate){var h=function(e,t,r){return n.validate.call(this,a,e,t,r)};f=this._test(n.name,a,h,{description:n.description,hasRef:s})}else f=this.clone();if(n.setup){var d=n.setup.call(f,a);void 0!==d&&(u.assert(d instanceof c,"Setup of extension Joi."+this._type+"()."+n.name+"() must return undefined or a Joi object"),f=d)}return f}},_=0;_<h.rules.length;++_)k(_);h.describe&&(w.prototype.describe=function(){var e=v.prototype.describe.call(this);return h.describe.call(this,e)});var S=new w;m[h.name]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.callWithDefaults.call(this,S,t)}},w=0;w<b.length;++w)v(w);return m},t.extensionSchema=y.object.keys({base:y.object.type(c,"Joi object"),name:y.string.required(),coerce:y.func.arity(3),pre:y.func.arity(3),language:y.object,describe:y.func.arity(1),rules:y.array.items(y.object.keys({name:y.string.required(),setup:y.func.arity(1),validate:y.func.arity(4),params:[y.object.pattern(/.*/,y.object.type(c,"Joi object")),y.object.type(y.object.constructor,"Joi object")],description:[y.string,y.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=y.array.items([y.object,y.func.arity(1)]).strict(),t.version=n(36).version,t}};e.exports=y.root()},function(e,t,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(1),s={extendedCheckForValue:function(e,n){var i=void 0===e?"undefined":r(e);if("object"===i){if(e instanceof Date)return function(t){return t instanceof Date&&e.getTime()===t.getTime()};if(t.isBuffer(e))return function(n){return t.isBuffer(n)&&e.length===n.length&&e.toString("binary")===n.toString("binary")}}else if(n&&"string"===i){var o=e.toLowerCase();return function(e){return"string"==typeof e&&o===e.toLowerCase()}}return null}};e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._set=new Set(t),this._hasRef=!1}return e.prototype.add=function(e,t){var n=o.isRef(e);return!n&&this.has(e,null,null,!1)?this:(void 0!==t&&o.push(t,e),this._set.add(e),this._hasRef|=n,this)},e.prototype.merge=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,s=e._set[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;this.add(a)}}catch(d){r=!0,i=d}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}var u=!0,c=!1,l=void 0;try{for(var f,h=t._set[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;this.remove(p)}}catch(d){c=!0,l=d}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}return this},e.prototype.remove=function(e){return this._set.delete(e),this},e.prototype.has=function(e,t,n,r){if(!this._set.size)return!1;var i=this._set.has(e);if(i)return i;var a=s.extendedCheckForValue(e,r);if(!a){if(t&&this._hasRef){var u=!0,c=!1,l=void 0;try{for(var f,h=this._set[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;if(o.isRef(p)&&(e===(p=p(t.reference||t.parent,n))||Array.isArray(p)&&p.includes(e)))return!0}}catch(d){c=!0,l=d}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}}return!1}return this._has(e,t,n,a)},e.prototype._has=function(e,t,n,r){var i=!(!t||!this._hasRef),s=function(t){return e===t||r(t)},a=!0,u=!1,c=void 0;try{for(var l,f=this._set[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var h=l.value;if(i&&o.isRef(h)&&(h=h(t.reference||t.parent,n),Array.isArray(h))){if(h.find(s))return!0}else if(s(h))return!0}}catch(p){u=!0,c=p}finally{try{!a&&f.return&&f.return()}finally{if(u)throw c}}return!1},e.prototype.values=function(e){if(e&&e.stripUndefined){var t=[],n=!0,r=!1,i=void 0;try{for(var o,s=this._set[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;void 0!==a&&t.push(a)}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t}return Array.from(this._set)},e.prototype.slice=function(){var t=new e(this._set);return t._hasRef=this._hasRef,t},e.prototype.concat=function(t){var n=new e([].concat(i(this._set),i(t._set)));return n._hasRef=!!(this._hasRef|t._hasRef),n},e}()}).call(t,n(3).Buffer)},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var o=n(0),s=n(2),a=n(4),u=n(1),c={};c.Alternatives=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="alternatives",n._invalids.remove(null),n._inner.matches=[],n}return i(t,e),t.prototype._init=function(){return arguments.length?this.try.apply(this,arguments):this},t.prototype._base=function(e,t,n){for(var r=[],i=this._inner.matches.length,o=this._baseType,s=0;s<i;++s){var a=this._inner.matches[s];if(a.schema){var u=a.schema._validate(e,t,n);if(!u.errors)return u;r=r.concat(u.errors)}else{var c=a.peek||a.is,l=a.is?a.ref(t.reference||t.parent,n):e;if(c._validate(l,null,n,t.parent).errors){if(a.otherwise)return a.otherwise._validate(e,t,n)}else if(a.then)return a.then._validate(e,t,n);if(s===i-1&&o)return o._validate(e,t,n)}}return r.length?{errors:this.createError("alternatives.child",{reason:r},t,n)}:{errors:this.createError("alternatives.base",null,t,n)}},t.prototype.try=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t=o.flatten(t),o.assert(t.length,"Cannot add other alternatives without at least one schema");for(var r=this.clone(),i=0;i<t.length;++i){var s=a.schema(this._currentJoi,t[i]);s._refs.length&&(r._refs=r._refs.concat(s._refs)),r._inner.matches.push({schema:s})}return r},t.prototype.when=function(e,t){var n=!1;o.assert(u.isRef(e)||"string"==typeof e||(n=e instanceof s),"Invalid condition:",e),o.assert(t,"Missing options"),o.assert("object"===(void 0===t?"undefined":r(t)),"Invalid options"),n?o.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):o.assert(t.hasOwnProperty("is"),'Missing "is" directive'),o.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');var i=this.clone(),c=void 0;n||(c=a.schema(this._currentJoi,t.is),null!==t.is&&(u.isRef(t.is)||t.is instanceof s)||(c=c.required()));var l={ref:n?null:a.ref(e),peek:n?e:null,is:c,then:void 0!==t.then?a.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?a.schema(this._currentJoi,t.otherwise):void 0};return i._baseType&&(l.then=l.then&&i._baseType.concat(l.then),l.otherwise=l.otherwise&&i._baseType.concat(l.otherwise)),n||(u.push(i._refs,l.ref),i._refs=i._refs.concat(l.is._refs)),l.then&&l.then._refs&&(i._refs=i._refs.concat(l.then._refs)),l.otherwise&&l.otherwise._refs&&(i._refs=i._refs.concat(l.otherwise._refs)),i._inner.matches.push(l),i},t.prototype.describe=function(){for(var e=s.prototype.describe.call(this),t=[],n=0;n<this._inner.matches.length;++n){var r=this._inner.matches[n];if(r.schema)t.push(r.schema.describe());else{var i=r.is?{ref:r.ref.toString(),is:r.is.describe()}:{peek:r.peek.describe()};r.then&&(i.then=r.then.describe()),r.otherwise&&(i.otherwise=r.otherwise.describe()),t.push(i)}}return e.alternatives=t,e},t}(s),e.exports=new c.Alternatives},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0);t.concat=function(e,t){if(!t)return e;for(var n=r({},e),o=Object.keys(t),s=0;s<o.length;++s){var a=o[s];"language"===a&&n.hasOwnProperty(a)?n[a]=i.applyToDefaults(n[a],t[a]):n[a]=t[a]}return n}},function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var i,o=n(2),s=n(1),a=n(0),u={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.invalidDate=new Date(""),u.isIsoDate=(i=u.isoDate.toString(),function(e){return e&&e.toString()===i}),u.Date=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="date",n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:n.convert&&u.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(r.value instanceof Date&&!isNaN(r.value.getTime()))r.errors=null;else if(n.convert){var i=void 0;i=u.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",r.errors=this.createError("date."+i,null,t,n)}else r.errors=this.createError("date.strict",null,t,n);return r},t.toDate=function(e,t,n,r){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){"string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e));var i=void 0;if(i=t&&u.isIsoDate(t)?t.test(e)?new Date(e):u.invalidDate:n&&r?/^\s*$/.test(e)?u.invalidDate:new Date(e*r):new Date(e),!isNaN(i.getTime()))return i}return null},t.prototype.iso=function(){if(this._flags.format===u.isoDate)return this;var e=this.clone();return e._flags.format=u.isoDate,e},t.prototype.timestamp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",t=["javascript","unix"];if(a.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;var n=this.clone();return n._flags.timestamp=e,n._flags.multiplier="unix"===e?1e3:1,n},t.prototype._isIsoDate=function(e){return u.isoDate.test(e)},t}(o),u.compare=function(e,t){return function(n){var r="now"===n,i=s.isRef(n);return r||i||(n=u.Date.toDate(n)),a.assert(n,"Invalid date format"),this._test(e,n,(function(o,s,a){var c=void 0;if(r)c=Date.now();else if(i){if(!(c=u.Date.toDate(n(s.reference||s.parent,a))))return this.createError("date.ref",{ref:n.key},s,a);c=c.getTime()}else c=n.getTime();return t(o.getTime(),c)?o:this.createError("date."+e,{limit:new Date(c)},s,a)}))}},u.Date.prototype.min=u.compare("min",(function(e,t){return e>=t})),u.Date.prototype.max=u.compare("max",(function(e,t){return e<=t})),u.Date.prototype.greater=u.compare("greater",(function(e,t){return e>t})),u.Date.prototype.less=u.compare("less",(function(e,t){return e<t})),e.exports=new u.Date},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var o=n(0),s=n(31),a=n(2),u=n(6),c=n(4),l={};l.Object=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="object",n._inner.children=null,n._inner.renames=[],n._inner.dependencies=[],n._inner.patterns=[],n}return i(t,e),t.prototype._init=function(){return arguments.length?this.keys.apply(this,arguments):this},t.prototype._base=function(e,t,n){var i=e,s=[],a=function(){return{value:i,errors:s.length?s:null}};"string"==typeof e&&n.convert&&(e=l.safeParse(e));var c=this._flags.func?"function":"object";if(!e||(void 0===e?"undefined":r(e))!==c||Array.isArray(e))return s.push(this.createError(c+".base",null,t,n)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=e,a();if(i===e){"object"===c?i=Object.create(Object.getPrototypeOf(e)):(i=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}).prototype=o.clone(e.prototype);for(var f=Object.keys(e),h=0;h<f.length;++h)i[f[h]]=e[f[h]]}else i=e;for(var p={},d=0;d<this._inner.renames.length;++d){var y=this._inner.renames[d];if(y.isRegExp){for(var g=Object.keys(i),b=[],m=0;m<g.length;++m)y.from.test(g[m])&&b.push(g[m]);var v=b.every((function(e){return void 0===i[e]}));if(y.options.ignoreUndefined&&v)continue;if(!y.options.multiple&&p[y.to]&&(s.push(this.createError("object.rename.regex.multiple",{from:b,to:y.to},t,n)),n.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(i,y.to)&&!y.options.override&&!p[y.to]&&(s.push(this.createError("object.rename.regex.override",{from:b,to:y.to},t,n)),n.abortEarly))return a();if(v?delete i[y.to]:i[y.to]=i[b[b.length-1]],p[y.to]=!0,!y.options.alias)for(var w=0;w<b.length;++w)delete i[b[w]]}else{if(y.options.ignoreUndefined&&void 0===i[y.from])continue;if(!y.options.multiple&&p[y.to]&&(s.push(this.createError("object.rename.multiple",{from:y.from,to:y.to},t,n)),n.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(i,y.to)&&!y.options.override&&!p[y.to]&&(s.push(this.createError("object.rename.override",{from:y.from,to:y.to},t,n)),n.abortEarly))return a();void 0===i[y.from]?delete i[y.to]:i[y.to]=i[y.from],p[y.to]=!0,y.options.alias||delete i[y.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return a();var k=new Set(Object.keys(i));if(this._inner.children){for(var _=[],S=0;S<this._inner.children.length;++S){var E=this._inner.children[S],x=E.key,A=i[x];k.delete(x);var O={key:x,path:t.path.concat(x),parent:i,reference:t.reference},j=E.schema._validate(A,O,n);if(j.errors){if(s.push(this.createError("object.child",{key:x,child:E.schema._getLabel(x),reason:j.errors},O,n)),n.abortEarly)return a()}else E.schema._flags.strip||void 0===j.value&&j.value!==A?(_.push(x),i[x]=j.finalValue):void 0!==j.value&&(i[x]=j.value)}for(var R=0;R<_.length;++R)delete i[_[R]]}if(k.size&&this._inner.patterns.length){var T=!0,P=!1,C=void 0;try{for(var I,L=k[Symbol.iterator]();!(T=(I=L.next()).done);T=!0)for(var D=I.value,B={key:D,path:t.path.concat(D),parent:i,reference:t.reference},N=i[D],M=0;M<this._inner.patterns.length;++M){var U=this._inner.patterns[M];if(U.regex?U.regex.test(D):!U.schema.validate(D).error){k.delete(D);var z=U.rule._validate(N,B,n);if(z.errors&&(s.push(this.createError("object.child",{key:D,child:U.rule._getLabel(D),reason:z.errors},B,n)),n.abortEarly))return a();i[D]=z.value}}}catch(ne){P=!0,C=ne}finally{try{!T&&L.return&&L.return()}finally{if(P)throw C}}}if(k.size&&(this._inner.children||this._inner.patterns.length)){if(n.stripUnknown&&!0!==this._flags.allowUnknown||n.skipFunctions){var F=!(!n.stripUnknown||!0!==n.stripUnknown&&!n.stripUnknown.objects),q=!0,W=!1,H=void 0;try{for(var V,Y=k[Symbol.iterator]();!(q=(V=Y.next()).done);q=!0){var $=V.value;F?(delete i[$],k.delete($)):"function"==typeof i[$]&&k.delete($)}}catch(ne){W=!0,H=ne}finally{try{!q&&Y.return&&Y.return()}finally{if(W)throw H}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!n.allowUnknown){var G=!0,J=!1,K=void 0;try{for(var X,Z=k[Symbol.iterator]();!(G=(X=Z.next()).done);G=!0){var Q=X.value;s.push(this.createError("object.allowUnknown",{child:Q},{key:Q,path:t.path.concat(Q)},n,{}))}}catch(ne){J=!0,K=ne}finally{try{!G&&Z.return&&Z.return()}finally{if(J)throw K}}}}for(var ee=0;ee<this._inner.dependencies.length;++ee){var te=this._inner.dependencies[ee],ne=l[te.type].call(this,null!==te.key&&i[te.key],te.peers,i,{key:te.key,path:null===te.key?t.path:t.path.concat(te.key)},n);if(ne instanceof u.Err&&(s.push(ne),n.abortEarly))return a()}return a()},t.prototype.keys=function(e){o.assert(null==e||"object"===(void 0===e?"undefined":r(e)),"Object schema must be a valid object"),o.assert(!(e&&e instanceof a),"Object schema cannot be a joi schema");var t=this.clone();if(!e)return t._inner.children=null,t;var n=Object.keys(e);if(!n.length)return t._inner.children=[],t;var i=new s;if(t._inner.children)for(var u=0;u<t._inner.children.length;++u){var l=t._inner.children[u];n.includes(l.key)||i.add(l,{after:l._refs,group:l.key})}for(var f=0;f<n.length;++f){var h=n[f],p=e[h];try{var d=c.schema(this._currentJoi,p);i.add({key:h,schema:d},{after:d._refs,group:h})}catch(y){throw y.hasOwnProperty("path")?y.path=h+"."+y.path:y.path=h,y}}return t._inner.children=i.nodes,t},t.prototype.append=function(e){return null==e||0===Object.keys(e).length?this:this.keys(e)},t.prototype.unknown=function(e){var t=!1!==e;if(this._flags.allowUnknown===t)return this;var n=this.clone();return n._flags.allowUnknown=t,n},t.prototype.length=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,n,r){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e},n,r)}))},t.prototype.min=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,n,r){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e},n,r)}))},t.prototype.max=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,n,r){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e},n,r)}))},t.prototype.pattern=function(e,t){var n=e instanceof RegExp;o.assert(n||e instanceof a,"pattern must be a regex or schema"),o.assert(void 0!==t,"Invalid rule"),n&&(e=new RegExp(e.source,e.ignoreCase?"i":void 0));try{t=c.schema(this._currentJoi,t)}catch(i){throw i.hasOwnProperty("path")&&(i.message=i.message+"("+i.path+")"),i}var r=this.clone();return n?r._inner.patterns.push({regex:e,rule:t}):r._inner.patterns.push({schema:e,rule:t}),r},t.prototype.schema=function(){return this._test("schema",null,(function(e,t,n){return e instanceof a?e:this.createError("object.schema",null,t,n)}))},t.prototype.with=function(e,t){return o.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)},t.prototype.without=function(e,t){return o.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)},t.prototype.xor=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this._dependency("xor",null,t)},t.prototype.or=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this._dependency("or",null,t)},t.prototype.and=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this._dependency("and",null,t)},t.prototype.nand=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this._dependency("nand",null,t)},t.prototype.requiredKeys=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this.applyFunctionToChildren(t,"required")},t.prototype.optionalKeys=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this.applyFunctionToChildren(t,"optional")},t.prototype.forbiddenKeys=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o.flatten(t),this.applyFunctionToChildren(t,"forbidden")},t.prototype.rename=function(e,t,n){o.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),o.assert("string"==typeof t,"Rename missing the to argument"),o.assert(t!==e,"Cannot rename key to same name:",e);for(var r=0;r<this._inner.renames.length;++r)o.assert(this._inner.renames[r].from!==e,"Cannot rename the same key multiple times");var i=this.clone();return i._inner.renames.push({from:e,to:t,options:o.applyToDefaults(l.renameDefaults,n||{}),isRegExp:e instanceof RegExp}),i},t.prototype.applyFunctionToChildren=function(e,t,n,r){e=[].concat(e),o.assert(e.length>0,"expected at least one children");var i=l.groupChildren(e),s=void 0;if(""in i?(s=this[t].apply(this,n),delete i[""]):s=this.clone(),s._inner.children){r=r?r+".":"";for(var a=0;a<s._inner.children.length;++a){var u=s._inner.children[a],c=i[u.key];c&&(s._inner.children[a]={key:u.key,_refs:u._refs,schema:u.schema.applyFunctionToChildren(c,t,n,r+u.key)},delete i[u.key])}}var f=Object.keys(i);return o.assert(0===f.length,"unknown key(s)",f.join(", ")),s},t.prototype._dependency=function(e,t,n){n=[].concat(n);for(var r=0;r<n.length;++r)o.assert("string"==typeof n[r],e,"peers must be a string or array of strings");var i=this.clone();return i._inner.dependencies.push({type:e,key:t,peers:n}),i},t.prototype.describe=function(e){var t=a.prototype.describe.call(this);if(t.rules)for(var n=0;n<t.rules.length;++n){var i=t.rules[n];i.arg&&"object"===r(i.arg)&&i.arg.schema&&i.arg.ref&&(i.arg={schema:i.arg.schema.describe(),ref:i.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(var s=0;s<this._inner.children.length;++s){var u=this._inner.children[s];t.children[u.key]=u.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=o.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(var c=0;c<this._inner.patterns.length;++c){var l=this._inner.patterns[c];l.regex?t.patterns.push({regex:l.regex.toString(),rule:l.rule.describe()}):t.patterns.push({schema:l.schema.describe(),rule:l.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=o.clone(this._inner.renames)),t},t.prototype.assert=function(e,t,n){e=c.ref(e),o.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),n=n||"pass the assertion test";try{t=c.schema(this._currentJoi,t)}catch(s){throw s.hasOwnProperty("path")&&(s.message=s.message+"("+s.path+")"),s}var r=e.path[e.path.length-1],i=e.path.join(".");return this._test("assert",{schema:t,ref:e},(function(s,a,u){if(!t._validate(e(s),null,u,s).errors)return s;var c=o.merge({},a);return c.key=r,c.path=e.path,this.createError("object.assert",{ref:i,message:n},c,u)}))},t.prototype.type=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name;o.assert("function"==typeof e,"type must be a constructor function");var n={name:t,ctor:e};return this._test("type",n,(function(t,r,i){return t instanceof e?t:this.createError("object.type",{type:n.name},r,i)}))},t}(a),l.safeParse=function(e){try{return JSON.parse(e)}catch(t){}return e},l.renameDefaults={alias:!1,multiple:!1,override:!1},l.groupChildren=function(e){e.sort();for(var t={},n=0;n<e.length;++n){var r=e[n];o.assert("string"==typeof r,"children must be strings");var i=r.split(".")[0];(t[i]=t[i]||[]).push(r.substring(i.length+1))}return t},l.keysToLabels=function(e,t){var n=e._inner.children;if(!n)return t;var r=function(e){var t=n.find((function(t){return t.key===e}));return t?t.schema._getLabel(e):e};return Array.isArray(t)?t.map(r):r(t)},l.with=function(e,t,n,r,i){if(void 0===e)return e;for(var o=0;o<t.length;++o){var s=t[o];if(!Object.prototype.hasOwnProperty.call(n,s)||void 0===n[s])return this.createError("object.with",{main:r.key,mainWithLabel:l.keysToLabels(this,r.key),peer:s,peerWithLabel:l.keysToLabels(this,s)},r,i)}return e},l.without=function(e,t,n,r,i){if(void 0===e)return e;for(var o=0;o<t.length;++o){var s=t[o];if(Object.prototype.hasOwnProperty.call(n,s)&&void 0!==n[s])return this.createError("object.without",{main:r.key,mainWithLabel:l.keysToLabels(this,r.key),peer:s,peerWithLabel:l.keysToLabels(this,s)},r,i)}return e},l.xor=function(e,t,n,r,i){for(var o=[],s=0;s<t.length;++s){var a=t[s];Object.prototype.hasOwnProperty.call(n,a)&&void 0!==n[a]&&o.push(a)}if(1===o.length)return e;var u={peers:t,peersWithLabels:l.keysToLabels(this,t)};return 0===o.length?this.createError("object.missing",u,r,i):this.createError("object.xor",u,r,i)},l.or=function(e,t,n,r,i){for(var o=0;o<t.length;++o){var s=t[o];if(Object.prototype.hasOwnProperty.call(n,s)&&void 0!==n[s])return e}return this.createError("object.missing",{peers:t,peersWithLabels:l.keysToLabels(this,t)},r,i)},l.and=function(e,t,n,r,i){for(var o=[],s=[],a=t.length,u=0;u<a;++u){var c=t[u];Object.prototype.hasOwnProperty.call(n,c)&&void 0!==n[c]?s.push(c):o.push(c)}if(o.length!==a&&s.length!==a)return this.createError("object.and",{present:s,presentWithLabels:l.keysToLabels(this,s),missing:o,missingWithLabels:l.keysToLabels(this,o)},r,i)},l.nand=function(e,t,n,r,i){for(var s=[],a=0;a<t.length;++a){var u=t[a];Object.prototype.hasOwnProperty.call(n,u)&&void 0!==n[u]&&s.push(u)}var c=o.clone(t),f=c.splice(0,1)[0];return s.length===t.length?this.createError("object.nand",{main:f,mainWithLabel:l.keysToLabels(this,f),peers:c,peersWithLabels:l.keysToLabels(this,c)},r,i):null},e.exports=new l.Object},function(e,t,n){var r={rfc3986:{},generate:function(){var e="|";r.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",r.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var t="a-zA-Z0-9-\\._~",n="!\\$&'\\(\\)\\*\\+,;=",i=t+"%0-9A-Fa-f"+n+":@",o="["+i+"]",s="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";r.rfc3986.IPv4address="(?:"+s+"\\.){3}"+s;var a="[0-9A-Fa-f]{1,4}",u="(?:"+a+":"+a+"|"+r.rfc3986.IPv4address+")",c="(?:"+a+":){6}"+u,l="::(?:"+a+":){5}"+u,f="(?:"+a+")?::(?:"+a+":){4}"+u,h="(?:(?:"+a+":){0,1}"+a+")?::(?:"+a+":){3}"+u,p="(?:(?:"+a+":){0,2}"+a+")?::(?:"+a+":){2}"+u,d="(?:(?:"+a+":){0,3}"+a+")?::"+a+":"+u,y="(?:(?:"+a+":){0,4}"+a+")?::"+u;r.rfc3986.IPv6address="(?:"+c+e+l+e+f+e+h+e+p+e+d+e+y+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+e+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",r.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+t+n+":]+",r.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var g="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?(?:\\[(?:"+r.rfc3986.IPv6address+e+r.rfc3986.IPvFuture+")\\]"+e+r.rfc3986.IPv4address+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})(?::[0-9]*)?",b=o+"+",m="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",v="\\/(?:"+b+m+")?";r.rfc3986.hierPart="(?:(?:\\/\\/"+g+m+")"+e+v+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",r.rfc3986.relativeRef="(?:(?:\\/\\/"+g+m+")"+e+v+e+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+e+")",r.rfc3986.query="["+i+"\\/\\?]*(?=#|$)",r.rfc3986.fragment="["+i+"\\/\\?]*"}};r.generate(),e.exports=r.rfc3986},function(e,t){},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])y(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,i){if(m(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return f(n)}var c,w="",E=!1,x=["{","}"];return p(n)&&(E=!0,x=["[","]"]),S(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(w=" "+RegExp.prototype.toString.call(n)),k(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+f(n)),0!==s.length||E&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)j(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return h(e,n,r,a,t,E)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,x)):x[0]+w+x[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),j(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=y(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function p(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function k(e){return w(e)&&"[object Date]"===E(e)}function _(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=d,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=v,t.isObject=w,t.isDate=k,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(40);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(39),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(5),n(7))},function(e,t,n){(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(16),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function l(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=b,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(u||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function b(e,t){e||g(e,!0,t,"==",f.ok)}function m(e,t,n,s){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(l(e)&&l(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),s=v(t);if(i&&!s||!i&&s)return!1;if(i)return e=a.call(e),t=a.call(t),m(e,t,n);var u,c,l=_(e),f=_(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(u=l[c],!m(e[u],t[u],n,r))return!1;return!0}(e,t,n,s))}return n?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var s="string"==typeof r,a=!e&&i&&!n;if((!e&&o.isError(i)&&s&&w(i,n)||a)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!w(i,n)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return d(y(e.actual),128)+" "+e.operator+" "+d(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=g,f.ok=b,f.equal=function(e,t,n){e!=t&&g(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){m(e,t,!1)||g(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){m(e,t,!0)||g(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){m(e,t,!1)&&g(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){m(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){k(!0,e,t,n)},f.doesNotThrow=function(e,t,n){k(!1,e,t,n)},f.ifError=function(e){if(e)throw e};var _=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(t,n(5))},function(e,t,n){(function(e){var n={};t.escapeJavaScript=function(e){if(!e)return"";for(var t="",r=0;r<e.length;++r){var i=e.charCodeAt(r);n.isSafe(i)?t+=e[r]:t+=n.escapeJavaScriptChar(i)}return t},t.escapeHtml=function(e){if(!e)return"";for(var t="",r=0;r<e.length;++r){var i=e.charCodeAt(r);n.isSafe(i)?t+=e[r]:t+=n.escapeHtmlChar(i)}return t},t.escapeJson=function(e){if(!e)return"";var t=void 0;return e.replace(/[<>&\u2028\u2029]/g,(function(e){return 60===(t=e.charCodeAt(0))?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029"}))},n.escapeJavaScriptChar=function(t){if(t>=256)return"\\u"+n.padLeft(""+t,4);var r=e.from(String.fromCharCode(t),"ascii").toString("hex");return"\\x"+n.padLeft(r,2)},n.escapeHtmlChar=function(t){var r=n.namedHtml[t];if(void 0!==r)return r;if(t>=256)return"&#"+t+";";var i=e.from(String.fromCharCode(t),"ascii").toString("hex");return"&#x"+n.padLeft(i,2)+";"},n.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){for(var e={},t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()}).call(t,n(3).Buffer)},function(e,t,n){(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(38),o={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};o.specials=function(){var e=new Array(256);e.fill(!1);for(var t=0;t<'()<>[]:;@\\,."'.length;++t)e['()<>[]:;@\\,."'.codePointAt(t)]=!0;return function(t){return e[t]}}(),o.c0Controls=function(){var e=new Array(256);e.fill(!1);for(var t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),o.c1Controls=function(){var e=new Array(256);e.fill(!1);for(var t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),o.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},o.normalizeSupportsNul="\0"==="\0".normalize("NFC"),o.nulNormalize=function(e){return e.split("\0").map((function(e){return e.normalize("NFC")})).join("\0")},o.normalize=function(e){return!o.normalizeSupportsNul&&e.indexOf("\0")>=0?o.nulNormalize(e):e.normalize("NFC")},o.checkIpV6=function(e){return e.every((function(e){return o.regex.ipV6.test(e)}))},o.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===o.indexOf.call(t.tldBlacklist,e):!o.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==o.indexOf.call(t.tldWhitelist,e):o.hasOwn.call(t.tldWhitelist,e)},t.validate=o.validate=function(t,n,s){n=n||{},t=o.normalize(t),"function"==typeof n&&(s=n,n={}),"function"!=typeof s&&(s=null);var a=void 0,u=void 0;if("number"==typeof n.errorLevel?(a=!0,u=n.errorLevel):(a=!!n.errorLevel,u=o.diagnoses.valid),n.tldWhitelist)if("string"==typeof n.tldWhitelist)n.tldWhitelist=[n.tldWhitelist];else if("object"!==r(n.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(n.tldBlacklist)if("string"==typeof n.tldBlacklist)n.tldBlacklist=[n.tldBlacklist];else if("object"!==r(n.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(n.minDomainAtoms&&(n.minDomainAtoms!==(0|+n.minDomainAtoms)||n.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var c=o.diagnoses.valid,l=function(e){e>c&&(c=e)};void 0!==n.allowUnicode&&!n.allowUnicode&&/[^\x00-\x7f]/.test(t)&&l(o.diagnoses.undesiredNonAscii);for(var f={now:o.components.localpart,prev:o.components.localpart,stack:[o.components.localpart]},h="",p={local:"",domain:""},d={locals:[""],domains:[""]},y=0,g=0,b=0,m=void 0,v=!1,w=!1,k=t.length,_=void 0,S=0;S<k;S+=_.length){switch(_=String.fromCodePoint(t.codePointAt(S)),f.now){case o.components.localpart:switch(_){case"(":0===g?l(0===y?o.diagnoses.cfwsComment:o.diagnoses.deprecatedComment):(l(o.diagnoses.cfwsComment),w=!0),f.stack.push(f.now),f.now=o.components.contextComment;break;case".":0===g?l(0===y?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):(w&&l(o.diagnoses.deprecatedLocalPart),w=!1,g=0,++y,p.local+=_,d.locals[y]="");break;case'"':0===g?(l(0===y?o.diagnoses.rfc5321QuotedString:o.diagnoses.deprecatedLocalPart),p.local+=_,d.locals[y]+=_,g+=e.byteLength(_,"utf8"),w=!0,f.stack.push(f.now),f.now=o.components.contextQuotedString):l(o.diagnoses.errExpectingATEXT);break;case"\r":if(k===++S||"\n"!==t[S]){l(o.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?l(0===y?o.diagnoses.cfwsFWS:o.diagnoses.deprecatedFWS):w=!0,f.stack.push(f.now),f.now=o.components.contextFWS,h=_;break;case"@":if(1!==f.stack.length)throw new Error("unexpected item on context stack");0===p.local.length?l(o.diagnoses.errNoLocalPart):0===g?l(o.diagnoses.errDotEnd):e.byteLength(p.local,"utf8")>64?l(o.diagnoses.rfc5322LocalTooLong):f.prev!==o.components.contextComment&&f.prev!==o.components.contextFWS||l(o.diagnoses.deprecatedCFWSNearAt),f.now=o.components.domain,f.stack[0]=o.components.domain,y=0,g=0,w=!1;break;default:if(w)switch(f.prev){case o.components.contextComment:case o.components.contextFWS:l(o.diagnoses.errATEXTAfterCFWS);break;case o.components.contextQuotedString:l(o.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+f.prev)}else f.prev=f.now,m=_.codePointAt(0),(o.specials(m)||o.c0Controls(m)||o.c1Controls(m))&&l(o.diagnoses.errExpectingATEXT),p.local+=_,d.locals[y]+=_,g+=e.byteLength(_,"utf8")}break;case o.components.domain:switch(_){case"(":0===g?l(0===y?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedComment):(w=!0,l(o.diagnoses.cfwsComment)),f.stack.push(f.now),f.now=o.components.contextComment;break;case".":var E=i.encode(d.domains[y]).length;0===g?l(0===y?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):v?l(o.diagnoses.errDomainHyphenEnd):E>63&&l(o.diagnoses.rfc5322LabelTooLong),w=!1,g=0,++y,d.domains[y]="",p.domain+=_;break;case"[":0===p.domain.length?(w=!0,g+=e.byteLength(_,"utf8"),f.stack.push(f.now),f.now=o.components.literal,p.domain+=_,d.domains[y]+=_,p.literal=""):l(o.diagnoses.errExpectingATEXT);break;case"\r":if(k===++S||"\n"!==t[S]){l(o.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?l(0===y?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedFWS):(l(o.diagnoses.cfwsFWS),w=!0),f.stack.push(f.now),f.now=o.components.contextFWS,h=_;break;default:if(w)switch(f.prev){case o.components.contextComment:case o.components.contextFWS:l(o.diagnoses.errATEXTAfterCFWS);break;case o.components.literal:l(o.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+f.prev)}m=_.codePointAt(0),v=!1,o.specials(m)||o.c0Controls(m)||o.c1Controls(m)?l(o.diagnoses.errExpectingATEXT):"-"===_?(0===g&&l(o.diagnoses.errDomainHyphenStart),v=!0):(m<48||m>122&&m<192||m>57&&m<65||m>90&&m<97)&&l(o.diagnoses.rfc5322Domain),p.domain+=_,d.domains[y]+=_,g+=e.byteLength(_,"utf8")}break;case o.components.literal:switch(_){case"]":if(c<o.categories.deprecated){var x=-1,A=p.literal,O=o.regex.ipV4.exec(A);if(O&&0!==(x=O.index)&&(A=A.slice(0,x)+"0:0"),0===x)l(o.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==A.slice(0,5).toLowerCase())l(o.diagnoses.rfc5322DomainLiteral);else{var j=A.slice(5),R=o.maxIPv6Groups,T=j.split(":");~(x=j.indexOf("::"))?x!==j.lastIndexOf("::")?l(o.diagnoses.rfc5322IPv62x2xColon):(0!==x&&x!==j.length-2||++R,T.length>R?l(o.diagnoses.rfc5322IPv6MaxGroups):T.length===R&&l(o.diagnoses.deprecatedIPv6)):T.length!==R&&l(o.diagnoses.rfc5322IPv6GroupCount),":"===j[0]&&":"!==j[1]?l(o.diagnoses.rfc5322IPv6ColonStart):":"===j[j.length-1]&&":"!==j[j.length-2]?l(o.diagnoses.rfc5322IPv6ColonEnd):o.checkIpV6(T)?l(o.diagnoses.rfc5321AddressLiteral):l(o.diagnoses.rfc5322IPv6BadCharacter)}}else l(o.diagnoses.rfc5322DomainLiteral);p.domain+=_,d.domains[y]+=_,g+=e.byteLength(_,"utf8"),f.prev=f.now,f.now=f.stack.pop();break;case"\\":l(o.diagnoses.rfc5322DomainLiteralOBSDText),f.stack.push(f.now),f.now=o.components.contextQuotedPair;break;case"\r":if(k===++S||"\n"!==t[S]){l(o.diagnoses.errCRNoLF);break}case" ":case"\t":l(o.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=o.components.contextFWS,h=_;break;default:if(127!==(m=_.codePointAt(0))&&o.c1Controls(m)||0===m||"["===_){l(o.diagnoses.errExpectingDTEXT);break}(o.c0Controls(m)||127===m)&&l(o.diagnoses.rfc5322DomainLiteralOBSDText),p.literal+=_,p.domain+=_,d.domains[y]+=_,g+=e.byteLength(_,"utf8")}break;case o.components.contextQuotedString:switch(_){case"\\":f.stack.push(f.now),f.now=o.components.contextQuotedPair;break;case"\r":if(k===++S||"\n"!==t[S]){l(o.diagnoses.errCRNoLF);break}case"\t":p.local+=" ",d.locals[y]+=" ",g+=e.byteLength(_,"utf8"),l(o.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=o.components.contextFWS,h=_;break;case'"':p.local+=_,d.locals[y]+=_,g+=e.byteLength(_,"utf8"),f.prev=f.now,f.now=f.stack.pop();break;default:127!==(m=_.codePointAt(0))&&o.c1Controls(m)||0===m||10===m?l(o.diagnoses.errExpectingQTEXT):(o.c0Controls(m)||127===m)&&l(o.diagnoses.deprecatedQTEXT),p.local+=_,d.locals[y]+=_,g+=e.byteLength(_,"utf8")}break;case o.components.contextQuotedPair:127!==(m=_.codePointAt(0))&&o.c1Controls(m)?l(o.diagnoses.errExpectingQPair):(m<31&&9!==m||127===m)&&l(o.diagnoses.deprecatedQP),f.prev=f.now,f.now=f.stack.pop();var P="\\"+_;switch(f.now){case o.components.contextComment:break;case o.components.contextQuotedString:p.local+=P,d.locals[y]+=P,g+=2;break;case o.components.literal:p.domain+=P,d.domains[y]+=P,g+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+f.now)}break;case o.components.contextComment:switch(_){case"(":f.stack.push(f.now),f.now=o.components.contextComment;break;case")":f.prev=f.now,f.now=f.stack.pop();break;case"\\":f.stack.push(f.now),f.now=o.components.contextQuotedPair;break;case"\r":if(k===++S||"\n"!==t[S]){l(o.diagnoses.errCRNoLF);break}case" ":case"\t":l(o.diagnoses.cfwsFWS),f.stack.push(f.now),f.now=o.components.contextFWS,h=_;break;default:if(0===(m=_.codePointAt(0))||10===m||127!==m&&o.c1Controls(m)){l(o.diagnoses.errExpectingCTEXT);break}(o.c0Controls(m)||127===m)&&l(o.diagnoses.deprecatedCTEXT)}break;case o.components.contextFWS:if("\r"===h){if("\r"===_){l(o.diagnoses.errFWSCRLFx2);break}++b>1?l(o.diagnoses.deprecatedFWS):b=1}switch(_){case"\r":k!==++S&&"\n"===t[S]||l(o.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===h&&l(o.diagnoses.errFWSCRLFEnd),b=0,f.prev=f.now,f.now=f.stack.pop(),--S}h=_;break;default:throw new Error("unknown context: "+f.now)}if(c>o.categories.rfc5322)break}if(c<o.categories.rfc5322){var C=i.encode(p.domain).length;if(f.now===o.components.contextQuotedString)l(o.diagnoses.errUnclosedQuotedString);else if(f.now===o.components.contextQuotedPair)l(o.diagnoses.errBackslashEnd);else if(f.now===o.components.contextComment)l(o.diagnoses.errUnclosedComment);else if(f.now===o.components.literal)l(o.diagnoses.errUnclosedDomainLiteral);else if("\r"===_)l(o.diagnoses.errFWSCRLFEnd);else if(0===p.domain.length)l(o.diagnoses.errNoDomain);else if(0===g)l(o.diagnoses.errDotEnd);else if(v)l(o.diagnoses.errDomainHyphenEnd);else if(C>255)l(o.diagnoses.rfc5322DomainTooLong);else if(e.byteLength(p.local,"utf8")+C+1>254)l(o.diagnoses.rfc5322TooLong);else if(g>63)l(o.diagnoses.rfc5322LabelTooLong);else if(n.minDomainAtoms&&d.domains.length<n.minDomainAtoms)l(o.diagnoses.errDomainTooShort);else if(n.tldWhitelist||n.tldBlacklist){var I=d.domains[y];o.validDomain(I,n)||l(o.diagnoses.errUnknownTLD)}}c<o.categories.dnsWarn&&d.domains[y].codePointAt(0)<=57&&l(o.diagnoses.rfc5321TLDNumeric),c<u&&(c=o.diagnoses.valid);var L=a?c:c<o.defaultThreshold;return s&&s(L),L},t.diagnoses=o.validate.diagnoses=function(){for(var e={},t=Object.keys(o.diagnoses),n=0;n<t.length;++n){var r=t[n];e[r]=o.diagnoses[r]}return e}(),t.normalize=o.normalize}).call(t,n(3).Buffer)},function(e,t,n){t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(e,t,n){var r=n(8);t.options=r.object({abortEarly:r.boolean(),convert:r.boolean(),allowUnknown:r.boolean(),skipFunctions:r.boolean(),stripUnknown:[r.boolean(),r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects")],language:r.object(),presence:r.string().only("required","optional","forbidden","ignore"),raw:r.boolean(),context:r.object(),strip:r.boolean(),noDefaults:r.boolean(),escapeHtml:r.boolean()}).strict()},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var o=n(2),s=n(4),a=n(1),u=n(0),c={fastSplice:function(e,t){for(var n=t;n<e.length;)e[n++]=e[n];--e.length}};c.Array=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="array",n._inner.items=[],n._inner.ordereds=[],n._inner.inclusions=[],n._inner.exclusions=[],n._inner.requireds=[],n._flags.sparse=!1,n}return i(t,e),t.prototype._base=function(e,t,n){var r={value:e};"string"==typeof e&&n.convert&&c.safeParse(e,r);var i=Array.isArray(r.value),o=i;if(n.convert&&this._flags.single&&!i&&(r.value=[r.value],i=!0),!i)return r.errors=this.createError("array.base",null,t,n),r;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(o&&(r.value=r.value.slice(0)),r.errors=this._checkItems.call(this,r.value,o,t,n),r.errors&&o&&n.convert&&this._flags.single)){var s=r.errors;r.value=[r.value],r.errors=this._checkItems.call(this,r.value,o,t,n),r.errors&&(r.errors=s,r.value=r.value[0])}return r},t.prototype._checkItems=function(e,t,n,r){for(var i=[],o=void 0,s=this._inner.requireds.slice(),a=this._inner.ordereds.slice(),u=this._inner.inclusions.concat(s),l=e.length,f=0;f<l;++f){o=!1;var h=e[f],p=!1,d={key:t?f:n.key,path:t?n.path.concat(f):n.path,parent:n.parent,reference:n.reference},y=void 0;if(this._flags.sparse||void 0!==h){for(var g=0;g<this._inner.exclusions.length;++g)if(!(y=this._inner.exclusions[g]._validate(h,d,{})).errors){if(i.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:f,value:h},{key:n.key,path:d.path},r)),o=!0,r.abortEarly)return i;a.shift();break}if(!o){if(this._inner.ordereds.length){if(a.length>0){var b=a.shift();if((y=b._validate(h,d,r)).errors){if(i.push(this.createError("array.ordered",{pos:f,reason:y.errors,value:h},{key:n.key,path:d.path},r)),r.abortEarly)return i}else if(b._flags.strip)c.fastSplice(e,f),--f,--l;else{if(!this._flags.sparse&&void 0===y.value){if(i.push(this.createError("array.sparse",null,{key:n.key,path:d.path,pos:f},r)),r.abortEarly)return i;continue}e[f]=y.value}continue}if(!this._inner.items.length){if(i.push(this.createError("array.orderedLength",{pos:f,limit:this._inner.ordereds.length},{key:n.key,path:d.path},r)),r.abortEarly)return i;continue}}for(var m=[],v=s.length,w=0;w<v;++w)if(!(y=m[w]=s[w]._validate(h,d,r)).errors){if(e[f]=y.value,p=!0,c.fastSplice(s,w),--w,--v,!this._flags.sparse&&void 0===y.value&&(i.push(this.createError("array.sparse",null,{key:n.key,path:d.path,pos:f},r)),r.abortEarly))return i;break}if(!p){var k=!(!r.stripUnknown||!0!==r.stripUnknown&&!r.stripUnknown.arrays);v=u.length;for(var _=0;_<v;++_){var S=u[_],E=s.indexOf(S);if(-1!==E)y=m[E];else if(!(y=S._validate(h,d,r)).errors){S._flags.strip?(c.fastSplice(e,f),--f,--l):this._flags.sparse||void 0!==y.value?e[f]=y.value:(i.push(this.createError("array.sparse",null,{key:n.key,path:d.path,pos:f},r)),o=!0),p=!0;break}if(1===v){if(k){c.fastSplice(e,f),--f,--l,p=!0;break}if(i.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:f,reason:y.errors,value:h},{key:n.key,path:d.path},r)),o=!0,r.abortEarly)return i;break}}if(!o&&this._inner.inclusions.length&&!p){if(k){c.fastSplice(e,f),--f,--l;continue}if(i.push(this.createError(t?"array.includes":"array.includesSingle",{pos:f,value:h},{key:n.key,path:d.path},r)),r.abortEarly)return i}}}}else{if(i.push(this.createError("array.sparse",null,{key:n.key,path:d.path,pos:f},r)),r.abortEarly)return i;a.shift()}}return s.length&&this._fillMissedErrors.call(this,i,s,n,r),a.length&&this._fillOrderedErrors.call(this,i,a,n,r),i.length?i:null},t.prototype.describe=function(){var e=o.prototype.describe.call(this);if(this._inner.ordereds.length){e.orderedItems=[];for(var t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(var n=0;n<this._inner.items.length;++n)e.items.push(this._inner.items[n].describe())}return e},t.prototype.items=function(){for(var e=this,t=this.clone(),n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return u.flatten(r).forEach((function(n,r){try{n=s.schema(e._currentJoi,n)}catch(i){throw i.hasOwnProperty("path")?i.path=r+"."+i.path:i.path=r,i.message=i.message+"("+i.path+")",i}t._inner.items.push(n),"required"===n._flags.presence?t._inner.requireds.push(n):"forbidden"===n._flags.presence?t._inner.exclusions.push(n.optional()):t._inner.inclusions.push(n)})),t},t.prototype.ordered=function(){for(var e=this,t=this.clone(),n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return u.flatten(r).forEach((function(n,r){try{n=s.schema(e._currentJoi,n)}catch(i){throw i.hasOwnProperty("path")?i.path=r+"."+i.path:i.path=r,i.message=i.message+"("+i.path+")",i}t._inner.ordereds.push(n)})),t},t.prototype.min=function(e){var t=a.isRef(e);return u.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("min",e,(function(n,r,i){var o=void 0;if(t){if(o=e(r.reference||r.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:e.key},r,i)}else o=e;return n.length>=o?n:this.createError("array.min",{limit:e,value:n},r,i)}))},t.prototype.max=function(e){var t=a.isRef(e);return u.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("max",e,(function(n,r,i){var o=void 0;if(t){if(o=e(r.reference||r.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:e.key},r,i)}else o=e;return n.length<=o?n:this.createError("array.max",{limit:e,value:n},r,i)}))},t.prototype.length=function(e){var t=a.isRef(e);return u.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("length",e,(function(n,r,i){var o=void 0;if(t){if(o=e(r.reference||r.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:e.key},r,i)}else o=e;return n.length===o?n:this.createError("array.length",{limit:e,value:n},r,i)}))},t.prototype.unique=function(e){u.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string");var t={};return"string"==typeof e?t.path=e:"function"==typeof e&&(t.comparator=e),this._test("unique",t,(function(e,n,i){for(var o={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},s=t.comparator||u.deepEqual,a=0;a<e.length;++a){var c=t.path?u.reach(e[a],t.path):e[a],l=t.comparator?o.custom:o[void 0===c?"undefined":r(c)];if(l)if(l instanceof Map){for(var f=l.entries(),h=void 0;!(h=f.next()).done;)if(s(h.value[0],c)){var p={key:n.key,path:n.path.concat(a),parent:n.parent,reference:n.reference},d={pos:a,value:e[a],dupePos:h.value[1],dupeValue:e[h.value[1]]};return t.path&&(d.path=t.path),this.createError("array.unique",d,p,i)}l.set(c,a)}else{if(void 0!==l[c]){var y={key:n.key,path:n.path.concat(a),parent:n.parent,reference:n.reference},g={pos:a,value:e[a],dupePos:l[c],dupeValue:e[l[c]]};return t.path&&(g.path=t.path),this.createError("array.unique",g,y,i)}l[c]=a}}return e}))},t.prototype.sparse=function(e){var t=void 0===e||!!e;if(this._flags.sparse===t)return this;var n=this.clone();return n._flags.sparse=t,n},t.prototype.single=function(e){var t=void 0===e||!!e;if(this._flags.single===t)return this;var n=this.clone();return n._flags.single=t,n},t.prototype._fillMissedErrors=function(e,t,n,r){for(var i=[],o=0,s=0;s<t.length;++s){var a=t[s]._getLabel();a?i.push(a):++o}i.length?o?e.push(this.createError("array.includesRequiredBoth",{knownMisses:i,unknownMisses:o},{key:n.key,path:n.path},r)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:i},{key:n.key,path:n.path},r)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:o},{key:n.key,path:n.path},r))},t.prototype._fillOrderedErrors=function(e,t,n,r){for(var i=[],o=0;o<t.length;++o)"required"===u.reach(t[o],"_flags.presence")&&i.push(t[o]);i.length&&this._fillMissedErrors.call(this,e,i,n,r)},t}(o),c.safeParse=function(e,t){try{var n=JSON.parse(e);Array.isArray(n)&&(t.value=n)}catch(r){}},e.exports=new c.Array},function(e,t,n){(function(t){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var i=n(2),o=n(0),s={};s.Binary=function(e){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return t._type="binary",t}return r(n,e),n.prototype._base=function(e,n,r){var i={value:e};if("string"==typeof e&&r.convert)try{i.value=t.from(e,this._flags.encoding)}catch(o){}return i.errors=t.isBuffer(i.value)?null:this.createError("binary.base",null,n,r),i},n.prototype.encoding=function(e){if(o.assert(t.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;var n=this.clone();return n._flags.encoding=e,n},n.prototype.min=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,n,r){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},n,r)}))},n.prototype.max=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,n,r){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},n,r)}))},n.prototype.length=function(e){return o.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,n,r){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},n,r)}))},n}(i),e.exports=new s.Binary}).call(t,n(3).Buffer)},function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var i=n(2),o=n(0),s={Set:n(9)};s.Boolean=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="boolean",n._flags.insensitive=!0,n._inner.truthySet=new s.Set,n._inner.falsySet=new s.Set,n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:e};if("string"==typeof e&&n.convert){var i=this._flags.insensitive?e.toLowerCase():e;r.value="true"===i||"false"!==i&&e}return"boolean"!=typeof r.value&&(r.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),r.errors="boolean"==typeof r.value?null:this.createError("boolean.base",null,t,n),r},t.prototype.truthy=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.clone();t=o.flatten(t);for(var i=0;i<t.length;++i){var s=t[i];o.assert(void 0!==s,"Cannot call truthy with undefined"),r._inner.truthySet.add(s)}return r},t.prototype.falsy=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.clone();t=o.flatten(t);for(var i=0;i<t.length;++i){var s=t[i];o.assert(void 0!==s,"Cannot call falsy with undefined"),r._inner.falsySet.add(s)}return r},t.prototype.insensitive=function(e){var t=void 0===e||!!e;if(this._flags.insensitive===t)return this;var n=this.clone();return n._flags.insensitive=t,n},t.prototype.describe=function(){var e=i.prototype.describe.call(this);return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e},t}(i),e.exports=new s.Boolean},function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var i=n(0),o=n(13),s=n(1),a={};a.Func=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._flags.func=!0,n}return r(t,e),t.prototype.arity=function(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,(function(t,n,r){return t.length===e?t:this.createError("function.arity",{n:e},n,r)}))},t.prototype.minArity=function(e){return i.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,(function(t,n,r){return t.length>=e?t:this.createError("function.minArity",{n:e},n,r)}))},t.prototype.maxArity=function(e){return i.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,(function(t,n,r){return t.length<=e?t:this.createError("function.maxArity",{n:e},n,r)}))},t.prototype.ref=function(){return this._test("ref",null,(function(e,t,n){return s.isRef(e)?e:this.createError("function.ref",null,t,n)}))},t.prototype.class=function(){return this._test("class",null,(function(e,t,n){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",null,t,n)}))},t}(o.constructor),e.exports=new a.Func},function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var i=n(2),o=n(0),s={};s.Lazy=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="lazy",n}return r(t,e),t.prototype._base=function(e,t,n){var r={value:e},o=this._flags.lazy;if(!o)return r.errors=this.createError("lazy.base",null,t,n),r;var s=o();return s instanceof i?s._validate(e,t,n):(r.errors=this.createError("lazy.schema",null,t,n),r)},t.prototype.set=function(e){o.assert("function"==typeof e,"You must provide a function as first argument");var t=this.clone();return t._flags.lazy=e,t},t}(i),e.exports=new s.Lazy},function(e,t,n){function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var i=n(2),o=n(1),s=n(0),a={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};a.Number=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="number",n._invalids.add(1/0),n._invalids.add(-1/0),n}return r(t,e),t.prototype._base=function(e,t,n){var r={errors:null,value:e};if("string"==typeof e&&n.convert){var i=parseFloat(e);r.value=isNaN(i)||!isFinite(e)?NaN:i}var o="number"==typeof r.value&&!isNaN(r.value);if(n.convert&&"precision"in this._flags&&o){var s=Math.pow(10,this._flags.precision);r.value=Math.round(r.value*s)/s}return r.errors=o?null:this.createError("number.base",null,t,n),r},t.prototype.multiple=function(e){var t=o.isRef(e);return t||(s.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),s.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,(function(n,r,i){var o=t?e(r.reference||r.parent,i):e;return!t||"number"==typeof o&&isFinite(o)?n%o==0?n:this.createError("number.multiple",{multiple:e,value:n},r,i):this.createError("number.ref",{ref:e.key},r,i)}))},t.prototype.integer=function(){return this._test("integer",void 0,(function(e,t,n){return Number.isSafeInteger(e)?e:this.createError("number.integer",{value:e},t,n)}))},t.prototype.negative=function(){return this._test("negative",void 0,(function(e,t,n){return e<0?e:this.createError("number.negative",{value:e},t,n)}))},t.prototype.positive=function(){return this._test("positive",void 0,(function(e,t,n){return e>0?e:this.createError("number.positive",{value:e},t,n)}))},t.prototype.precision=function(e){s.assert(Number.isSafeInteger(e),"limit must be an integer"),s.assert(!("precision"in this._flags),"precision already set");var t=this._test("precision",e,(function(t,n,r){var i=t.toString().match(a.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},n,r)}));return t._flags.precision=e,t},t.prototype.port=function(){return this._test("port",void 0,(function(e,t,n){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,n):e}))},t}(i),a.compare=function(e,t){return function(n){var r=o.isRef(n),i="number"==typeof n&&!isNaN(n);return s.assert(i||r,"limit must be a number or reference"),this._test(e,n,(function(i,o,s){var a=void 0;if(r){if("number"!=typeof(a=n(o.reference||o.parent,s))||isNaN(a))return this.createError("number.ref",{ref:n.key},o,s)}else a=n;return t(i,a)?i:this.createError("number."+e,{limit:a,value:i},o,s)}))}},a.Number.prototype.min=a.compare("min",(function(e,t){return e>=t})),a.Number.prototype.max=a.compare("max",(function(e,t){return e<=t})),a.Number.prototype.greater=a.compare("greater",(function(e,t){return e>t})),a.Number.prototype.less=a.compare("less",(function(e,t){return e<t})),e.exports=new a.Number},function(e,t,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var o=n(15),s=n(0),a=void 0,u=n(2),c=n(1),l=n(12),f=n(30),h=n(29),p={uriRegex:f.createUriRegex(),ipRegex:h.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n._type="string",n._invalids.add(""),n}return i(t,e),t.prototype._base=function(e,t,n){if("string"==typeof e&&n.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(var r=0;r<this._inner.replacements.length;++r){var i=this._inner.replacements[r];e=e.replace(i.pattern,i.replacement)}if(this._flags.truncate)for(var o=0;o<this._tests.length;++o){var s=this._tests[o];if("max"===s.name){e=e.slice(0,s.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e="0"+e)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,n)}},t.prototype.insensitive=function(){if(this._flags.insensitive)return this;var e=this.clone();return e._flags.insensitive=!0,e},t.prototype.creditCard=function(){return this._test("creditCard",void 0,(function(e,t,n){for(var r=e.length,i=0,o=1;r--;){var s=e.charAt(r)*o;i+=s-9*(s>9),o^=3}return i%10==0&&i>0?e:this.createError("string.creditCard",{value:e},t,n)}))},t.prototype.regex=function(e,t){s.assert(e instanceof RegExp,"pattern must be a RegExp");var n={pattern:new RegExp(e.source,e.ignoreCase?"i":void 0)};"string"==typeof t?n.name=t:"object"===(void 0===t?"undefined":r(t))&&(n.invert=!!t.invert,t.name&&(n.name=t.name));var i=["string.regex",n.invert?".invert":"",n.name?".name":".base"].join("");return this._test("regex",n,(function(e,t,r){return n.pattern.test(e)^n.invert?e:this.createError(i,{name:n.name,pattern:n.pattern,value:e},t,r)}))},t.prototype.alphanum=function(){return this._test("alphanum",void 0,(function(e,t,n){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,n)}))},t.prototype.token=function(){return this._test("token",void 0,(function(e,t,n){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,n)}))},t.prototype.email=function(e){return e&&(s.assert("object"===(void 0===e?"undefined":r(e)),"email options must be an object"),s.assert(void 0===e.checkDNS,"checkDNS option is not supported"),s.assert(void 0===e.tldWhitelist||"object"===r(e.tldWhitelist),"tldWhitelist must be an array or object"),s.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),s.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,(function(t,r,i){a=a||n(19);try{var o=a.validate(t,e);if(!0===o||0===o)return t}catch(s){}return this.createError("string.email",{value:t},r,i)}))},t.prototype.ip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p.ipRegex;s.assert("object"===(void 0===e?"undefined":r(e)),"options must be an object"),e.cidr?(s.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),s.assert(s.contain(p.cidrPresences,e.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(t=h.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional";var n=void 0;if(e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,"version must have at least 1 version specified"),n=[];for(var i=0;i<e.version.length;++i){var o=e.version[i];s.assert("string"==typeof o,"version at position "+i+" must be a string"),o=o.toLowerCase(),s.assert(h.versions[o],"version at position "+i+" must be one of "+Object.keys(h.versions).join(", ")),n.push(o)}n=s.unique(n),t=h.createIpRegex(n,e.cidr)}return this._test("ip",e,(function(r,i,o){return t.test(r)?r:n?this.createError("string.ipVersion",{value:r,cidr:e.cidr,version:n},i,o):this.createError("string.ip",{value:r,cidr:e.cidr},i,o)}))},t.prototype.uri=function(e){var t="",n=!1,i=!1,o=p.uriRegex;if(e){if(s.assert("object"===(void 0===e?"undefined":r(e)),"options must be an object"),e.scheme){s.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),s.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var a=0;a<e.scheme.length;++a){var u=e.scheme[a];s.assert(u instanceof RegExp||"string"==typeof u,"scheme at position "+a+" must be a RegExp or String"),t+=t?"|":"",u instanceof RegExp?t+=u.source:(s.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(u),"scheme at position "+a+" must be a valid scheme"),t+=s.escapeRegex(u))}}e.allowRelative&&(n=!0),e.relativeOnly&&(i=!0)}return(t||n||i)&&(o=f.createUriRegex(t,n,i)),this._test("uri",e,(function(e,n,r){return o.test(e)?e:i?this.createError("string.uriRelativeOnly",{value:e},n,r):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},n,r):this.createError("string.uri",{value:e},n,r)}))},t.prototype.isoDate=function(){return this._test("isoDate",void 0,(function(e,t,n){if(l._isIsoDate(e)){if(!n.convert)return e;var r=new Date(e);if(!isNaN(r.getTime()))return r.toISOString()}return this.createError("string.isoDate",{value:e},t,n)}))},t.prototype.guid=function(e){var t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,"version must have at least 1 valid version specified");for(var n=new Set,r=0;r<e.version.length;++r){var i=e.version[r];s.assert("string"==typeof i,"version at position "+r+" must be a string"),i=i.toLowerCase();var o=p.guidVersions[i];s.assert(o,"version at position "+r+" must be one of "+Object.keys(p.guidVersions).join(", ")),s.assert(!n.has(o),"version at position "+r+" must not be a duplicate."),t+=o,n.add(o)}}var a=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(t||"0-9A-F")+"][0-9A-F]{3}\\2?["+(t?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",e,(function(e,t,n){var r=a.exec(e);return r?p.guidBrackets[r[1]]!==r[r.length-1]?this.createError("string.guid",{value:e},t,n):e:this.createError("string.guid",{value:e},t,n)}))},t.prototype.hex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert("object"===(void 0===e?"undefined":r(e)),"hex options must be an object"),s.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");var t=!0===e.byteAligned,n=/^[a-f0-9]+$/i,i=this._test("hex",n,(function(e,r,i){return n.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},r,i):e:this.createError("string.hex",{value:e},r,i)}));return t&&(i._flags.byteAligned=!0),i},t.prototype.base64=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert("object"===(void 0===e?"undefined":r(e)),"base64 options must be an object"),s.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");var t=!1===e.paddingRequired?e.paddingRequired:e.paddingRequired||!0,n=t?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",n,(function(e,t,r){return n.test(e)?e:this.createError("string.base64",{value:e},t,r)}))},t.prototype.hostname=function(){var e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(t,n,r){return t.length<=255&&e.test(t)||o.isIPv6(t)?t:this.createError("string.hostname",{value:t},n,r)}))},t.prototype.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";s.assert(s.contain(p.normalizationForms,e),"normalization form must be one of "+p.normalizationForms.join(", "));var t=this._test("normalize",e,(function(t,n,r){return r.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},n,r)}));return t._flags.normalize=e,t},t.prototype.lowercase=function(){var e=this._test("lowercase",void 0,(function(e,t,n){return n.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,n)}));return e._flags.case="lower",e},t.prototype.uppercase=function(){var e=this._test("uppercase",void 0,(function(e,t,n){return n.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,n)}));return e._flags.case="upper",e},t.prototype.trim=function(){var e=this._test("trim",void 0,(function(e,t,n){return n.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,n)}));return e._flags.trim=!0,e},t.prototype.replace=function(e,t){"string"==typeof e&&(e=new RegExp(s.escapeRegex(e),"g")),s.assert(e instanceof RegExp,"pattern must be a RegExp"),s.assert("string"==typeof t,"replacement must be a String");var n=this.clone();return n._inner.replacements||(n._inner.replacements=[]),n._inner.replacements.push({pattern:e,replacement:t}),n},t.prototype.truncate=function(e){var t=void 0===e||!!e;if(this._flags.truncate===t)return this;var n=this.clone();return n._flags.truncate=t,n},t}(u),p.compare=function(e,n){return function(r,i){var o=c.isRef(r);return s.assert(Number.isSafeInteger(r)&&r>=0||o,"limit must be a positive integer or reference"),s.assert(!i||t.isEncoding(i),"Invalid encoding:",i),this._test(e,r,(function(t,s,a){var u=void 0;if(o){if(u=r(s.reference||s.parent,a),!Number.isSafeInteger(u))return this.createError("string.ref",{ref:r.key},s,a)}else u=r;return n(t,u,i)?t:this.createError("string."+e,{limit:u,value:t,encoding:i},s,a)}))}},p.String.prototype.min=p.compare("min",(function(e,n,r){return(r?t.byteLength(e,r):e.length)>=n})),p.String.prototype.max=p.compare("max",(function(e,n,r){return(r?t.byteLength(e,r):e.length)<=n})),p.String.prototype.length=p.compare("length",(function(e,n,r){return(r?t.byteLength(e,r):e.length)===n})),p.String.prototype.uuid=p.String.prototype.guid,e.exports=new p.String}).call(t,n(3).Buffer)},function(e,t,n){var r=n(14),i={Ip:{cidrs:{ipv4:{required:"\\/(?:"+r.ipv4Cidr+")",optional:"(?:\\/(?:"+r.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+r.ipv6Cidr,optional:"(?:\\/"+r.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+r.ipv6Cidr,optional:"(?:\\/"+r.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:r.IPv4address,ipv6:r.IPv6address,ipvfuture:r.IPvFuture}}};i.Ip.createIpRegex=function(e,t){for(var n=void 0,r=0;r<e.length;++r){var o=e[r];n?n+="|"+i.Ip.versions[o]+i.Ip.cidrs[o][t]:n="^(?:"+i.Ip.versions[o]+i.Ip.cidrs[o][t]}return new RegExp(n+")$")},e.exports=i.Ip},function(e,t,n){var r=n(14),i={Uri:{createUriRegex:function(e,t,n){var i=r.scheme,o=void 0;if(n)o="(?:"+r.relativeRef+")";else{e&&(i="(?:"+e+")");var s="(?:"+i+":"+r.hierPart+")";o=t?"(?:"+s+"|"+r.relativeRef+")":s}return new RegExp("^"+o+"(?:\\?"+r.query+")?(?:#"+r.fragment+")?$")}}};e.exports=i.Uri},function(e,t,n){var r=n(0),i={};e.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(e,t){var n=this,i=[].concat((t=t||{}).before||[]),o=[].concat(t.after||[]),s=t.group||"?",a=t.sort||0;r.assert(-1===i.indexOf(s),"Item cannot come before itself:",s),r.assert(-1===i.indexOf("?"),"Item cannot come before unassociated items"),r.assert(-1===o.indexOf(s),"Item cannot come after itself:",s),r.assert(-1===o.indexOf("?"),"Item cannot come after unassociated items"),[].concat(e).forEach((function(e,t){var r={seq:n._items.length,sort:a,before:i,after:o,group:s,node:e};n._items.push(r)}));var u=this._sort();return r.assert(!u,"item","?"!==s?"added into group "+s:"","created a dependencies error"),this.nodes},i.Topo.prototype.merge=function(e){e=[].concat(e);for(var t=0;t<e.length;++t){var n=e[t];if(n)for(var o=0;o<n._items.length;++o){var s=r.shallow(n._items[o]);this._items.push(s)}}this._items.sort(i.mergeSort);for(var a=0;a<this._items.length;++a)this._items[a].seq=a;var u=this._sort();return r.assert(!u,"merge created a dependencies error"),this.nodes},i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1},i.Topo.prototype._sort=function(){for(var e={},t=Object.create(null),n=Object.create(null),r=0;r<this._items.length;++r){var i=this._items[r],o=i.seq,s=i.group;n[s]=n[s]||[],n[s].push(o),e[o]=i.before;for(var a=i.after,u=0;u<a.length;++u)t[a[u]]=(t[a[u]]||[]).concat(o)}for(var c=Object.keys(e),l=0;l<c.length;++l){for(var f=c[l],h=[],p=Object.keys(e[f]),d=0;d<p.length;++d){var y=e[f][p[d]];n[y]=n[y]||[];for(var g=0;g<n[y].length;++g)h.push(n[y][g])}e[f]=h}for(var b=Object.keys(t),m=0;m<b.length;++m){var v=b[m];if(n[v])for(var w=0;w<n[v].length;++w){var k=n[v][w];e[k]=e[k].concat(t[v])}}var _=void 0,S={};c=Object.keys(e);for(var E=0;E<c.length;++E){var x=c[E];_=e[x];for(var A=0;A<_.length;++A)S[_[A]]=(S[_[A]]||[]).concat(x)}for(var O={},j=[],R=0;R<this._items.length;++R){var T=R;if(S[R]){T=null;for(var P=0;P<this._items.length;++P)if(!0!==O[P]){S[P]||(S[P]=[]);for(var C=S[P].length,I=0,L=0;L<C;++L)O[S[P][L]]&&++I;if(I===C){T=P;break}}}null!==T&&(O[T]=!0,j.push(T))}if(j.length!==this._items.length)return new Error("Invalid dependencies");for(var D={},B=0;B<this._items.length;++B){var N=this._items[B];D[N.seq]=N}var M=[];this._items=j.map((function(e){var t=D[e];return M.push(t.node),t})),this.nodes=M}},function(e,t,n){var r=n(8);e.exports=r},function(e,t,n){t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,n,r,s,a,u=e.length;s=c(e),a=new o(3*u/4-s),n=s>0?u-4:u;var l=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],a[l++]=r>>16&255,a[l++]=r>>8&255,a[l++]=255&r;return 2===s?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,a[l++]=255&r):1===s&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,a[l++]=r>>8&255,a[l++]=255&r),a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",s=[],a=0,u=n-i;a<u;a+=16383)s.push(l(e,a,a+16383>u?u:a+16383));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),s.push(o),s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports={_args:[["joi@13.4.0","/Users/jeff/projects/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/jeff/projects/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return(r?"/":"")+(t=n(o(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===s(e,-1);return(e=n(o(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(7))},function(e,t,n){(function(e,r){var i;!function(o){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(e){throw new RangeError(h[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return g(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function _(e){var t,n,r,i,o,s,a,c,l,f,h,d=[],g=e.length,b=0,m=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&y("not-basic"),d.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=b,s=1,a=36;i>=g&&y("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>p((u-b)/s))&&y("overflow"),b+=c*s,!(c<(l=a<=w?1:a>=w+26?26:a-w));a+=36)s>p(u/(f=36-l))&&y("overflow"),s*=f;w=k(b-o,t=d.length+1,0==o),p(b/t)>u-m&&y("overflow"),m+=p(b/t),b%=t,d.splice(b++,0,m)}return v(d)}function S(e){var t,n,r,i,o,s,a,c,l,f,h,g,b,v,_,S=[];for(g=(e=m(e)).length,t=128,n=0,o=72,s=0;s<g;++s)(h=e[s])<128&&S.push(d(h));for(r=i=S.length,i&&S.push("-");r<g;){for(a=u,s=0;s<g;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>p((u-n)/(b=r+1))&&y("overflow"),n+=(a-t)*b,t=a,s=0;s<g;++s)if((h=e[s])<t&&++n>u&&y("overflow"),h==t){for(c=n,l=36;!(c<(f=l<=o?1:l>=o+26?26:l-o));l+=36)_=c-f,v=36-f,S.push(d(w(f+_%v,0))),c=p(_/v);S.push(d(w(c,0))),o=k(n,b,r==i),n=0,++r}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:m,encode:v},decode:_,encode:S,toASCII:function(e){return b(e,(function(e){return l.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return b(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(t,n(41)(e),n(5))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])},e.exports=r()},function(e,t,n){"use strict";(function(r){const i=n(15),o=n(166),s=n(167),a=n(76);(t=e.exports).addPrefix=(e,t)=>{let n;if(r.isBuffer(e))n=a.varintBufferEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");n=s[e]}return r.concat([n,t])},t.rmPrefix=e=>(i.decode(e),e.slice(i.decode.bytes)),t.getCodec=e=>{const t=i.decode(e),n=o.get(t);if(void 0===n)throw new Error("Code ".concat(t," not found"));return n},t.getName=e=>o.get(e),t.getNumber=e=>{const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return a.varintBufferDecode(t)[0]},t.getCode=e=>i.decode(e),t.getCodeVarint=e=>{const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>i.encode(e);const u=n(168);Object.assign(t,u),t.print=n(169)}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const{FILE_SEPARATOR:r}=n(8),i=n(74),o=n(41),s=n(17),a=n(1);e.exports=async(e,t)=>{const n=Array.isArray(t);let u=Array.isArray(t)?t:[t];const c=await i(e);return u=u.map(e=>{if((e=(e=(e||"").trim()).replace(/(\/\/+)/g,"/")).endsWith("/")&&e.length>1&&(e=e.substring(0,e.length-1)),!e)throw a(new Error("paths must not be empty"),"ERR_NO_PATH");if(e.substring(0,1)!==r)throw a(new Error("paths must start with a leading ".concat(r)),"ERR_INVALID_PATH");e.substring(e.length-r.length)===r&&(e=e.substring(0,e.length-r.length));const t=o(e);if("ipfs"===t[0]){let e;return e=2===t.length?"".concat(r).concat(t.join(r)):"".concat(r).concat(t.slice(0,t.length-1).join(r)),{type:"ipfs",depth:t.length-2,mfsPath:"".concat(r).concat(t.join(r)),mfsDirectory:e,parts:t,path:"".concat(r).concat(t.join(r)),name:t[t.length-1]}}const n="/".concat("ipfs","/").concat(c).concat(t.length?"/"+t.join(r):""),i="/".concat("ipfs","/").concat(c,"/").concat(t.slice(0,t.length-1).join(r));return{type:"mfs",depth:t.length,mfsDirectory:i,mfsPath:n,parts:t,path:"".concat(r).concat(t.join(r)),name:t[t.length-1]}}),await Promise.all(u.map(async t=>{const n="mfs"===t.type?t.mfsPath:t.path;try{const r=await s(n,e.ipld);t.cid=r.cid,t.mfsPath="/ipfs/".concat(r.path),t.unixfs=r.unixfs,t.content=r.content}catch(r){if("ERR_NOT_FOUND"!==r.code)throw r}t.exists=Boolean(t.cid)})),n?u:u[0]}},function(e,t,n){"use strict";(function(t){const r=n(9),i=n(160),o=n(12),s=n(27),a=n(170);class u{constructor(e,n,s,a){if(c.isCID(e)){const n=e;return this.version=n.version,this.codec=n.codec,this.multihash=t.from(n.multihash),void(this.multibaseName=n.multibaseName||(0===n.version?"base58btc":"base32"))}if("string"==typeof e){const t=i.isEncoded(e);if(t){const n=i.decode(e);this.version=parseInt(n.slice(0,1).toString("hex"),16),this.codec=o.getCodec(n.slice(1)),this.multihash=o.rmPrefix(n.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=r.fromB58String(e),this.multibaseName="base58btc";return u.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(t.isBuffer(e)){const t=e.slice(0,1),n=parseInt(t.toString("hex"),16);if(1===n){const t=e;this.version=n,this.codec=o.getCodec(t.slice(1)),this.multihash=o.rmPrefix(t.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";u.validateCID(this)}else this.version=e,this.codec=n,this.multihash=s,this.multibaseName=a||(0===e?"base58btc":"base32"),u.validateCID(this)}get buffer(){let e=this._buffer;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");e=t.concat([t.from("01","hex"),o.getCodeVarint(this.codec),this.multihash])}Object.defineProperty(this,"_buffer",{value:e})}return e}get prefix(){return t.concat([t.from("0".concat(this.version),"hex"),o.getCodeVarint(this.codec),r.prefix(this.multihash)])}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=r.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new c(0,this.codec,this.multihash)}toV1(){return new c(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&e===this.multibaseName)return this.string;let t=null;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=r.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=i.encode(e,this.buffer).toString()}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&this.multihash.equals(e.multihash)}static validateCID(e){const t=a.checkCIDComponents(e);if(t)throw new Error(t)}}const c=n(32)(u,{className:"CID",symbolName:"@ipld/js-cid/CID"});c.codecs=s,e.exports=c}).call(this,n(0).Buffer)},function(e,t,n){"use strict";e.exports={encode:n(157),decode:n(158),encodingLength:n(159)}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(t){function r(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function i(e){return new a(e)}function o(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,u=s instanceof a;Promise.resolve(u?s.wrapped:s).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(s.prototype[Symbol.asyncIterator]=function(){return this}),s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};const u=n(1),c=n(14),l=n(202),f=n(213),h=e=>{if(t.isBuffer(e))return{cid:new c(e),toResolve:[]};if(c.isCID(e))return{cid:e,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=((e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean))(e);return{cid:new c(t[0]),toResolve:t.slice(1)}}throw u(new Error("Unknown path type ".concat(e)),"ERR_BAD_PATH")},p=function(){var e=o((function*(e,t){let{cid:n,toResolve:r}=h(e),o=n.toBaseEncodedString(),s=o;const a=r.length;for(;;){const c=yield i(l(n,o,s,r,a,t));if(!c.entry&&!c.next)throw u(new Error("Could not resolve ".concat(e)),"ERR_NOT_FOUND");if(c.entry&&(yield c.entry),!c.next)return;r=c.next.toResolve,n=c.next.cid,o=c.next.name,s=c.next.path}}));return function(t,n){return e.apply(this,arguments)}}(),d=(e,t)=>f(p(e,t)),y=function(){var e=o((function*(e,t){const n=yield i(d(e,t));if(yield n,n.unixfs&&n.unixfs.type.includes("dir")){var s,a=!0,u=!1;try{for(var c,l,f=r(h(n));a=(c=yield i(f.next())).done,l=yield i(c.value),!a;a=!0){const e=l;yield e}}catch(y){u=!0,s=y}finally{try{a||null==f.return||(yield i(f.return()))}finally{if(u)throw s}}}function h(e){return p.apply(this,arguments)}function p(){return(p=o((function*(e){var t,n=!0,o=!1;try{for(var s,a,u=r(e.content());n=(s=yield i(u.next())).done,a=yield i(s.value),!n;n=!0){const e=a;if(yield e,e.unixfs.type.includes("dir")){var c,l=!0,f=!1;try{for(var p,d,g=r(h(e));l=(p=yield i(g.next())).done,d=yield i(p.value),!l;l=!0){const e=d;yield e}}catch(y){f=!0,c=y}finally{try{l||null==g.return||(yield i(g.return()))}finally{if(f)throw c}}}}}catch(y){o=!0,t=y}finally{try{n||null==u.return||(yield i(u.return()))}finally{if(o)throw t}}}))).apply(this,arguments)}}));return function(t,n){return e.apply(this,arguments)}}();e.exports=d,e.exports.path=p,e.exports.recursive=y}).call(this,n(0).Buffer)},function(e,t,n){"use strict";var r=n(36),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=Object.create(n(29));o.inherits=n(10);var s=n(100),a=n(56);o.inherits(f,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";(function(t){const r=n(14),i=n(59),o=n(32);e.exports=o(class{constructor(e,t,n){i(n,"A link requires a cid to point to"),this._name=e||"",this._nameBuf=null,this._size=t,this._cid=new r(n)}toString(){return"DAGLink <".concat(this._cid.toBaseEncodedString(),' - name: "').concat(this.Name,'", size: ').concat(this.Tsize,">")}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get Name(){return this._name}get nameAsBuffer(){return null!==this._nameBuf?this._nameBuf:(this._nameBuf=t.from(this._name),this._nameBuf)}set Name(e){throw new Error("Can't set property: 'name' is immutable")}get Tsize(){return this._size}set Tsize(e){throw new Error("Can't set property: 'size' is immutable")}get Hash(){return this._cid}set Hash(e){throw new Error("Can't set property: 'cid' is immutable")}},{className:"DAGLink",symbolName:"@ipld/js-ipld-dag-pb/daglink"})}).call(this,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{DAGLink:o,DAGNode:s}=n(6),a=n(14),u=n(4)("ipfs:mfs:core:utils:add-link"),c=n(3),l=n(45),{updateHamtDirectory:f,recreateHamtLevel:h,createShard:p,toPrefix:d,addLinksToHamtBucket:y}=n(87),g=n(1),b=n(12),m=n(9),v=n(34),w=async(e,t)=>{const n=await p(e,t.parent.Links.map(e=>({name:e.Name,size:e.Tsize,cid:e.Hash})).concat({name:t.name,size:t.size,cid:t.cid}),t);return u("Converted directory to sharded directory ".concat(n.cid)),n},k=async(e,t)=>{t.parent.rmLink(t.name),t.parent.addLink(new o(t.name,t.size,t.cid));const n=c.unmarshal(t.parent.Data);n.mtime&&(n.mtime=new Date,t.parent=new s(n.marshal(),t.parent.Links));const r=m.names[t.hashAlg],i=await e.ipld.put(t.parent,b.DAG_PB,{cidVersion:t.cidVersion,hashAlg:r,onlyHash:!t.flush});return{node:t.parent,cid:i,size:t.parent.size}},_=async(e,t)=>{const{shard:n,path:r}=await S(e,t),i=await v(n.flush("",e.ipld)),o=await e.ipld.get(i.cid),s=t.parent.Links.find(e=>e.Name.substring(0,2)===r[0].prefix),a=o.Links.find(e=>e.Name.substring(0,2)===r[0].prefix);return s&&t.parent.rmLink(s.Name),t.parent.addLink(a),f(e,t.parent.Links,r[0].bucket,t)},S=async(e,t)=>{const n={name:t.name,cid:t.cid,size:t.size},r=await h(t.parent.Links),i=c.unmarshal(t.parent.Data),o=new l({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1,mode:i.mode},t);o._bucket=r,i.mtime&&(o.mtime=new Date);const s=await r._findNewBucketAndPos(n.name),a=E(s);a[0].node=t.parent;let f=0;for(;f<a.length;){const t=a[f];f++;const i=t.node.Links.find(e=>e.Name.substring(0,2)===t.prefix);if(!i){u("Link ".concat(t.prefix).concat(n.name," will be added")),f=a.length;break}if(i.Name==="".concat(t.prefix).concat(n.name)){u("Link ".concat(t.prefix).concat(n.name," will be replaced")),f=a.length;break}if(i.Name.length>2){u("Link ".concat(i.Name," will be replaced with a subshard")),f=a.length;break}u("Found subshard ".concat(t.prefix));const o=await e.ipld.get(i.Hash);if(!a[f]){u("Loaded new subshard ".concat(t.prefix)),await h(o.Links,r,t.bucket,parseInt(t.prefix,16));const e=await r._findNewBucketAndPos(n.name);a.push({bucket:e.bucket,prefix:d(e.pos),node:o});break}const s=a[f];await y(o.Links,s.bucket,r),s.node=o}return await o._bucket.put(n.name,{size:n.size,cid:n.cid}),{shard:o,path:a}},E=e=>{let t=e.bucket,n=e.pos;const r=[{bucket:t,prefix:d(n)}];for(t=e.bucket._parent,n=e.bucket._posAtParent;t;)r.push({bucket:t,prefix:d(n)}),n=t._posAtParent,t=t._parent;return r.reverse(),r};e.exports=async(e,t)=>{if(!t.parentCid&&!t.parent)throw g(new Error("No parent node or CID passed to addLink"),"EINVALIDPARENT");if(t.parentCid&&!a.isCID(t.parentCid))throw g(new Error("Invalid CID passed to addLink"),"EINVALIDPARENTCID");if(t.parent||(u("Loading parent node ".concat(t.parentCid)),t.parent=await e.ipld.get(t.parentCid)),!t.cid)throw g(new Error("No child cid passed to addLink"),"EINVALIDCHILDCID");if(!t.name)throw g(new Error("No child name passed to addLink"),"EINVALIDCHILDNAME");if(a.isCID(t.cid)||(t.cid=new a(t.cid)),!t.size&&0!==t.size)throw g(new Error("No child size passed to addLink"),"EINVALIDCHILDSIZE");const n=c.unmarshal(t.parent.Data);return"hamt-sharded-directory"===n.type?(u("Adding link to sharded directory"),_(e,t)):t.parent.Links.length>=t.shardSplitThreshold?(u("Converting directory to sharded directory"),w(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{mtime:n.mtime,mode:n.mode}))):(u("Adding ".concat(t.name," (").concat(t.cid,") to regular directory")),k(e,t))}},function(e,t,n){"use strict";const r=n(9),i=n(12);e.exports=(e,t,n)=>{!n.codec&&e.length&&(n.cidVersion=1,n.codec="raw"),n.codec||(n.codec="dag-pb"),isNaN(n.hashAlg)&&(n.hashAlg=r.names[n.hashAlg]),n.hashAlg!==r.names["sha2-256"]&&(n.cidVersion=1),n.format&&(n.codec=n.format);const o=i[n.codec.toUpperCase().replace(/-/g,"_")];return t.put(e,o,n)}},function(e,t,n){"use strict";const r=n(4)("ipfs:mfs:utils:update-tree"),i=n(20),o={shardSplitThreshold:1e3};e.exports=async(e,t,n)=>{n=Object.assign({},o,n),r("Trail",t),t=t.slice().reverse();let s,a=0;var u,c=!0,l=!1;try{for(var f,h,p=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e.ipld.getMany(t.map(e=>e.cid)));c=(f=await p.next()).done,h=await f.value,!c;c=!0){const r=h,o=t[a].cid,u=t[a].name;if(a++,!s){s={cid:o,name:u,size:r.size};continue}const c=await i(e,{parent:r,name:s.name,cid:s.cid,size:s.size,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,hashAlg:n.hashAlg,cidVersion:n.cidVersion});s={cid:c.cid,name:u,size:c.size}}}catch(d){l=!0,u=d}finally{try{c||null==p.return||await p.return()}finally{if(l)throw u}}return r("Final CID ".concat(s.cid)),s.cid}},function(e,t,n){"use strict";const r=n(4)("ipfs:mfs:utils:update-mfs-root"),{MFS_ROOT_KEY:i}=n(8);e.exports=async(e,t)=>(r("New MFS root will be ".concat(t)),await e.repo.datastore.put(i,t.buffer),t)},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(92),o=n(96);n(10)(c,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var u=s[a];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(2))},function(e,t,n){"use strict";const r=n(110);e.exports=function(e,...t){if(!e){if(1===t.length&&t[0]instanceof Error)throw t[0];throw new r(t)}}},function(e){e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"x11":4352,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(e,t,n){"use strict";const r=n(17),i=n(4)("ipfs:mfs:utils:to-trail");e.exports=async(e,t)=>{i("Creating trail for path ".concat(t));const n=[];var o,s=!0,a=!1;try{for(var u,c,l=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(r.path(t,e.ipld));s=(u=await l.next()).done,c=await u.value,!s;s=!0){const e=c;n.push({name:e.name,cid:e.cid,size:e.node.size,type:e.unixfs?e.unixfs.type:void 0})}}catch(f){a=!0,o=f}finally{try{s||null==l.return||await l.return()}finally{if(a)throw o}}return n}},function(e,t,n){"use strict";(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(0).Buffer)},function(e,t,n){"use strict";var r,i,o,s=n(127),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function u(){o=!1}function c(e){if(e){if(e!==r){if(e.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,u()}}else r!==a&&(r=a,u())}function l(){return o||(o=function(){r||c(a);for(var e,t=r.split(""),n=[],i=s.nextValue();t.length>0;)i=s.nextValue(),e=Math.floor(i*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||a},characters:function(e){return c(e),r},seed:function(e){s.seed(e),i!==e&&(u(),i=e)},lookup:function(e){return l()[e]},shuffled:l}},function(e,t,n){"use strict";const r=n(7),i=n(13),o=n(17),s=n(4)("ipfs:mfs:stat"),a=n(1),u={withLocal:!1};e.exports=e=>async function(t,n){n=r(n,u),s("Fetching stats for ".concat(t));const{type:l,cid:f,mfsPath:h}=await i(e,t),p="ipfs"===l&&f?f:h;let d;try{d=await o(p,e.ipld)}catch(y){if("ERR_NOT_FOUND"===y.code)throw a(new Error("".concat(t," does not exist")),"ERR_NOT_FOUND");throw y}if(!c[d.cid.codec])throw new Error("Cannot stat codec ".concat(d.cid.codec));return c[d.cid.codec](d,n)};const c={raw:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,blocks:0,type:"file",local:void 0,sizeLocal:void 0,withLocality:!1}),"dag-pb":e=>{const t=e.node.Links.length,n=e.node.size,r=e.node.size,i={cid:e.cid,size:n,cumulativeSize:r,blocks:t,local:void 0,sizeLocal:void 0,withLocality:!1};return e.unixfs&&(i.size=e.unixfs.fileSize(),i.type=e.unixfs.type,i.mode=e.unixfs.mode,e.unixfs.isDirectory()&&(i.size=0,i.cumulativeSize=e.node.size),"file"===i.type&&(i.blocks=e.unixfs.blockSizes.length),e.unixfs.mtime&&(i.mtime=e.unixfs.mtime)),i},"dag-cbor":e=>({cid:e.cid,local:void 0,sizeLocal:void 0,withLocality:!1}),identity:e=>({cid:e.cid,size:e.node.digest.length,cumulativeSize:e.node.digest.length,blocks:0,type:"file",local:void 0,sizeLocal:void 0,withLocality:!1})}},function(e,t,n){"use strict";e.exports=function(e,{className:t,symbolName:n}){const r=Symbol.for(n),i={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,r,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i["is".concat(t)]=e=>!(!e||!e[r]),i},e.exports.proto=function(e,{className:t,symbolName:n,withoutNew:r}){const i=Symbol.for(n),o={[t]:function(...t){if(r&&!(this instanceof o))return new o(...t);const n=e.call(this,...t)||this;return n&&!n[i]&&Object.defineProperty(n,i,{value:!0}),n}}[t];return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,Symbol.toStringTag,{get:()=>t}),o["is".concat(t)]=e=>!(!e||!e[i]),o}},function(e,t,n){"use strict";const{Buffer:r}=n(0),i=n(1),o=n(9),s=n(185);async function a(e,t,n){const r=await a.digest(e,t,n);return o.encode(r,t,n)}a.Buffer=r,a.multihash=o,a.digest=async(e,t,n)=>{const r=a.createHash(t),i=await r(e);return n?i.slice(0,n):i},a.createHash=function(e){if(!e)throw i(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(e=o.coerceCode(e),!a.functions[e])throw i(new Error("multihash function '".concat(e,"' not yet supported")),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return a.functions[e]},a.functions={0:s.identity,17:s.sha1,18:s.sha2256,19:s.sha2512,20:s.sha3512,21:s.sha3384,22:s.sha3256,23:s.sha3224,24:s.shake128,25:s.shake256,26:s.keccak224,27:s.keccak256,28:s.keccak384,29:s.keccak512,34:s.murmur3128,35:s.murmur332,86:s.dblSha2256},s.addBlake(a.functions),a.validate=async(e,t)=>{const n=await a(e,o.decode(t).name);return 0===r.compare(t,n)},e.exports=a},function(e,t,n){"use strict";e.exports=async e=>{let t;var n,r=!0,i=!1;try{for(var o,s,a=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e);r=(o=await a.next()).done,s=await o.value,!r;r=!0){t=s}}catch(u){i=!0,n=u}finally{try{r||null==a.return||await a.return()}finally{if(i)throw n}}return t}},function(e,t,n){"use strict";var r=n(38).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(2))},function(e,t,n){"use strict";const r=n(58),i={};t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)},t.store=function(e,t){const n=new Map;for(let o=0;o<t.length;++o){const s=t[o],a=r(e,s);"object"!=typeof a&&"function"!=typeof a||(n.set(s,a),i.reachSet(e,s,void 0))}return n},t.restore=function(e,t,n){for(const[r,o]of n)i.reachSet(e,r,o),i.reachSet(t,r,o)},i.reachSet=function(e,t,n){const r=Array.isArray(t)?t:t.split(".");let i=e;for(let o=0;o<r.length;++o){const e=r[o];o+1===r.length&&(i[e]=n),i=i[e]}}},function(e,t,n){"use strict";var r=n(0),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){var r=n(171),i=n(175);e.exports=function(e,n){if(n||(n={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var o="object"!=typeof e||t.isBuffer(e)?r.parse(e):e,s=function(){var e=this;i(o,n.encodings||{}).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t}(t.values)||t}))};return s.prototype.toString=function(){return r.stringify(o)},s.prototype.toJSON=function(){return o},new s}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";t.defined=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))}},function(e,t,n){"use strict";e.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)},function(e,t,n){"use strict";const r=n(205),i=n(206),o={bits:8};class s{constructor(e,t,n){if(this._options=Object.assign({},o,e),this._popCount=0,this._parent=t,this._posAtParent=n,!this._options.hashFn)throw new Error("please define an options.hashFn");this._options.hash||(this._options.hash=i(this._options.hashFn)),this._children=new r}static isBucket(e){return e instanceof s}async put(e,t){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,t)}async get(e){const t=await this._findChild(e);if(t)return t.value}async del(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);n&&n.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce((e,t)=>t instanceof s?e+t.leafCount():e+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)if(t instanceof s)for(const e of t.eachLeafSeries())yield e;else yield t}serialize(e,t){return t(this._children.reduce((n,r,i)=>(r&&(r instanceof s?n.push(r.serialize(e,t)):n.push(e(r,i))),n),[]))}asyncTransform(e,t){return async function e(t,n,r){const i=[];for(const o of t._children.compactArray()){if(o instanceof s)await e(o,n,r);else{const e=await n(o);i.push({bitField:t._children.bitField(),children:e})}return r(i)}}(this,e,t)}toJSON(){return this.serialize(u,c)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(n&&n.key===e)return n}async _findPlace(e){const t=this._options.hash(e),n=await t.take(this._options.bits),r=this._children.get(n);return r instanceof s?r._findPlace(t):{bucket:this,pos:n,hash:t}}async _findNewBucketAndPos(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(n&&n.key!==e){const e=new s(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const r=await e._findPlace(n.hash);return r.bucket._putAt(r,n.key,n.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,n){this._putObjectAt(e.pos,{key:t,value:n,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(a);if(!(e instanceof s)){const t=e.hash;t.untake(this._options.bits);const n={pos:this._posAtParent,hash:t};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function a(e){return Boolean(e)}function u(e,t){return e.key}function c(e){return e}e.exports=s},function(e,t,n){"use strict";(function(t){e.exports=function(e,n,r,i){const o=n+e.length;return r>=o||i<n?t.alloc(0):(i>=n&&i<o&&(e=e.slice(0,i-n)),r>=n&&r<o&&(e=e.slice(r-n)),e)}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(1);e.exports=(e,t,n)=>{if(t||(t=0),t<0)throw r(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw r(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(n||0===n||(n=e-t),n<0)throw r(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+n>e&&(n=e-t),{offset:t,length:n}}},function(e,t,n){"use strict";(function(t){function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const{DAGLink:u,DAGNode:c}=n(6),l=n(3),f=n(33),h=n(46),p=n(21),d=n(215),y=n(86).bind({ignoreUndefined:!0}),g=async function(e){const n=(await f(t.from(e,"utf8"),"murmur3-128")).slice(2,10),r=n.length,i=t.alloc(r);for(let t=0;t<r;t++)i[r-t-1]=n[t];return i};g.code=34;const b={hamtHashFn:g,hamtBucketBits:8};function m(e,t,n,r,i){return v.apply(this,arguments)}function v(){return(v=i((function*(e,n,i,o,s){const f=n._children,h=[];for(let t=0;t<f.length;t++){const e=f.get(t);if(!e)continue;const n=t.toString(16).toUpperCase().padStart(2,"0");if(d.isBucket(e)){let t;var y,g=!0,b=!1;try{for(var v,w,k=a(yield r(m("",e,i,null,s)));g=(v=yield r(k.next())).done,w=yield r(v.value),!g;g=!0){t=w}}catch(C){b=!0,y=C}finally{try{g||null==k.return||(yield r(k.return()))}finally{if(b)throw y}}h.push(new u(n,t.size,t.cid))}else if("function"==typeof e.value.flush){const t=e.value;let o;var _,S=!0,E=!1;try{for(var x,A,O=a(t.flush(t.path,i));S=(x=yield r(O.next())).done,A=yield r(x.value),!S;S=!0){o=A,yield o}}catch(C){E=!0,_=C}finally{try{S||null==O.return||(yield r(O.return()))}finally{if(E)throw _}}const s=n+e.key;h.push(new u(s,o.size,o.cid))}else{const t=e.value;if(!t.node){if(!t.cid)continue;t.node=yield r(i.get(t.cid))}const o=n+e.key,s=t.node.length||t.node.size||t.node.Size;h.push(new u(o,s,t.cid))}}const j=t.from(f.bitField().reverse()),R=new l({type:"hamt-sharded-directory",data:j,fanout:n.tableSize(),hashType:s.hamtHashFn.code,mtime:o&&o.mtime,mode:o&&o.mode}),T=new c(R.marshal(),h),P=yield r(p(T,i,s));yield{cid:P,unixfs:R,path:e,size:T.size}}))).apply(this,arguments)}e.exports=class extends h{constructor(e,t){super(e,t=y(b,t)),this._bucket=d({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var e=this;return i((function*(){var t,n=!0,i=!1;try{for(var o,s,u=a(e._bucket.eachLeafSeries());n=(o=yield r(u.next())).done,s=yield r(o.value),!n;n=!0){const{key:e,value:t}=s;yield{key:e,child:t}}}catch(c){i=!0,t=c}finally{try{n||null==u.return||(yield r(u.return()))}finally{if(i)throw t}}}))()}flush(e,t){var n=this;return i((function*(){var i,o=!0,s=!1;try{for(var u,c,l=a(m(e,n._bucket,t,n,n.options));o=(u=yield r(l.next())).done,c=yield r(u.value),!o;o=!0){const e=c;yield e}}catch(f){s=!0,i=f}finally{try{o||null==l.return||(yield r(l.return()))}finally{if(s)throw i}}}))()}},e.exports.hashFn=g}).call(this,n(0).Buffer)},function(e,t,n){"use strict";e.exports=class{constructor(e,t){this.options=t||{},Object.assign(this,e)}}},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function u(){return(u=i((function*(e,t){t=parseInt(t),(isNaN(t)||t<1)&&(t=1);let n=[];var i,o=!0,s=!1;try{for(var u,c,l=a(e);o=(u=yield r(l.next())).done,c=yield r(u.value),!o;o=!0){const e=c;for(n.push(e);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}}catch(f){s=!0,i=f}finally{try{o||null==l.return||(yield r(l.return()))}finally{if(s)throw i}}for(;n.length;)yield n.slice(0,t),n=n.slice(t)}))).apply(this,arguments)}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)},e.exports=function(e,t){return u.apply(this,arguments)}},function(e,t,n){"use strict";e.exports=async e=>{const t=[];var n,r=!0,i=!1;try{for(var o,s,a=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e);r=(o=await a.next()).done,s=await o.value,!r;r=!0){const e=s;t.push(e)}}catch(u){i=!0,n=u}finally{try{r||null==a.return||await a.return()}finally{if(i)throw n}}return t}},function(e,t,n){"use strict";var r=n(24).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,s||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,f=!0,a||o.call(t)},p=function(e){o.call(t,e)},d=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",d),t.req?y():t.on("request",y)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",y),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",d)}}},function(e,t,n){"use strict";const r=n(51),i=n(31),o=n(4)("ipfs:mfs:cp"),s=n(1),a=n(22),u=n(23),c=n(20),l=n(7),f=n(13),h=n(246),p=n(28),d={parents:!1,flush:!0,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3};e.exports=e=>async function(...t){const n=l(t,d);let{sources:a,destination:u}=await h(e,t);if(!a.length)throw s(new Error("Please supply at least one source"),"ERR_INVALID_PARAMS");n.parents=n.p||n.parents;const c=a.find(e=>!e.exists);if(c)throw s(new Error("".concat(c.path," does not exist")),"ERR_INVALID_PARAMS");const m=y(u);if(u.exists){if(o("Destination exists"),1===a.length&&!m)throw s(new Error("directory already has entry by that name"),"ERR_ALREADY_EXISTS")}else if(o("Destination does not exist"),a.length>1){if(!n.parents)throw s(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await r(e)(u.path,n),u=await f(e,u.path)}else if(u.parts.length>1){const t="/".concat(u.parts.slice(0,-1).join("/"));try{await i(e)(t,n)}catch(k){if("ERR_NOT_FOUND"!==k.code)throw k;if(!n.parents)throw s(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await r(e)(t,n),u=await f(e,u.path)}}const v=y(u)?u.mfsPath:u.mfsDirectory,w=await p(e,v,n);if(1===a.length){const t=a.pop(),r=m?t.name:u.name;return o("Only one source, copying to destination ".concat(m?"directory":"file"," ").concat(r)),g(e,t,r,w,n)}return o("Multiple sources, wrapping in a directory"),b(e,a,u,w,n)};const y=e=>e.unixfs&&e.unixfs.type&&e.unixfs.type.includes("directory"),g=async(e,t,n,r,i)=>{let o=r.pop();o=await m(e,t,n,o,i),r.push(o);const s=await a(e,r,i);await u(e,s)},b=async(e,t,n,r,i)=>{for(let s=0;s<t.length;s++){const r=t[s];n=await m(e,r,r.name,n,i)}r[r.length-1]=n;const o=await a(e,r,i);await u(e,o)},m=async(e,t,n,r,i)=>{const o=await e.repo.blocks.get(t.cid),{node:s,cid:a}=await c(e,{parentCid:r.cid,size:o.data.length,cid:t.cid,name:n,hashAlg:i.hashAlg,cidVersion:i.cidVersion,flush:i.flush});return r.node=s,r.cid=a,r.size=s.size,r}},function(e,t,n){"use strict";const r=n(1),i=n(4)("ipfs:mfs:mkdir"),o=n(17),s=n(245),a=n(41),u=n(23),c=n(22),l=n(20),f=n(74),h=n(7),{FILE_SEPARATOR:p}=n(8),d={parents:!1,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,flush:!0,mode:null,mtime:null};e.exports=e=>async function(t,n){if(n=h(n,d),!t)throw new Error("no path given to Mkdir");if((t=t.trim())===p){if(n.parents)return;throw r(new Error("cannot create directory '".concat(p,"': Already exists")),"ERR_INVALID_PATH")}if(t.substring(0,1)!==p)throw r(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");i("Creating ".concat(t));const l=a(t);if("ipfs"===l[0])throw r(new Error("path cannot have the prefix 'ipfs'"),"ERR_INVALID_PATH");const g=await f(e);let b;const m=[],v=await s(e,"directory",n);for(let s=0;s<=l.length;s++){const t=l.slice(0,s),a="/ipfs/".concat(g,"/").concat(t.join("/"));try{if(b=await o(a,e.ipld),i("".concat(a," existed")),i("".concat(a," had children ").concat(b.node.Links.map(e=>e.Name))),s===l.length){if(n.parents)return;throw r(new Error("file already exists"),"ERR_ALREADY_EXISTS")}m.push({name:b.name,cid:b.cid})}catch(k){if("ERR_NOT_FOUND"!==k.code)throw k;if(s<l.length&&!n.parents)throw r(new Error("Intermediate directory path ".concat(a," does not exist, use the -p flag to create it")),"ERR_NOT_FOUND");await y(e,t[t.length-1],v,m[m.length-1],m,n)}}const w=await c(e,m,n);await u(e,w)};const y=async(e,t,n,r,o,s)=>{i("Adding empty dir called ".concat(t," to ").concat(r.cid));const a=await l(e,{parent:r.node,parentCid:r.cid,size:n.node.size,cid:n.cid,name:t,hashAlg:s.hashAlg,cidVersion:s.cidVersion,flush:s.flush});o[o.length-1].cid=a.cid,o.push({name:t,cid:n.cid})}},function(e,t,n){"use strict";const r=n(13);e.exports=async function(e,t){Array.isArray(t[0])&&(t=t[0]);const n=t.filter(e=>"string"==typeof e).map(e=>e.trim());return{sources:await r(e,n)}}},function(e,t,n){"use strict";const r=n(1),i=n(22),o=n(23),s=n(52),a=n(247),u=n(13),c=n(28),l=n(7),{FILE_SEPARATOR:f}=n(8),h={recursive:!1,cidVersion:0,hashAlg:"sha2-256",flush:!0};e.exports=e=>async function(){const t=Array.from(arguments),{sources:n}=await s(e,t,h),i=l(t,h);if(!n.length)throw r(new Error("Please supply at least one path to remove"),"ERR_INVALID_PARAMS");n.forEach(e=>{if(e.path===f)throw r(new Error("Cannot delete root"),"ERR_INVALID_PARAMS")});for(const r of n)await p(e,r.path,i)};const p=async(e,t,n)=>{const s=await u(e,t),l=await c(e,s.mfsPath,n),f=l.pop(),h=l[l.length-1];if(!h)throw r(new Error("".concat(t," does not exist")),"ERR_NOT_FOUND");if("directory"===f.type&&!n.recursive)throw r(new Error("".concat(t," is a directory, use -r to remove directories")),"ERR_WAS_DIR");const{cid:p}=await a(e,{parentCid:h.cid,name:f.name,hashAlg:n.hashAlg,cidVersion:n.cidVersion,flush:n.flush});h.cid=p;const d=await i(e,l,n);await o(e,d)}},function(e,t,n){"use strict";(t=e.exports=n(100)).Stream=t,t.Readable=t,t.Writable=n(56),t.Duplex=n(18),t.Transform=n(103),t.PassThrough=n(266)},function(e,t,n){"use strict";var r=n(0),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){var o=n(36);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;m.WritableState=b;var c=Object.create(n(29));c.inherits=n(10);var l={deprecate:n(97)},f=n(101),h=n(55).Buffer,p=i.Uint8Array||function(){};var d,y=n(102);function g(){}function b(e,t){a=a||n(18),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,i);else{var s=_(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?u(w,e,n,s,i):w(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function m(e){if(a=a||n(18),!(d.call(m,this)||this instanceof a))return new m(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,v(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(v(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(m,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===m&&(e&&e._writableState instanceof b)}})):d=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return u}(this,i,a,e,t,n)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(2),n(264).setImmediate,n(5))},function(e,t,n){"use strict";(function(t){const r=n(112),i=n(37),o={needsProtoHack:new Set([r.set,r.map,r.weakSet,r.weakMap])};e.exports=o.clone=function(e,n={},s=null){if("object"!=typeof e||null===e)return e;let a=o.clone,u=s;if(n.shallow){if(!0!==n.shallow)return o.cloneWithShallow(e,n);a=e=>e}else{u=u||new Map;const t=u.get(e);if(t)return t}const c=r.getInternalProto(e);if(c===r.buffer)return t&&t.from(e);if(c===r.date)return new Date(e.getTime());if(c===r.regex)return new RegExp(e);const l=o.base(e,c,n);if(l===e)return e;if(u&&u.set(e,l),c===r.set)for(const t of e)l.add(a(t,n,u));else if(c===r.map)for(const[t,r]of e)l.set(t,a(r,n,u));const f=i.keys(e,n);for(const t of f){if(c===r.array&&"length"===t){l.length=e.length;continue}const i=Object.getOwnPropertyDescriptor(e,t);i?i.get||i.set?Object.defineProperty(l,t,i):i.enumerable?l[t]=a(e[t],n,u):Object.defineProperty(l,t,{enumerable:!1,writable:!0,configurable:!0,value:a(e[t],n,u)}):Object.defineProperty(l,t,{enumerable:!0,writable:!0,configurable:!0,value:a(e[t],n,u)})}return l},o.cloneWithShallow=function(e,t){const n=t.shallow;(t=Object.assign({},t)).shallow=!1;const r=i.store(e,n),s=o.clone(e,t);return i.restore(s,e,r),s},o.base=function(e,t,n){if(t===r.array)return[];if(!1===n.prototype)return o.needsProtoHack.has(t)?new t.constructor:{};const i=Object.getPrototypeOf(e);if(i&&i.isImmutable)return e;if(o.needsProtoHack.has(t)){const e=new i.constructor;return i!==t&&Object.setPrototypeOf(e,i),e}return Object.create(i)}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(26),i={};e.exports=function(e,t,n){if(!1===t||null==t)return e;"string"==typeof(n=n||{})&&(n={separator:n});const o=Array.isArray(t);r(!o||!n.separator,"Separator option no valid for array-based chain");const s=o?t:t.split(n.separator||".");let a=e;for(let u=0;u<s.length;++u){let e=s[u];const o=n.iterables&&i.iterables(a);if(Array.isArray(a)||"set"===o){const t=Number(e);Number.isInteger(t)&&(e=t<0?a.length+t:t)}if(!a||"function"==typeof a&&!1===n.functions||!o&&void 0===a[e]){r(!n.strict||u+1===s.length,"Missing segment",e,"in reach path ",t),r("object"==typeof a||!0===n.functions||"function"!=typeof a,"Invalid segment",e,"in reach path ",t),a=n.default;break}a=o?"set"===o?[...a][e]:a.get(e):a[e]}return a},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},function(e,t,n){"use strict";(function(t){var r=n(121);function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(60),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=m,p=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function y(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(c||!s.isFunction(e))return s.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",h.ok)}function v(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return e=u.call(e),t=u.call(t),v(e,t,n);var a,c,l=S(e),f=S(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(a=l[c],!v(e[a],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function k(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&b(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&k(i,n)||a)&&b(i,n,"Got unwanted exception"+r),e&&i&&n&&!k(i,n)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return y(g(e.actual),128)+" "+e.operator+" "+y(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=d(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(h.AssertionError,Error),h.fail=b,h.ok=m,h.equal=function(e,t,n){e!=t&&b(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&b(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){v(e,t,!1)||b(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){v(e,t,!0)||b(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){v(e,t,!1)&&b(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){v(t,n,!0)&&b(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&b(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&b(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){_(!0,e,t,n)},h.doesNotThrow=function(e,t,n){_(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=r((function e(t,n){t||b(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var S=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(5))},function(e,t,n){"use strict";(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])y(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return f(n)}var c,w="",E=!1,x=["{","}"];(p(n)&&(E=!0,x=["[","]"]),S(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(w=" "+RegExp.prototype.toString.call(n)),k(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+f(n)),0!==s.length||E&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)j(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return h(e,n,r,a,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,x)):x[0]+w+x[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),j(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=y(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function p(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function y(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function k(e){return w(e)&&"[object Date]"===E(e)}function _(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(m(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=d,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=v,t.isObject=w,t.isDate=k,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(122);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(123),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=R,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(T,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(2))},function(e,t,n){"use strict";const r=n(124);let i;e.exports=e=>{if(i)return i;const t=r({singleProcess:e});return i={readLock:e=>async(...n)=>{const r=await t.readLock();try{return await e.apply(null,n)}finally{r()}},writeLock:e=>async(...n)=>{const r=await t.writeLock();try{return await e.apply(null,n)}finally{r()}}},i}},function(e,t,n){"use strict";e.exports=n(126)},function(e,t,n){"use strict";e.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}},function(e,t,n){"use strict";const r={},i=e=>{e.addEventListener("message",t=>{i.dispatchEvent("message",e,t)}),e.port&&e.port.addEventListener("message",t=>{i.dispatchEvent("message",e,t)})};i.addEventListener=(e,t)=>{r[e]||(r[e]=[]),r[e].push(t)},i.removeEventListener=(e,t)=>{r[e]&&(r[e]=r[e].filter(e=>e===t))},i.dispatchEvent=function(){const e=Array.prototype.slice.call(arguments),t=e.shift();r[t]&&r[t].forEach(t=>t.apply(null,e))},e.exports=i},function(e,t,n){"use strict";var r=n(137),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),c=function(e,t,n,r){var i;t in e&&("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())||(u?a(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],n[o[a]])};l.supportsDescriptors=!!u,e.exports=l},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";"undefined"!=typeof self?e.exports=self:"undefined"!=typeof window?e.exports=window:e.exports=Function("return this")()},function(e,t,n){"use strict";(function(t){var r=n(67);e.exports=function(){return"object"==typeof t&&t&&t.Math===Math&&t.Array===Array?t:r}}).call(this,n(5))},function(e,t,n){"use strict";(function(t){const r=n(71),i=n(32),o=t.from("/"),s=o[0];class a{constructor(e,n){if("string"==typeof e?this._buf=t.from(e):t.isBuffer(e)&&(this._buf=e),null==n&&(n=!0),n&&this.clean(),0===this._buf.length||this._buf[0]!==s)throw new Error("Invalid key: ".concat(this.toString()))}toString(e){return this._buf.toString(e||"utf8")}toBuffer(){return this._buf}get[Symbol.toStringTag](){return"[Key ".concat(this.toString(),"]")}static withNamespaces(e){return new u(e.join("/"))}static random(){return new u(r().replace(/-/g,""))}clean(){for(this._buf&&0!==this._buf.length||(this._buf=t.from("/")),this._buf[0]!==s&&(this._buf=t.concat([o,this._buf]));this._buf.length>1&&this._buf[this._buf.length-1]===s;)this._buf=this._buf.slice(0,-1)}less(e){const t=this.list(),n=e.list();for(let r=0;r<t.length;r++){if(n.length<r+1)return!1;const e=t[r],i=n[r];if(e<i)return!0;if(e>i)return!1}return t.length<n.length}reverse(){return a.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new u(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith("/")||(e+="/"),e+=this.type(),new u(e)}parent(){const e=this.list();return 1===e.length?new u("/"):new u(e.slice(0,-1).join("/"))}child(e){return"/"===this.toString()?e:"/"===e.toString()?this:new u(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return a.withNamespaces([...this.namespaces(),...(t=e.map(e=>e.namespaces()),[].concat(...t))]);var t}}const u=i(a,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});e.exports=u}).call(this,n(0).Buffer)},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";var r=n(150),i=n(151);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(153),c=n(154),l=n(71);t.filter=(e,t)=>i((function*(){var n,i=!0,o=!1;try{for(var s,u,c=a(e);i=(s=yield r(c.next())).done,u=yield r(s.value),!i;i=!0){const e=u;(yield r(t(e)))&&(yield e)}}catch(l){o=!0,n=l}finally{try{i||null==c.return||(yield r(c.return()))}finally{if(o)throw n}}}))(),t.sortAll=(e,t)=>i((function*(){let n=[];var i,o=!0,s=!1;try{for(var u,c,l=a(e);o=(u=yield r(l.next())).done,c=yield r(u.value),!o;o=!0){const e=c;n.push(e)}}catch(f){s=!0,i=f}finally{try{o||null==l.return||(yield r(l.return()))}finally{if(s)throw i}}n=yield r(t(n));for(const e of n)yield e}))(),t.take=(e,t)=>i((function*(){if(t<=0)return;let n=0;var i,o=!0,s=!1;try{for(var u,c,l=a(e);o=(u=yield r(l.next())).done,c=yield r(u.value),!o;o=!0){const e=c;if(yield e,n++,n>=t)return}}catch(f){s=!0,i=f}finally{try{o||null==l.return||(yield r(l.return()))}finally{if(s)throw i}}}))(),t.map=(e,t)=>i((function*(){var n,i=!0,o=!1;try{for(var s,u,c=a(e);i=(s=yield r(c.next())).done,u=yield r(s.value),!i;i=!0){const e=u;yield t(e)}}catch(l){o=!0,n=l}finally{try{i||null==c.return||(yield r(c.return()))}finally{if(o)throw n}}}))(),t.replaceStartWith=function(e,t){const n=new RegExp("^"+t);return e.replace(n,"")},t.tmpdir=()=>u.join(c.tmpdir(),l())},function(e,t,n){"use strict";const r=n(1);e.exports.dbOpenFailedError=e=>(e=e||new Error("Cannot open database"),r(e,"ERR_DB_OPEN_FAILED")),e.exports.dbDeleteFailedError=e=>(e=e||new Error("Delete failed"),r(e,"ERR_DB_DELETE_FAILED")),e.exports.dbWriteFailedError=e=>(e=e||new Error("Write failed"),r(e,"ERR_DB_WRITE_FAILED")),e.exports.notFoundError=e=>(e=e||new Error("Not Found"),r(e,"ERR_NOT_FOUND"))},function(e,t,n){"use strict";const r=n(14),i=n(3),{DAGNode:o}=n(6),s=n(4)("ipfs:mfs:utils:with-mfs-root"),a=n(12),u=n(9),{MFS_ROOT_KEY:c}=n(8);e.exports=async e=>{let t;await e.repo.datastore.open();try{const n=await e.repo.datastore.get(c);t=new r(n)}catch(n){if("ERR_NOT_FOUND"!==n.code)throw n;s("Creating new MFS root");const r=new o(new i({type:"directory"}).marshal());t=await e.ipld.put(r,a.DAG_PB,{cidVersion:0,hashAlg:u.names["sha2-256"]}),await e.repo.datastore.put(c,t.buffer)}return s("Loaded MFS root /ipfs/".concat(t)),t}},function(e,t,n){"use strict";var r=n(38).Buffer;e.exports=function(e){for(var t={},n=e.length,i=e.charAt(0),o=0;o<e.length;o++){var s=e.charAt(o);if(void 0!==t[s])throw new TypeError(s+" is ambiguous");t[s]=o}function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.allocUnsafe(0);for(var o=[0],s=0;s<e.length;s++){var a=t[e[s]];if(void 0===a)return;for(var u=0,c=a;u<o.length;++u)c+=o[u]*n,o[u]=255&c,c>>=8;for(;c>0;)o.push(255&c),c>>=8}for(var l=0;e[l]===i&&l<e.length-1;++l)o.push(0);return r.from(o.reverse())}return{encode:function(t){if(0===t.length)return"";for(var r=[0],o=0;o<t.length;++o){for(var s=0,a=t[o];s<r.length;++s)a+=r[s]<<8,r[s]=a%n,a=a/n|0;for(;a>0;)r.push(a%n),a=a/n|0}for(var u="",c=0;0===t[c]&&c<t.length-1;++c)u+=i;for(var l=r.length-1;l>=0;--l)u+=e[r[l]];return u},decodeUnsafe:a,decode:function(e){var t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}},function(e,t,n){"use strict";(function(t){const r=n(15);function i(e){return parseInt(e.toString("hex"),16)}function o(e){let n=e.toString(16);return n.length%2==1&&(n="0"+n),t.from(n,"hex")}e.exports={numberToBuffer:o,bufferToNumber:i,varintBufferEncode:function(e){return t.from(r.encode(i(e)))},varintBufferDecode:function(e){return o(r.decode(e))},varintEncode:function(e){return t.from(r.encode(e))}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){const r=n(32),i=n(78),o=n(19),{serializeDAGNode:s}=n(79),a=n(184),u=n(196),c=n(198);e.exports=r(class{constructor(e,n=[],r=null){if(e||(e=t.alloc(0)),"string"==typeof e&&(e=t.from(e)),!t.isBuffer(e))throw new Error("Passed 'data' is not a buffer or a string!");if(null!==r&&"number"!=typeof r)throw new Error("Passed 'serializedSize' must be a number!");n=n.map(e=>o.isDAGLink(e)?e:o.util.createDagLinkFromB58EncodedHash(e)),n=i(n),this._data=e,this._links=n,this._serializedSize=r,this._size=null}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this._links.map(e=>e.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return'DAGNode <data: "'.concat(this.Data.toString("base64"),'", links: ').concat(this.Links.length,", size: ").concat(this.size,">")}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(e){return this._invalidateCached(),u(this,e)}rmLink(e){return this._invalidateCached(),c(this,e)}toDAGLink(e){return a(this,e)}serialize(){return s({Data:this._data,Links:this._links})}get size(){return null===this._size&&(null===this._serializedSize&&(this._serializedSize=this.serialize().length),this._size=this._links.reduce((e,t)=>e+t.Tsize,this._serializedSize)),this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}get Data(){return this._data}set Data(e){throw new Error("Can't set property: 'Data' is immutable")}get Links(){return this._links.map(e=>({Name:e.Name,Tsize:e.Tsize,Hash:e.Hash}))}set Links(e){throw new Error("Can't set property: 'Links' is immutable")}},{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){const r=n(183),i=(e,n)=>t.compare(e.nameAsBuffer,n.nameAsBuffer);e.exports=e=>r(e,i)}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(39)(n(80)),i=n(19);t=e.exports;const o=e=>{const t=e.Data,n=e.Links||[];return r.PBNode.encode((e=>{const t={};return e.Data&&e.Data.length>0?t.Data=e.Data:t.Data=null,e.Links&&e.Links.length>0?t.Links=e.Links.map(e=>({Hash:e.Hash.buffer,Name:e.Name,Tsize:e.Tsize})):t.Links=null,t})({Data:t,Links:n}))};t.serializeDAGNode=o,t.serializeDAGNodeLike=(e,t=[])=>{const n={Data:e};return n.Links=t.map(e=>i.isDAGLink(e)?e:i.util.createDagLinkFromB58EncodedHash(e)),o(n)}},function(e,t,n){"use strict";e.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"},function(e,t,n){"use strict";const r=n(14),i=n(12),o=n(33);(t=e.exports).codec=i.DAG_PB,t.defaultHashAlg=i.SHA2_256;t.cid=async(e,n)=>{const s={cidVersion:1,hashAlg:t.defaultHashAlg},a=Object.assign(s,n),u=await o(e,a.hashAlg),c=i.print[t.codec];return new r(a.cidVersion,c,u)}},function(e,t,n){"use strict";(function(t){function n(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){var n;if(e instanceof Uint8Array)n=e;else if(e instanceof t)n=new Uint8Array(e);else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");n=new Uint8Array(t.from(e,"utf8"))}return n},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){for(var i="\n"+e+" = ",o=0;o<t.length;o+=2){if(32===r)i+=n(t[o]).toUpperCase(),i+=" ",i+=n(t[o+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=n(t[o+1]).toUpperCase(),i+=n(t[o]).toUpperCase()}o%6==4?i+="\n"+new Array(e.length+4).join(" "):o<t.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){for(var r=(new Date).getTime(),i=new Uint8Array(t),o=0;o<t;o++)i[o]=o%256;var s=(new Date).getTime();for(console.log("Generated random input in "+(s-r)+"ms"),r=s,o=0;o<n;o++){var a=e(i),u=(new Date).getTime(),c=u-r;r=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(e.exports=n(19)).util=n(197)},function(e,t,n){"use strict";(function(r){const i=n(39)(n(80)),o=n(19),s=n(77),{serializeDAGNodeLike:a}=n(79),u=n(81);(t=e.exports).codec=u.codec,t.defaultHashAlg=u.defaultHashAlg;t.serialize=e=>s.isDAGNode(e)?e.serialize():a(e.Data,e.Links),t.deserialize=e=>{const t=i.PBNode.decode(e),n=t.Links.map(e=>new o(e.Name,e.Tsize,e.Hash)),a=null==t.Data?r.alloc(0):t.Data;return new s(a,n,e.length)},t.cid=(e,t)=>u.cid(e,t)}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(43),c=n(44),l=n(3),f=n(1);function h(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=i((function*(e,n,i,o,s=0){if(t.isBuffer(n)){const e=u(n,s,i,o);return e.length&&(yield e),s+=e.length}let c;try{c=l.unmarshal(n.Data)}catch(w){throw f(w,"ERR_NOT_UNIXFS")}if(Boolean(c.data&&c.data.length)){const e=u(c.data,s,i,o);e.length&&(yield e),s+=c.data.length}let p=s;for(let t=0;t<n.Links.length;t++){const u=n.Links[t],l=s+c.blockSizes[t];if(i>=p&&i<l||o>p&&o<=l||i<p&&o>l){const t=yield r(e.get(u.Hash));var d,y=!0,g=!1;try{for(var b,m,v=a(h(e,t,i,o,s));y=(b=yield r(v.next())).done,m=yield r(b.value),!y;y=!0){const e=m;s+=e.length,yield e}}catch(w){g=!0,d=w}finally{try{y||null==v.return||(yield r(v.return()))}finally{if(g)throw d}}}s=l,p=l+1}}))).apply(this,arguments)}e.exports=(e,t,n,r,i,o,s)=>(e={})=>{const r=n.fileSize(),{offset:i,length:o}=c(r,e.offset,e.length);return h(s,t,i,i+o)}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(216),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),a={concatArrays:!1,ignoreUndefined:!1},u=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)o.call(e,r)&&t.push(r)}return t};function c(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return u(e).forEach(n=>{s(t,n,c(e[n]))}),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach(n=>{s(t,n,c(e[n]))}),t}(e):e}const l=(e,t,n,r)=>(n.forEach(n=>{void 0===t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?s(e,n,f(e[n],t[n],r)):s(e,n,c(t[n])))}),e);function f(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,n)=>{let r=e.slice(0,0),o=0;return[e,t].forEach(t=>{const a=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(a.push(String(n)),s(r,o++,t===e?t[n]:c(t[n])));r=l(r,t,u(t).filter(e=>!a.includes(e)),n)}),r})(e,t,n):r(t)&&r(e)?l(e,t,u(t),n):c(t)}e.exports=function(...e){const t=f(c(a),void 0!==this&&this||{},a);let n={_:{}};for(const i of e)if(void 0!==i){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");n=f(n,{_:i},t)}return n._}},function(e,t,n){"use strict";(function(t){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{DAGNode:o}=n(6),s=n(42),a=n(45),u=n(4)("ipfs:mfs:core:utils:hamt-utils"),c=n(3),l=n(12),f=n(9),h=n(34),p=async(e,t,n,r)=>{const i=new s({hashFn:a.hashFn,hash:n?n._options.hash:void 0},n,r);return n&&n._putObjectAt(r,i),await d(e,i,t),i},d=async(e,t,n)=>{await Promise.all(e.map(e=>{if(2===e.Name.length){const n=parseInt(e.Name,16);return t._putObjectAt(n,new s({hashFn:a.hashFn},t,n)),Promise.resolve()}return(n||t).put(e.Name.substring(2),{size:e.TSize,cid:e.Hash})}))},y=e=>e.toString("16").toUpperCase().padStart(2,"0").substring(0,2);e.exports={generatePath:async(e,t,n)=>{const r=await p(n.Links,null,null,null),i=await r._findNewBucketAndPos(t),o=[{bucket:i.bucket,prefix:y(i.pos)}];let s=i.bucket;for(;s!==r;)o.push({bucket:s,prefix:y(s._posAtParent)}),s=s._parent;o.reverse(),o[0].node=n;for(let a=0;a<o.length;a++){const n=o[a],i=n.node.Links.filter(e=>e.Name.substring(0,2)===n.prefix).pop();if(!i){u("Link ".concat(n.prefix).concat(t," will be added"));continue}if(i.Name==="".concat(n.prefix).concat(t)){u("Link ".concat(n.prefix).concat(t," will be replaced"));continue}u("Found subshard ".concat(n.prefix));const s=await e.ipld.get(i.Hash);if(!o[a+1]){u("Loaded new subshard ".concat(n.prefix)),await p(s.Links,r,n.bucket,parseInt(n.prefix,16));const e=await r._findNewBucketAndPos(t);o.push({bucket:e.bucket,prefix:y(e.pos),node:s});continue}const c=o[a+1];await d(s.Links,c.bucket,r),c.node=s}return await r.put(t,!0),o.reverse(),{rootBucket:r,path:o}},updateHamtDirectory:async(e,n,r,i)=>{const s=t.from(r._children.bitField().reverse()),u=c.unmarshal(i.parent.Data),h=new c({type:"hamt-sharded-directory",data:s,fanout:r.tableSize(),hashType:a.hashFn.code,mode:u.mode,mtime:u.mtime}),p=f.names[i.hashAlg],d=new o(h.marshal(),n);return{node:d,cid:await e.ipld.put(d,l.DAG_PB,{cidVersion:i.cidVersion,hashAlg:p,onlyHash:!i.flush}),size:d.size}},recreateHamtLevel:p,addLinksToHamtBucket:d,toPrefix:y,createShard:async(e,t,n)=>{const o=new a({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1,mtime:n.mtime,mode:n.mode},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{codec:"dag-pb"}));for(let r=0;r<t.length;r++)await o._bucket.put(t[r].name,{size:t[r].size,cid:t[r].cid});return h(o.flush("",e.ipld,null))}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";function r(e){return new o(e)}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const s=n(89),a=n(86).bind({ignoreUndefined:!0}),u={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,codec:"dag-pb",hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,pin:!0,recursive:!1,hidden:!1,preload:!0,chunkValidator:null,importBuffer:null};e.exports=function(){var e,t=(e=function*(e,t,i={}){const o=a(u,i);let c,l;i.cidVersion>0&&void 0===i.rawLeaves&&(o.rawLeaves=!0),void 0!==i.hashAlg&&void 0===i.rawLeaves&&(o.rawLeaves=!0),"trickle"===i.strategy&&(o.leafType="raw",o.reduceSingleLeafToSelf=!1),i.format&&(o.codec=i.format),c="function"==typeof i.dagBuilder?i.dagBuilder:n(218),l="function"==typeof i.treeBuilder?i.treeBuilder:n(240);var f,h=!0,p=!1;try{for(var d,y,g=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(l(s(c(e,t,o),o.fileImportConcurrency),t,o));h=(d=yield r(g.next())).done,y=yield r(d.value),!h;h=!0){const e=y;yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}}catch(b){p=!0,f=b}finally{try{h||null==g.return||(yield r(g.return()))}finally{if(p)throw f}}},function(){return new i(e.apply(this,arguments))});return function(e,n){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(47);function c(){return(c=i((function*(e,t){t=parseInt(t),(isNaN(t)||t<1)&&(t=1);var n,i=!0,o=!1;try{for(var s,c,l=a(u(e,t));i=(s=yield r(l.next())).done,c=yield r(s.value),!i;i=!0){const e=c,t=[];let n,i=0,o=new Promise(e=>{n=e});for(e.forEach((e,r)=>{e().then(e=>{t[r]=e,n()},e=>{t[r]=e,n()})});;){yield r(o);for(let n=i;n<e.length;n++){const e=t[n];if(void 0===e)break;if(i=n+1,t[n]=void 0,e instanceof Error)throw e;void 0!==e&&(yield e)}if(i===e.length)break;o=new Promise(e=>{n=e})}}}catch(f){o=!0,n=f}finally{try{i||null==l.return||(yield r(l.return()))}finally{if(o)throw n}}}))).apply(this,arguments)}e.exports=function(e,t){return c.apply(this,arguments)}},function(e,t,n){"use strict";const r=n(91).Duplex,i=n(60),o=n(233);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),r.call(this)}i.inherits(s,r),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},function(e,t,n){"use strict";(t=e.exports=n(92)).Stream=t,t.Readable=t,t.Writable=n(96),t.Duplex=n(25),t.Transform=n(98),t.PassThrough=n(231),t.finished=n(49),t.pipeline=n(232)},function(e,t,n){"use strict";(function(t,r){var i;e.exports=x,x.ReadableState=E;n(16).EventEmitter;var o=function(e,t){return e.listeners(t).length},s=n(93),a=n(0).Buffer,u=t.Uint8Array||function(){};var c,l=n(226);c=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,p,d=n(227),y=n(94),g=n(95).getHighWaterMark,b=n(24).codes,m=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(10)(x,s);var _=y.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(e,t,r){i=i||n(25),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(35).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function x(e){if(i=i||n(25),!(this instanceof x))return new x(e);var t=this instanceof i;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(e,t,n,r,i){c("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,s);else if(i||(o=function(e,t){var n;r=t,a.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(s,t)),o)_(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)s.endEmitted?_(e,new k):O(e,s,t,!0);else if(s.ended)_(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?O(e,s,t,!1):P(e,s)):O(e,s,t,!1)}else r||(s.reading=!1,P(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),P(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=y.destroy,x.prototype._undestroy=y.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},x.prototype.unshift=function(e){return A(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){f||(f=n(35).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(T,e))}function T(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function P(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function M(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):R(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(n,t))),null===(r=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},x.prototype._read=function(e){_(this,new w("_read()"))},x.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:g;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",d),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",h),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",l);var f=!1;function h(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!f&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function p(t){c("onerror",t),g(),e.removeListener("error",p),0===o(e,"error")&&_(e,t)}function d(){e.removeListener("finish",y),g()}function y(){c("onfinish"),e.removeListener("close",d),g()}function g(){c("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",p),e.once("close",d),e.once("finish",y),e.emit("pipe",n),i.flowing||(c("pipe resume"),n.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},x.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(L,this))),n},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(I,this),n},x.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(I,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(229)),h(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===p&&(p=n(230)),p(x,e,t)})}).call(this,n(5),n(2))},function(e,t,n){"use strict";e.exports=n(16).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var s=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?s._writableState?s._writableState.errorEmitted?t.nextTick(r,s):(s._writableState.errorEmitted=!0,t.nextTick(n,s,e)):t.nextTick(n,s,e):o?(t.nextTick(r,s),o(e)):t.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(24).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=x,x.WritableState=E;var s={deprecate:n(97)},a=n(93),u=n(0).Buffer,c=t.Uint8Array||function(){};var l,f=n(94),h=n(95).getHighWaterMark,p=n(24).codes,d=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,m=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;function S(){}function E(e,t,s){o=o||n(25),e=e||{},"boolean"!=typeof s&&(s=t instanceof o),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(P,e,t),e._writableState.errorEmitted=!0,_(e,i)):(o(i),e._writableState.errorEmitted=!0,_(e,i),P(e,t))}(e,n,i,t,o);else{var s=R(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),i?r.nextTick(O,e,n,s,o):O(e,n,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function x(e){var t=this instanceof(o=o||n(25));if(!t&&!l.call(x,this))return new x(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function A(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),P(e,t)}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,A(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(A(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var n=R(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(10)(x,a),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof E)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){_(this,new b)},x.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof c);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=S),o.ending?function(e,t){var n=new w;_(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o;return null===n?o=new v:"string"==typeof n||t.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(_(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,n){n(new y("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)}}).call(this,n(5),n(2))},function(e,t,n){"use strict";(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(5))},function(e,t,n){"use strict";e.exports=l;var r=n(24).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(25);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(10)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){"use strict";e.exports=i;var r=n(16).EventEmitter;function i(){r.call(this)}n(10)(i,r),i.Readable=n(54),i.Writable=n(267),i.Duplex=n(268),i.Transform=n(269),i.PassThrough=n(270),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(t,r){var i=n(36);e.exports=v;var o,s=n(70);v.ReadableState=m;n(16).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=n(101),c=n(55).Buffer,l=t.Uint8Array||function(){};var f=Object.create(n(29));f.inherits=n(10);var h=n(261),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,y=n(262),g=n(102);f.inherits(v,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var r=t instanceof(o=o||n(18));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(35).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function v(e){if(o=o||n(18),!(this instanceof v))return new v(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?k(e,s,t,!1):x(e,s)):k(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function k(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},v.prototype.unshift=function(e){return w(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return d||(d=n(35).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){p("emit readable"),e.emit("readable"),R(e)}function x(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(A,e,t))}function A(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){p("readable nexttick read 0"),e.read(0)}function j(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(C,t,e))}function C(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):S(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:v;function c(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",f),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",y),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){p("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",f);var h=!1;var d=!1;function y(t){p("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==I(o.pipes,e))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(t){p("onerror",t),v(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){p("onfinish"),e.removeListener("close",b),v()}function v(){p("unpipe"),n.unpipe(e)}return n.on("data",y),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=I(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},v.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(O,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(j,e,t))}(this,e)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=T}).call(this,n(5),n(2))},function(e,t,n){"use strict";e.exports=n(16).EventEmitter},function(e,t,n){"use strict";var r=n(36);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=s;var r=n(18),i=Object.create(n(29));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(10),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";const r=n(271),i=n(105);function o(e,t){return i({source:e},t)}e.exports=o,e.exports.readable=o,e.exports.writable=function(e,t){return i({sink:e},t)},e.exports.transform=r,e.exports.duplex=i},function(e,t,n){"use strict";(function(t){const{Readable:r,Writable:i,Duplex:o}=n(91),s=n(272),a=n(273),u=t.alloc(0);e.exports=function(e,t){t=t||{};let n=!1;const c=new a;e={sink:e.sink,source:e.source?s(e.source):null};let l=o;e.source?e.sink||(l=r):l=i,Object.assign(t,e.source?{async read(t){if(!n){n=!0;try{for(;;){const{value:n,done:r}=await e.source.next(t);if(r)return this.push(null);if(!this.push(n))break}}catch(r){this.emit("error",r)}finally{n=!1}}}}:{},e.sink?{write(e,t,n){c.push(e).then(()=>n(),n)},final(e){c.push(u).then(()=>e(),e)}}:{});const f=new l(t);return e.sink&&e.sink({[Symbol.asyncIterator](){return this},async next(){const e=await c.shift();return e===u?{done:!0}:{value:e}},throw:async e=>(f.destroy(e),{done:!0}),return:async()=>(f.destroy(),{done:!0})}),f}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";e.exports=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},function(e,t,n){"use strict";e.exports=(e,t)=>{if(null==e&&null==t)return;const n={};return(t||0===t)&&(n.secs=0,n.nsecs=t),(e||0===e)&&(n.secs=e),n}},function(e,t,n){"use strict";const r=n(109),i={contentTypeRegex:/^([^\/\s]+\/[^\s;]+)(.*)?$/,paramsRegex:/;\s*boundary=(?:"([^"]+)"|([^;"\s]+))/i};t.type=function(e){if(!e)throw r.badRequest("Invalid content-type header");const t=e.match(i.contentTypeRegex);if(!t)throw r.badRequest("Invalid content-type header");const n={mime:t[1].toLowerCase()};if(0===n.mime.indexOf("multipart/")){const e=t[2];if(e){const t=e.match(i.paramsRegex);t&&(n.boundary=t[1]||t[2])}if(!n.boundary)throw r.badRequest("Invalid content-type header: multipart missing boundary")}return n},i.contentDispositionRegex=/^\s*form-data\s*(?:;\s*(.+))?$/i,i.contentDispositionParamRegex=/([^\=\*\s]+)(\*)?\s*\=\s*(?:([^;'"\s]+\'[\w-]*\'[^;\s]+)|(?:\"([^"]*)\")|([^;\s]*))(?:\s*(?:;\s*)|$)/g,t.disposition=function(e){if(!e)throw r.badRequest("Missing content-disposition header");const t=e.match(i.contentDispositionRegex);if(!t)throw r.badRequest("Invalid content-disposition header format");const n=t[1];if(!n)throw r.badRequest("Invalid content-disposition header missing parameters");const o={};if(n.replace(i.contentDispositionParamRegex,(e,t,n,i,s,a)=>{if(n){if(!i)throw r.badRequest("Invalid content-disposition header format includes invalid parameters");try{o[t]=decodeURIComponent(i.split("'")[2])}catch(u){throw r.badRequest("Invalid content-disposition header format includes invalid parameters")}}else o[t]=s||a||""}),!o.name)throw r.badRequest("Invalid content-disposition header missing name parameter");return o}},function(e,t,n){"use strict";const r=n(284),i={codes:new Map([[100,"Continue"],[101,"Switching Protocols"],[102,"Processing"],[200,"OK"],[201,"Created"],[202,"Accepted"],[203,"Non-Authoritative Information"],[204,"No Content"],[205,"Reset Content"],[206,"Partial Content"],[207,"Multi-Status"],[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Moved Temporarily"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Time-out"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request-URI Too Large"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"I'm a teapot"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Unordered Collection"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[431,"Request Header Fields Too Large"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Time-out"],[505,"HTTP Version Not Supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"]])};e.exports=i.Boom=class extends Error{constructor(e,t={}){if(e instanceof Error)return i.Boom.boomify(r.clone(e),t);const{statusCode:n=500,data:o=null,ctor:s=i.Boom}=t,a=new Error(e||void 0);Error.captureStackTrace(a,s),a.data=o;const u=i.initialize(a,n);return Object.defineProperty(u,"typeof",{value:s}),t.decorate&&Object.assign(u,t.decorate),u}static[Symbol.hasInstance](e){return i.Boom.isBoom(e)}static isBoom(e){return e instanceof Error&&!!e.isBoom}static boomify(e,t){return r.assert(e instanceof Error,"Cannot wrap non-Error object"),void 0!==(t=t||{}).data&&(e.data=t.data),t.decorate&&Object.assign(e,t.decorate),e.isBoom?!1===t.override||!t.statusCode&&!t.message?e:i.initialize(e,t.statusCode||e.output.statusCode,t.message):i.initialize(e,t.statusCode||500,t.message)}static badRequest(e,t){return new i.Boom(e,{statusCode:400,data:t,ctor:i.Boom.badRequest})}static unauthorized(e,t,n){const o=new i.Boom(e,{statusCode:401,ctor:i.Boom.unauthorized});if(!t)return o;if("string"!=typeof t)return o.output.headers["WWW-Authenticate"]=t.join(", "),o;let s="".concat(t," ");return(n||e)&&(o.output.payload.attributes={}),n&&("string"==typeof n?(s+=r.escapeHeaderAttribute(n),o.output.payload.attributes=n):s+=Object.keys(n).map(e=>{let t=n[e];return null==t&&(t=""),o.output.payload.attributes[e]=t,"".concat(e,'="').concat(r.escapeHeaderAttribute(t.toString()),'"')}).join(", ")),e?(n&&(s+=", "),s+='error="'.concat(r.escapeHeaderAttribute(e),'"'),o.output.payload.attributes.error=e):o.isMissing=!0,o.output.headers["WWW-Authenticate"]=s,o}static paymentRequired(e,t){return new i.Boom(e,{statusCode:402,data:t,ctor:i.Boom.paymentRequired})}static forbidden(e,t){return new i.Boom(e,{statusCode:403,data:t,ctor:i.Boom.forbidden})}static notFound(e,t){return new i.Boom(e,{statusCode:404,data:t,ctor:i.Boom.notFound})}static methodNotAllowed(e,t,n){const r=new i.Boom(e,{statusCode:405,data:t,ctor:i.Boom.methodNotAllowed});return"string"==typeof n&&(n=[n]),Array.isArray(n)&&(r.output.headers.Allow=n.join(", ")),r}static notAcceptable(e,t){return new i.Boom(e,{statusCode:406,data:t,ctor:i.Boom.notAcceptable})}static proxyAuthRequired(e,t){return new i.Boom(e,{statusCode:407,data:t,ctor:i.Boom.proxyAuthRequired})}static clientTimeout(e,t){return new i.Boom(e,{statusCode:408,data:t,ctor:i.Boom.clientTimeout})}static conflict(e,t){return new i.Boom(e,{statusCode:409,data:t,ctor:i.Boom.conflict})}static resourceGone(e,t){return new i.Boom(e,{statusCode:410,data:t,ctor:i.Boom.resourceGone})}static lengthRequired(e,t){return new i.Boom(e,{statusCode:411,data:t,ctor:i.Boom.lengthRequired})}static preconditionFailed(e,t){return new i.Boom(e,{statusCode:412,data:t,ctor:i.Boom.preconditionFailed})}static entityTooLarge(e,t){return new i.Boom(e,{statusCode:413,data:t,ctor:i.Boom.entityTooLarge})}static uriTooLong(e,t){return new i.Boom(e,{statusCode:414,data:t,ctor:i.Boom.uriTooLong})}static unsupportedMediaType(e,t){return new i.Boom(e,{statusCode:415,data:t,ctor:i.Boom.unsupportedMediaType})}static rangeNotSatisfiable(e,t){return new i.Boom(e,{statusCode:416,data:t,ctor:i.Boom.rangeNotSatisfiable})}static expectationFailed(e,t){return new i.Boom(e,{statusCode:417,data:t,ctor:i.Boom.expectationFailed})}static teapot(e,t){return new i.Boom(e,{statusCode:418,data:t,ctor:i.Boom.teapot})}static badData(e,t){return new i.Boom(e,{statusCode:422,data:t,ctor:i.Boom.badData})}static locked(e,t){return new i.Boom(e,{statusCode:423,data:t,ctor:i.Boom.locked})}static failedDependency(e,t){return new i.Boom(e,{statusCode:424,data:t,ctor:i.Boom.failedDependency})}static preconditionRequired(e,t){return new i.Boom(e,{statusCode:428,data:t,ctor:i.Boom.preconditionRequired})}static tooManyRequests(e,t){return new i.Boom(e,{statusCode:429,data:t,ctor:i.Boom.tooManyRequests})}static illegal(e,t){return new i.Boom(e,{statusCode:451,data:t,ctor:i.Boom.illegal})}static internal(e,t,n=500){return i.serverError(e,t,n,i.Boom.internal)}static notImplemented(e,t){return i.serverError(e,t,501,i.Boom.notImplemented)}static badGateway(e,t){return i.serverError(e,t,502,i.Boom.badGateway)}static serverUnavailable(e,t){return i.serverError(e,t,503,i.Boom.serverUnavailable)}static gatewayTimeout(e,t){return i.serverError(e,t,504,i.Boom.gatewayTimeout)}static badImplementation(e,t){const n=i.serverError(e,t,500,i.Boom.badImplementation);return n.isDeveloperError=!0,n}},i.Boom.default=i.Boom,i.initialize=function(e,t,n){const o=parseInt(t,10);if(r.assert(!isNaN(o)&&o>=400,"First argument must be a number (400+):",t),e.isBoom=!0,e.isServer=o>=500,e.hasOwnProperty("data")||(e.data=null),e.output={statusCode:o,payload:{},headers:{}},Object.defineProperty(e,"reformat",{value:i.reformat}),n||e.message||(e.reformat(),n=e.output.payload.error),n){const t=Object.getOwnPropertyDescriptor(e,"message")||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"message");r.assert(t.configurable&&!t.get,"The error is not compatible with boom"),e.message=n+(e.message?": "+e.message:""),e.output.payload.message=e.message}return e.reformat(),e},i.reformat=function(e=!1){this.output.payload.statusCode=this.output.statusCode,this.output.payload.error=i.codes.get(this.output.statusCode)||"Unknown",500===this.output.statusCode&&!0!==e?this.output.payload.message="An internal server error occurred":this.message&&(this.output.payload.message=this.message)},i.serverError=function(e,t,n,r){return t instanceof Error&&!t.isBoom?i.Boom.boomify(t,{statusCode:n,message:e}):new i.Boom(e,{statusCode:n,data:t,ctor:r})}},function(e,t,n){"use strict";const r=n(111);e.exports=class extends Error{constructor(e){super(e.filter(e=>""!==e).map(e=>"string"==typeof e?e:e instanceof Error?e.message:r(e)).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},function(e,t,n){"use strict";e.exports=function(...e){try{return JSON.stringify.apply(null,e)}catch(t){return"[Cannot display object: "+t.message+"]"}}},function(e,t,n){"use strict";(function(n){const r={};t=e.exports={array:Array.prototype,buffer:n&&n.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(n&&e instanceof n)return t.buffer;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const i=Object.prototype.toString.call(e);return r.typeMap.get(i)||t.generic}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){const r=n(26),i=n(57),o=n(37),s={};e.exports=s.merge=function(e,n,a){if(r(e&&"object"==typeof e,"Invalid target value: must be an object"),r(null==n||"object"==typeof n,"Invalid source value: must be null, undefined, or an object"),!n)return e;if(a=Object.assign({nullOverride:!0,mergeArrays:!0},a),Array.isArray(n)){r(Array.isArray(e),"Cannot merge array onto an object"),a.mergeArrays||(e.length=0);for(let t=0;t<n.length;++t)e.push(i(n[t],{symbols:a.symbols}));return e}const u=o.keys(n,a);for(let r=0;r<u.length;++r){const o=u[r];if("__proto__"===o||!Object.prototype.propertyIsEnumerable.call(n,o))continue;const c=n[o];c&&"object"==typeof c?!e[o]||"object"!=typeof e[o]||Array.isArray(e[o])!==Array.isArray(c)||c instanceof Date||t&&t.isBuffer(c)||c instanceof RegExp?e[o]=i(c,{symbols:a.symbols}):s.merge(e[o],c,a):null!=c?e[o]=c:a.nullOverride&&(e[o]=c)}return e}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";(function(t){const r=n(112),i={mismatched:null};e.exports=function(e,t,n){return n=Object.assign({prototype:!0},n),!!i.isDeepEqual(e,t,n,[])},i.isDeepEqual=function(e,n,o,s){if(e===n)return 0!==e||1/e==1/n;const a=typeof e;if(a!==typeof n)return!1;if(null===e||null===n)return!1;if("function"===a){if(!o.deepFunction||e.toString()!==n.toString())return!1}else if("object"!==a)return e!=e&&n!=n;const u=i.getSharedType(e,n,!!o.prototype);switch(u){case r.buffer:return t&&t.prototype.equals.call(e,n);case r.promise:return e===n;case r.regex:return e.toString()===n.toString();case i.mismatched:return!1}for(let t=s.length-1;t>=0;--t)if(s[t].isSame(e,n))return!0;s.push(new i.SeenEntry(e,n));try{return!!i.isDeepEqualObj(u,e,n,o,s)}finally{s.pop()}},i.getSharedType=function(e,t,n){if(n)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:r.getInternalProto(e);const o=r.getInternalProto(e);return o!==r.getInternalProto(t)?i.mismatched:o},i.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(n){return n}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){for(const n of e)if(!t.has(n))return!1;return!0},i.isDeepEqualObj=function(e,t,n,o,s){const{isDeepEqual:a,valueOf:u,hasOwnEnumerableProperty:c}=i,{keys:l,getOwnPropertySymbols:f}=Object;if(e===r.array){if(!o.part){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!a(t[e],n[e],o,s))return!1;return!0}for(const e of t)for(const t of n)if(a(e,t,o,s))return!0}else if(e===r.set){if(t.size!==n.size)return!1;if(!i.isSetSimpleEqual(t,n)){const e=new Set(n);for(const n of t){if(e.delete(n))continue;let t=!1;for(const r of e)if(a(n,r,o,s)){e.delete(r),t=!0;break}if(!t)return!1}}}else if(e===r.map){if(t.size!==n.size)return!1;for(const[e,r]of t){if(void 0===r&&!n.has(e))return!1;if(!a(r,n.get(e),o,s))return!1}}else if(e===r.error&&(t.name!==n.name||t.message!==n.message))return!1;const h=u(t),p=u(n);if((t!==h||n!==p)&&!a(h,p,o,s))return!1;const d=l(t);if(!o.part&&d.length!==l(n).length&&!o.skip)return!1;let y=0;for(const r of d)if(o.skip&&o.skip.includes(r))void 0===n[r]&&++y;else{if(!c(n,r))return!1;if(!a(t[r],n[r],o,s))return!1}if(!o.part&&d.length-y!==l(n).length)return!1;if(!1!==o.symbols){const e=f(t),r=new Set(f(n));for(const i of e){if(!o.skip||!o.skip.includes(i))if(c(t,i)){if(!c(n,i))return!1;if(!a(t[i],n[i],o,s))return!1}else if(c(n,i))return!1;r.delete(i)}for(const t of r)if(c(n,t))return!1}return!0},i.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},function(e,t,n){e.exports=n(118)},function(e,t,n){"use strict";const r=n(119),i=n(120),o=n(256),{FILE_TYPES:s,MFS_ROOT_KEY:a}=n(8);e.exports={cli:r,core:i,http:o,FILE_TYPES:s,MFS_ROOT_KEY:a}},function(e,t,n){"use strict";const r={command:"files <command>",description:"Operations over mfs files (ls, mkdir, rm, etc)",builder:e=>e.commandDir("."),handler(e){e.print("Type `jsipfs files --help` for more instructions")}};e.exports=e=>e.command(r)},function(e,t,n){"use strict";const r=n(59),i=n(61),o={stat:n(31)},s={chmod:n(214),cp:n(50),flush:n(248),mkdir:n(51),mv:n(249),rm:n(53),touch:n(250)},a={write:n(251),read:n(254),ls:n(255)},u=({options:e,mfs:t,operations:n,lock:r})=>{Object.keys(n).forEach(i=>{t[i]=r(n[i](e))})},c={repoOwner:!0,ipld:null,repo:null};e.exports=e=>{const{repoOwner:t}=Object.assign({},c||{},e);r(e.ipld,"MFS requires an IPLD instance"),r(e.blocks,"MFS requires an BlockStore instance"),r(e.datastore,"MFS requires a DataStore instance"),e.repo={blocks:e.blocks,datastore:e.datastore};const n=i(t),l={};return u({options:e,mfs:l,operations:o,lock:e=>n.readLock(e)}),u({options:e,mfs:l,operations:s,lock:e=>n.writeLock(e)}),Object.keys(a).forEach(t=>{l[t]=a[t](e)}),l}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,u=s(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var f=0;f<a.length;f++)o.call(n,a[f])&&(u[a[f]]=n[a[f]])}}return u}},function(e,t,n){"use strict";e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(t){const r=n(125),i=n(135),{default:o}=n(140),{timeout:s}=n(146),a=n(64),u={};let c;function l(e,t){let n;const r=new Promise(e=>{n=e});return e.add(()=>s(new Promise(e=>{n(()=>{e()})}),t.timeout)),r}const f={concurrency:1/0,timeout:846e5,global:t,singleProcess:!1};e.exports=(e,t)=>(t||(t={}),"object"==typeof e&&(t=e,e="lock"),e||(e="lock"),t=Object.assign({},f,t),c||(c=r(t)||i(t),c.isWorker||(c.on("requestReadLock",(e,t)=>{u[e]&&u[e].readLock().then(e=>t().finally(()=>e()))}),c.on("requestWriteLock",async(e,t)=>{u[e]&&u[e].writeLock().then(e=>t().finally(()=>e()))}))),u[e]||(u[e]=((e,t)=>{if(c.isWorker)return{readLock:c.readLock(e,t),writeLock:c.writeLock(e,t)};const n=new o({concurrency:1});let r=null;return{readLock:()=>{if(r)return l(r,t);r=new o({concurrency:t.concurrency,autoStart:!1});const e=r,i=l(r,t);return n.add(()=>(e.start(),e.onIdle().then(()=>{r===e&&(r=null)}))),i},writeLock:()=>(r=null,l(n,t))}})(e,t)),u[e]),e.exports.Worker=function(e,n){let r;n=n||t.Worker;try{r=new n(e)}catch(i){i.message.includes("not a constructor")&&(r=n(e))}if(!r)throw new Error("Could not create Worker from",n);return a(r),r}}).call(this,n(5))},function(e,t,n){"use strict";(function(t){const r=n(16).EventEmitter,i=n(62),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=n(63);let f;const h=(e,t,n,r,i)=>(o,s)=>{s&&s.type===n&&e.emit(t,s.name,()=>(o.send({type:i,name:s.name,identifier:s.identifier}),new Promise(e=>{const t=n=>{n&&n.type===r&&n.identifier===s.identifier&&(o.removeListener("message",t),e())};o.on("message",t)})))},p=(e,n,r,o)=>()=>{const s=i.generate();return t.send({type:n,identifier:s,name:e}),new Promise(n=>{const i=a=>{a&&a.type===r&&a.identifier===s&&(t.removeListener("message",i),n(()=>{t.send({type:o,identifier:s,name:e})}))};t.on("message",i)})};e.exports=e=>{try{if(f=n(134),!Object.keys(f).length)return}catch(t){return}if(f.isMaster||e.singleProcess){const e=new r;return f.on("message",h(e,"requestReadLock",o,s,a)),f.on("message",h(e,"requestWriteLock",u,c,l)),e}return{isWorker:!0,readLock:e=>p(e,o,a,s),writeLock:e=>p(e,u,l,c)}}}).call(this,n(2))},function(e,t,n){"use strict";var r=n(30),i=n(128),o=n(132),s=n(133)||0;function a(){return i(s)}e.exports=a,e.exports.generate=a,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return s=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=o},function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},function(e,t,n){"use strict";var r,i,o=n(129);n(30);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===i?r++:(r=0,i=n),t+=o(7),t+=o(e),r>0&&(t+=o(r)),t+=o(n)}},function(e,t,n){"use strict";var r=n(30),i=n(130),o=n(131);e.exports=function(e){for(var t,n=0,s="";!t;)s+=o(i,r.get(),1),t=e<Math.pow(16,n+1),n++;return s}},function(e,t,n){"use strict";var r,i="object"==typeof window&&(window.crypto||window.msCrypto);r=i&&i.getRandomValues?function(e){return i.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*n/t.length),o="";;)for(var s=e(i),a=i;a--;)if((o+=t[s[a]&r]||"").length===+n)return o}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},function(e,t,n){"use strict";e.exports=0},function(e,t){},function(e,t,n){"use strict";const r=n(16).EventEmitter,i=n(62),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=n(63),f=n(64),h=n(136)(),p=(e,t,n,r,i)=>(o,s)=>{if(!s||!s.data||s.data.type!==n)return;const a={type:s.data.type,name:s.data.name,identifier:s.data.identifier};e.emit(t,a.name,()=>(o.postMessage({type:i,name:a.name,identifier:a.identifier}),new Promise(e=>{const t=n=>{if(!n||!n.data)return;const i={type:n.data.type,name:n.data.name,identifier:n.data.identifier};i&&i.type===r&&i.identifier===a.identifier&&(o.removeEventListener("message",t),e())};o.addEventListener("message",t)})))},d=(e,t,n,r)=>()=>{const o=i.generate();return h.postMessage({type:t,identifier:o,name:e}),new Promise(t=>{const i=s=>{if(!s||!s.data)return;const a={type:s.data.type,identifier:s.data.identifier};a&&a.type===n&&a.identifier===o&&(h.removeEventListener("message",i),t(()=>{h.postMessage({type:r,identifier:o,name:e})}))};h.addEventListener("message",i)})},y={singleProcess:!1};e.exports=e=>{if(e=Object.assign({},y,e),!!h.document||e.singleProcess){const e=new r;return f.addEventListener("message",p(e,"requestReadLock",o,s,a)),f.addEventListener("message",p(e,"requestWriteLock",u,c,l)),e}return{isWorker:!0,readLock:e=>d(e,o,a,s),writeLock:e=>d(e,u,l,c)}}},function(e,t,n){"use strict";var r=n(65),i=n(67),o=n(68),s=n(139),a=o(),u=function(){return a};r(u,{getPolyfill:o,implementation:i,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(66),o=Object.keys,s=o?function(e){return o(e)}:n(138),a=Object.keys;s.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?a(r.call(e)):a(e)}):Object.keys=s;return Object.keys||s},e.exports=s},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(66),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(a&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)h.push(String(y));if(r&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var b in e)d&&"prototype"===b||!i.call(e,b)||h.push(String(b));if(u)for(var m=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(t){return!1}}(e),v=0;v<l.length;++v)m&&"constructor"===l[v]||!i.call(e,l[v])||h.push(l[v]);return h}}e.exports=r},function(e,t,n){"use strict";var r=n(65),i=n(68);e.exports=function(){var e=i();if(r.supportsDescriptors){var t=Object.getOwnPropertyDescriptor(e,"globalThis");(!t||t.configurable&&(t.enumerable||t.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!1})}else"object"==typeof globalThis&&globalThis===e||(e.globalThis=e);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(141),i=n(142),o=n(144),s=()=>{},a=new i.TimeoutError;t.default=class extends r{constructor(e){if(super(),Object.defineProperty(this,"_carryoverConcurrencyCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isIntervalIgnored",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalCap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalEnd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_timeoutId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queueClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pendingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_concurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_resolveEmpty",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_resolveIdle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_throwOnTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(e.intervalCap,"` (").concat(typeof e.intervalCap,")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(e.interval,"` (").concat(typeof e.interval,")"));this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s)}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this._queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat(typeof e,")"));this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,r)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(a)});n(await o)}catch(o){r(o)}this._next()},t),this._tryToStartAnother()})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}set timeout(e){this._timeout=e}get timeout(){return this._timeout}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,s),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||u(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==t||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";const r=n(143);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const o=(e,t,n)=>new Promise((o,s)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);const a=setTimeout(()=>{if("function"==typeof n){try{o(n())}catch(u){s(u)}return}const r="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),a=n instanceof Error?n:new i(r);"function"==typeof e.cancel&&e.cancel(),s(a)},t);r(e.then(o,s),()=>{clearTimeout(a)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=i},function(e,t,n){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(145);t.default=class{constructor(){Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:[]})}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const i=r.default(this._queue,n,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return e&&e.run}get size(){return this._queue.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,i=e.length;for(;i>0;){const o=i/2|0;let s=r+o;n(e[s],t)<=0?(r=++s,i-=o+1):i=o}return r}},function(e,t,n){"use strict";var r;e.exports.timeout=function(e,t){var n,i=new r;return Promise.race([e,new Promise((function(e,r){n=setTimeout((function(){r(i)}),t)}))]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))};(r=e.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"}).prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"},function(e,t,n){"use strict";const r=n(69),i=n(152),o=n(72),s=n(73);t.Key=r,t.MemoryDatastore=i,t.utils=o,t.Errors=s},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict";t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y}},function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);e.exports=function(){return r(i),i}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t,n){"use strict";for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,n){"use strict";const{filter:r,sortAll:i,take:o,map:s}=n(72),a=n(69),u=n(73);e.exports=class{constructor(){this.data={}}async open(){}async put(e,t){this.data[e.toString()]=t}async get(e){if(!await this.has(e))throw u.notFoundError();return this.data[e.toString()]}async has(e){return void 0!==this.data[e.toString()]}async delete(e){delete this.data[e.toString()]}batch(){let e=[],t=[];return{put(t,n){e.push([t,n])},delete(e){t.push(e)},commit:async()=>{e.forEach(e=>{this.data[e[0].toString()]=e[1]}),e=[],t.forEach(e=>{delete this.data[e.toString()]}),t=[]}}}query(e){let t=Object.entries(this.data);if(t=s(t,e=>({key:new a(e[0]),value:e[1]})),null!=e.prefix&&(t=r(t,t=>t.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(t=e.filters.reduce((e,t)=>r(e,t),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((e,t)=>i(e,t),t)),null!=e.offset){let n=0;t=r(t,()=>n++>=e.offset)}return null!=e.limit&&(t=o(t,e.limit)),!0===e.keysOnly&&(t=s(t,e=>({key:e.key}))),t}async close(){}}},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(2))},function(e,t,n){"use strict";t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";var r=n(75);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,n){"use strict";t.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),t.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),t.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},function(e,t,n){"use strict";e.exports=function e(t,n,i){n=n||[];var o=i=i||0;for(;t>=r;)n[i++]=255&t|128,t/=128;for(;-128&t;)n[i++]=255&t|128,t>>>=7;return n[i]=0|t,e.bytes=i-o+1,n};var r=Math.pow(2,31)},function(e,t,n){"use strict";e.exports=function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=s-n,i}},function(e,t,n){"use strict";var r=Math.pow(2,7),i=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),a=Math.pow(2,35),u=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<r?1:e<i?2:e<o?3:e<s?4:e<a?5:e<u?6:e<c?7:e<l?8:e<f?9:10}},function(e,t,n){"use strict";(function(r){const i=n(161);(t=e.exports=s).encode=function(e,t){const n=a(e);return s(n.name,r.from(n.encode(t)))},t.decode=function(e){r.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=r.from(e));const n=a(t);return r.from(n.decode(e.toString()))},t.isEncoded=function(e){r.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;const t=e.substring(0,1);try{return a(t).name}catch(n){return!1}},t.names=Object.freeze(Object.keys(i.names)),t.codes=Object.freeze(Object.keys(i.codes));const o=new Error("Unsupported encoding");function s(e,t){if(!t)throw new Error("requires an encoded buffer");const n=a(e),i=r.from(n.code);return function(e,t){a(e).decode(t.toString())}(n.name,t),r.concat([i,t])}function a(e){let t;if(i.names[e])t=i.names[e];else{if(!i.codes[e])throw o;t=i.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(162),i=n(75),o=n(163),s=n(164),a=n(165),u=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",o,"0123456789abcdef"],["base32","b",s,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",s,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",s,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",s,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",s,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce((e,t)=>(e[t[0]]=new r(t[0],t[1],t[2],t[3]),e),{}),l=u.reduce((e,t)=>(e[t[1]]=c[t[0]],e),{});e.exports={names:c,codes:l}},function(e,t,n){"use strict";e.exports=class{constructor(e,t,n,r){this.name=e,this.code=t,this.alphabet=r,n&&r&&(this.engine=n(r))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},function(e,t,n){"use strict";(function(t){e.exports=function(e){return{encode:e=>"string"==typeof e?t.from(e).toString("hex"):e.toString("hex"),decode(n){for(let t of n)if(e.indexOf(t)<0)throw new Error("invalid base16 character");return t.from(n,"hex")}}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){function n(e,t){let n=e.byteLength,r=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-2));let o=0,s=0,a="";for(let u=0;u<n;u++)for(s=s<<8|r[u],o+=8;o>=5;)a+=t[s>>>o-5&31],o-=5;if(o>0&&(a+=t[s<<5-o&31]),i)for(;a.length%8!=0;)a+="=";return a}e.exports=function(e){return{encode:r=>n("string"==typeof r?t.from(r):r,e),decode(t){for(let n of t)if(e.indexOf(n)<0)throw new Error("invalid base32 character");return function(e,t){let n=(e=e.replace(new RegExp("=","g"),"")).length,r=0,i=0,o=0,s=new Uint8Array(5*n/8|0);for(let a=0;a<n;a++)i=i<<5|t.indexOf(e[a]),r+=5,r>=8&&(s[o++]=i>>>r-8&255,r-=8);return s.buffer}(t,e)}}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){e.exports=function(e){const n=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){let i="";i="string"==typeof e?t.from(e).toString("base64"):e.toString("base64"),r&&(i=i.replace(/\+/g,"-").replace(/\//g,"_"));const o=i.indexOf("=");return o>0&&!n&&(i=i.substring(0,o)),i},decode(n){for(let t of n)if(e.indexOf(t)<0)throw new Error("invalid base64 character");return t.from(n,"base64")}}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(27),i=new Map;for(const o in r){const e=r[o];i.set(e,o)}e.exports=Object.freeze(i)},function(e,t,n){"use strict";const r=n(27),i=n(76).varintEncode,o={};for(const s in r){const e=r[s];o[s]=i(e)}e.exports=Object.freeze(o)},function(e,t,n){"use strict";const r=n(27),i={};for(const[o,s]of Object.entries(r))i[o.toUpperCase().replace(/-/g,"_")]=s;e.exports=Object.freeze(i)},function(e,t,n){"use strict";const r=n(27),i={};for(const[o,s]of Object.entries(r))void 0===i[s]&&(i[s]=o);e.exports=Object.freeze(i)},function(e,t,n){"use strict";(function(t){const r=n(9);var i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!t.isBuffer(e.multihash))return"multihash must be a Buffer";try{r.validate(e.multihash)}catch(n){let e=n.message;return e||(e="Multihash validation failed"),e}}};e.exports=i}).call(this,n(0).Buffer)},function(e,t,n){"use strict";var r=n(172),i=n(174);e.exports=r,e.exports.parse=r,e.exports.stringify=i},function(e,t,n){"use strict";var r=n(173),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],o=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var n=e.shift();if("("===n&&(n=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[n]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},s=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var n=e.shift();t.required="required"===n,t.repeated="repeated"===n,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=o(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},a=function(e){for(var t={enums:[],messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(s(e));break;case"enum":t.enums.push(d(e));break;case"message":t.messages.push(l(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var n=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var r=s(e);r.oneof=n,t.fields.push(r)}e.shift();break;case"extend":t.extends.push(u(e));break;case";":e.shift();break;case"reserved":case"option":for(e.shift();";"!==e[0];)e.shift();break;default:e.unshift("optional"),t.fields.push(s(e))}return t},u=function(e){return{name:e[1],message:l(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var n=e.shift();if("max"===n&&(n=536870911),n=Number(n),isNaN(n))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:n}},l=function(e){e.shift();var t=1,n=[],r={name:e.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),n=a(n),r.enums=n.enums,r.messages=n.messages,r.fields=n.fields,r.extends=n.extends,r.extensions=n.extensions,r;n.push(e.shift())}if(t)throw new Error("No closing tag for message")},f=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var n={value:null,options:{}};return n.value=Number(e.shift()),"["===e[0]&&(n.options=o(e)),e.shift(),{name:t,val:n}},d=function(e){e.shift();var t={},n={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),n;if("option"!==e[0]){var r=p(e);n.values[r.name]=r.val}else t=y(e),n.options[t.name]=t.value}throw new Error("No closing tag for enum")},y=function(e){for(var t=null,n=null,r=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:n};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(n=r(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(n))throw new Error("Unexpected value for option optimize_for: "+n);"{"===n&&(n=g(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},g=function e(t){for(var n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};t.length;){if("}"===t[0])return t.shift(),r;var i="("===t[0];i&&t.shift();var o=t.shift();if(i){if(")"!==t[0])throw new Error("Expected ) but found "+t[0]);t.shift()}var s=null;switch(t[0]){case":":if(void 0!==r[o])throw new Error("Duplicate option map key "+o);t.shift(),"{"===(s=n(t.shift()))&&(s=e(t)),r[o]=s,";"===t[0]&&t.shift();break;case"{":if(t.shift(),s=e(t),void 0===r[o]&&(r[o]=[]),!Array.isArray(r[o]))throw new Error("Duplicate option map key "+o);r[o].push(s);break;default:throw new Error("Unexpected token in option map: "+t[0])}}throw new Error("No closing tag for option map")},b=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},m=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var n=y(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value;break;case"rpc":t.methods.push(v(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},v=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var n=y(e);if(void 0!==t.options[n.name])throw new Error("Duplicate option "+n.name);t.options[n.name]=n.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=r(e.toString()),n=0;n<t.length;n++){var o;if(/^("|')([^'"]*)$/.test(t[n]))for(o=1===t[n].length?n+1:n;o<t.length;o++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[o])){t=t.slice(0,n).concat(t.slice(n,o+1).join("")).concat(t.slice(o+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;t.length;){switch(t[0]){case"package":s.package=f(t);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");s.syntax=h(t);break;case"message":s.messages.push(l(t));break;case"enum":s.enums.push(d(t));break;case"option":var c=y(t);if(s.options[c.name])throw new Error("Duplicate option "+c.name);s.options[c.name]=c.value;break;case"import":s.imports.push(b(t));break;case"extend":s.extends.push(u(t));break;case"service":s.services||(s.services=[]),s.services.push(m(t));break;default:throw new Error("Unexpected token: "+t[0])}a=!1}return s.extends.forEach((function(e){s.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),s.messages.forEach((function(e){e.fields.forEach((function(t){var n,r,o,a;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((n=t.type.split(".")).length>2)throw new Error("what is this?");if(r=n[0],o=n[1],s.messages.some((function(e){if(e.name===r)return a=e,e})),a&&a.enums&&a.enums.some((function(e){return e.name===o})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),s}},function(e,t,n){"use strict";e.exports=function(e){var t,n=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(n).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},function(e,t,n){"use strict";var r=function(e,t){var n=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(n="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(n="");var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),t.push((n?n+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+r+";"),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var n=s(e.options,[]);return n.length>1&&t.push(n.slice(0,-1)),Object.keys(e.values).map((function(n){var r=o(e.values[n]);t.push([n+" = "+r+";"])})),t.push("}",""),t},o=function(e,t){var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),e.value+n},s=function(e,t){var n=Object.keys(e);return n.forEach((function(n){var r=e[n];~n.indexOf(".")&&(n="("+n+")");var i=typeof r;"object"===i?(r=a(r,[])).length&&t.push("option "+n+" = {",r,"};"):("string"===i&&"optimize_for"!==n&&(r='"'+r+'"'),t.push("option "+n+" = "+r+";"))})),n.length>0&&t.push(""),t},a=function e(t,n){return Object.keys(t).forEach((function(r){var i=t[r],o=typeof i;"object"===o?Array.isArray(i)?i.forEach((function(t){(t=e(t,[])).length&&n.push(r+" {",t,"}")})):(i=e(i,[])).length&&n.push(r+" {",i,"}"):("string"===o&&(i='"'+i+'"'),n.push(r+": "+i))})),n},u=function(e,t){var n="rpc "+e.name+"(";e.client_streaming&&(n+="stream "),n+=e.input_type+") returns (",e.server_streaming&&(n+="stream "),n+=e.output_type+")",e.options||(e.options={});var r=s(e.options,[]);return r.length>1?t.push(n+" {",r.slice(0,-1),"}"):t.push(n+";"),t};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),s(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){!function e(t,n){n.push("message "+t.name+" {"),t.enums||(t.enums=[]),t.enums.forEach((function(e){n.push(i(e,[]))})),t.messages||(t.messages=[]),t.messages.forEach((function(t){n.push(e(t,[]))}));var o={};return t.fields||(t.fields=[]),t.fields.forEach((function(e){e.oneof?(o[e.oneof]||(o[e.oneof]=[]),o[e.oneof].push(r(e,[]))):n.push(r(e,[]))})),Object.keys(o).forEach((function(e){o[e].unshift("oneof "+e+" {"),o[e].push("}"),n.push(o[e])})),n.push("}",""),n}(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),s(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(u(e,[]))})),t.push("}","")}(e,t)})),t.map(function e(t){return function(n){return Array.isArray(n)?n.map(e(t+"  ")).join("\n"):t+n}}("")).join("\n")}},function(e,t,n){"use strict";var r=n(176),i=n(178),o=n(179),s=n(180),a=n(15);e.exports=function(e,t){var n={},u={},c={};!function e(t,r){t.enums&&t.enums.forEach((function(t){t.id=r+(r?".":"")+t.name,u[t.id]=t,e(t,t.id)})),t.messages&&t.messages.forEach((function(i){i.id=r+(r?".":"")+i.name,n[i.id]=i,i.fields.forEach((function(e){if(e.map){var i="Map_"+e.map.from+"_"+e.map.to,o={name:i,enums:[],messages:[],fields:[{name:"key",type:e.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:e.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:r+(r?".":"")+i};n[o.id]||(n[o.id]=o,t.messages.push(o)),e.type=i,e.repeated=!0}})),e(i,i.id)}))}(e,"");var l=function(e,t){e.messages.forEach((function(n){t[n.name]=f(n.name,e.id)})),e.enums.forEach((function(e){t[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t}(e.values)})),t.type=2,t.message=!0,t.name=e.name;var n={};e.fields.forEach((function(e){e.oneof&&(n[e.oneof]||(n[e.oneof]=[]),n[e.oneof].push(e.name))}));var r=e.fields.map((function(t){return f(t.type,e.id)})),a=s(e,r,n),u=o(e,f,r,n,a),c=i(e,f,r);return u.bytes=c.bytes=0,t.buffer=!0,t.encode=u,t.decode=c,t.encodingLength=a,t},f=function(e,i,o){if(t&&t[e])return t[e];if(r[e])return r[e];var s,f,h=(i?i+"."+e:e).split(".").map((function(t,n,r){return r.slice(0,n).concat(e).join(".")})).reverse().reduce((function(e,t){return e||n[t]||u[t]}),null);if(!1===o)return h;if(!h)throw new Error("Could not resolve "+e);return h.values?(s=h,f=Object.keys(s.values||[]).map((function(e){return parseInt(s.values[e].value,10)})),r.make(0,(function e(t,n,r){if(!f.length||-1===f.indexOf(t))throw new Error("Invalid enum value: "+t);return a.encode(t,n,r),e.bytes=a.encode.bytes,n}),(function e(t,n){var r=a.decode(t,n);if(!f.length||-1===f.indexOf(r))throw new Error("Invalid enum value: "+r);return e.bytes=a.decode.bytes,r}),a.encodingLength)):c[h.id]||l(h,c[h.id]={})};return(e.enums||[]).concat((e.messages||[]).map((function(e){return f(e.id)})))}},function(e,t,n){"use strict";var r,i=n(15),o=n(177),s=n(38).Buffer,a=function(e,t,n,r){return t.bytes=n.bytes=0,{type:e,encode:t,decode:n,encodingLength:r}};t.make=a,t.bytes=(r=function(e){return s.isBuffer(e)?e.length:s.byteLength(e)},a(2,(function e(t,n,o){var a=o,u=r(t);return i.encode(u,n,o),o+=i.encode.bytes,s.isBuffer(t)?t.copy(n,o):n.write(t,o,u),e.bytes=(o+=u)-a,n}),(function e(t,n){var r=n,o=i.decode(t,n);n+=i.decode.bytes;var s=t.slice(n,n+o);return n+=s.length,e.bytes=n-r,s}),(function(e){var t=r(e);return i.encodingLength(t)+t}))),t.string=a(2,(function e(t,n,r){var o=r,a=s.byteLength(t);return i.encode(a,n,r,"utf-8"),r+=i.encode.bytes,n.write(t,r,a),e.bytes=(r+=a)-o,n}),(function e(t,n){var r=n,o=i.decode(t,n);n+=i.decode.bytes;var s=t.toString("utf-8",n,n+o);return e.bytes=(n+=o)-r,s}),(function(e){var t=s.byteLength(e);return i.encodingLength(t)+t})),t.bool=a(0,(function e(t,n,r){return n[r]=t?1:0,e.bytes=1,n}),(function e(t,n){var r=t[n]>0;return e.bytes=1,r}),(function(e){return 1})),t.int32=a(0,(function e(t,n,r){return i.encode(t<0?t+4294967296:t,n,r),e.bytes=i.encode.bytes,n}),(function e(t,n){var r=i.decode(t,n);return e.bytes=i.decode.bytes,r>2147483647?r-4294967296:r}),(function(e){return i.encodingLength(e<0?e+4294967296:e)})),t.int64=a(0,(function e(t,n,r){if(t<0){var o=r+9;for(i.encode(-1*t,n,r),n[r+=i.encode.bytes-1]=128|n[r];r<o-1;)n[++r]=255;n[o]=1,e.bytes=10}else i.encode(t,n,r),e.bytes=i.encode.bytes;return n}),(function e(t,n){var r=i.decode(t,n);if(r>=Math.pow(2,63)){for(var o=9;255===t[n+o-1];)o--;o=o||9;var a=s.allocUnsafe(o);t.copy(a,0,n,n+o),a[o-1]=127&a[o-1],r=-1*i.decode(a,0),e.bytes=10}else e.bytes=i.decode.bytes;return r}),(function(e){return e<0?10:i.encodingLength(e)})),t.sint32=t.sint64=a(0,o.encode,o.decode,o.encodingLength),t.uint32=t.uint64=t.enum=t.varint=a(0,i.encode,i.decode,i.encodingLength),t.fixed64=t.sfixed64=a(1,(function e(t,n,r){return t.copy(n,r),e.bytes=8,n}),(function e(t,n){var r=t.slice(n,n+8);return e.bytes=8,r}),(function(e){return 8})),t.double=a(1,(function e(t,n,r){return n.writeDoubleLE(t,r),e.bytes=8,n}),(function e(t,n){var r=t.readDoubleLE(n);return e.bytes=8,r}),(function(e){return 8})),t.fixed32=a(5,(function e(t,n,r){return n.writeUInt32LE(t,r),e.bytes=4,n}),(function e(t,n){var r=t.readUInt32LE(n);return e.bytes=4,r}),(function(e){return 4})),t.sfixed32=a(5,(function e(t,n,r){return n.writeInt32LE(t,r),e.bytes=4,n}),(function e(t,n){var r=t.readInt32LE(n);return e.bytes=4,r}),(function(e){return 4})),t.float=a(5,(function e(t,n,r){return n.writeFloatLE(t,r),e.bytes=4,n}),(function e(t,n){var r=t.readFloatLE(n);return e.bytes=4,r}),(function(e){return 4}))},function(e,t,n){"use strict";var r=n(15);t.encode=function e(t,n,i){t=t>=0?2*t:-2*t-1;var o=r.encode(t,n,i);return e.bytes=r.encode.bytes,o},t.decode=function e(t,n){var i=r.decode(t,n);return e.bytes=r.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return r.encodingLength(e>=0?2*e:-2*e-1)}},function(e,t,n){"use strict";var r=n(15),i=n(40).defined;function o(e){return"".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1))}function s(e,t,n,r){if(Object.prototype.hasOwnProperty.call(e,t))return;const i=o(t);Object.defineProperties(e,{[t]:{enumerable:!0,configurable:!0,set:e=>{n=e},get:()=>void 0===n?r:n},["has".concat(i)]:{configurable:!0,value:()=>void 0!==n},["set".concat(i)]:{configurable:!0,value:e=>{n=e}},["get".concat(i)]:{configurable:!0,value:()=>n},["clear".concat(i)]:{configurable:!0,value:()=>{n=void 0,e[t]=void 0}}})}var a=function(e,t,n){switch(e){case 0:return r.decode(t,n),n+r.decode.bytes;case 1:return n+8;case 2:var i=r.decode(t,n);return n+r.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4;default:throw new Error("Unknown wire type: "+e)}},u=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},c=function(e,t){if(void 0===t)return t;switch(e.type){case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t,10);default:return t}};e.exports=function(e,t,n){for(var l=[],f={},h=[],p=[],d=0;d<n.length;d++){var y=e.fields[d];f[y.tag]=d;var g=y.options&&y.options.default,b=t(y.type,e.id,!1);p[d]=[g,b&&b.values],e.fields[d].packed=y.repeated&&y.options&&y.options.packed&&"false"!==y.options.packed,y.required&&l.push(y.name),y.oneof&&h.push(y.name)}function m(e,t,n,i,a,u){var c=t.name;if(t.oneof)for(var l=Object.keys(n),f=0;f<l.length;f++)if(h.indexOf(l[f])>-1){const e=o(l[f]);delete n["has".concat(e)],delete n["get".concat(e)],delete n["set".concat(e)],delete n["clear".concat(e)],delete n[l[f]]}let p;if(e.message){var d=r.decode(i,a);a+=r.decode.bytes;var y=e.decode(i,a,a+d);t.map?(p=n[c]||{},p[y.key]=y.value):t.repeated?(p=n[c]||[],p.push(y)):p=y}else t.repeated?(p=n[c]||[],p.push(e.decode(i,a))):p=e.decode(i,a);return s(n,c,p),a+=e.decode.bytes}return function t(o,d,y){if(null==d&&(d=0),null==y&&(y=o.length),!(y<=o.length&&d<=o.length))throw new Error("Decoded message is not valid");for(var g,b=d,v={};;){if(y<=d){var w,k,_="",S=0;for(S=0;S<l.length;S++)if(_=l[S],!i(v[_]))throw new Error("Decoded message is not valid, missing required field: "+_);for(S=0;S<n.length;S++){let t;if(g=e.fields[S],k=p[S][0],w=p[S][1],_=g.name,!Object.prototype.hasOwnProperty.call(v,_)){var E=!1;if(g.oneof)for(var x=Object.keys(v),A=0;A<x.length;A++)if(h.indexOf(x[A])>-1){E=!0;break}E||(w?g.repeated?k=[]:(k=k&&w[k]?w[k].value:w[Object.keys(w)[0]].value,k=parseInt(k||0,10)):(t=u(g),k=c(g,k)),s(v,_,k,t))}}return t.bytes=d-b,v}var O=r.decode(o,d);d+=r.decode.bytes;var j=f[O>>3];if(null!=j){var R=n[j];if((g=e.fields[j]).packed){var T=r.decode(o,d);for(T+=d+=r.decode.bytes;d<T;)d=m(R,g,v,o,d)}else d=m(R,g,v,o,d)}else d=a(7&O,o,d)}}}},function(e,t,n){"use strict";(function(t){var r=n(40).defined,i=n(15);e.exports=function(e,n,o,s,a){for(var u=Object.keys(s),c=o.length,l={},f=0;f<c;f++){l[f]={p:i.encode(e.fields[f].tag<<3|2),h:i.encode(e.fields[f].tag<<3|o[f].type)};var h=e.fields[f];e.fields[f].packed=h.repeated&&h.options&&h.options.packed&&"false"!==h.options.packed}function p(e,t,n,r,o,s){var a=0;if(!o)for(a=0;a<n.length;a++)e[t++]=n[a];return r.message&&(i.encode(r.encodingLength(s),e,t),t+=i.encode.bytes),r.encode(s,e,t),t+r.encode.bytes}return function n(f,h,d){null==d&&(d=0),null==h&&(h=t.allocUnsafe(a(f)));var y=d,g=Object.keys(f),b=0,m=!1;for(b=0;b<u.length;b++){var v=u[b],w=s[b];if(g.indexOf(w)>-1){if(m)throw new Error("only one of the properties defined in oneof "+v+" can be set");m=!0}}for(b=0;b<c;b++){var k=o[b],_=e.fields[b],S=f[_.name],E=0;if(r(S)){var x,A=l[b].p,O=l[b].h,j=_.packed;if(_.map){var R=Object.keys(S);for(E=0;E<R.length;E++)R[E]={key:R[E],value:S[R[E]]};S=R}if(j){var T=0;for(E=0;E<S.length;E++)Object.prototype.hasOwnProperty.call(S,E)&&(T+=k.encodingLength(S[E]));if(T){for(E=0;E<O.length;E++)h[d++]=A[E];i.encode(T,h,d),d+=i.encode.bytes}}if(_.repeated)for(E=0;E<S.length;E++)x=S[E],r(x)&&(d=p(h,d,O,k,j,x));else d=p(h,d,O,k,j,S)}else if(_.required)throw new Error(_.name+" is required")}return n.bytes=d-y,h}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";var r=n(40).defined,i=n(15);e.exports=function(e,t,n){for(var o=Object.keys(n),s=t.length,a=new Array(s),u=0;u<e.fields.length;u++){a[u]=i.encodingLength(e.fields[u].tag<<3|t[u].type);var c=e.fields[u];e.fields[u].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}return function(u){var c=0,l=0,f=0;for(l=0;l<o.length;l++){var h=o[l],p=n[h],d=!1;for(f=0;f<p.length;f++)if(r(u[p[f]])){if(d)throw new Error("only one of the properties defined in oneof "+h+" can be set");d=!0}}for(l=0;l<s;l++){var y,g=t[l],b=e.fields[l],m=u[b.name],v=a[l];if(r(m)){if(b.map){var w=Object.keys(m);for(f=0;f<w.length;f++)w[f]={key:w[f],value:m[w[f]]};m=w}if(b.packed){var k=0;for(f=0;f<m.length;f++)r(m[f])&&(k+=y=g.encodingLength(m[f]),g.message&&(k+=i.encodingLength(y)));k&&(c+=v+k+i.encodingLength(k))}else if(b.repeated)for(f=0;f<m.length;f++)r(m[f])&&(c+=v+(y=g.encodingLength(m[f]))+(g.message?i.encodingLength(y):0));else c+=v+(y=g.encodingLength(m))+(g.message?i.encodingLength(y):0)}else if(b.required)throw new Error(b.name+" is required")}return c}}},function(e,t,n){"use strict";e.exports='\nsyntax = "proto2";\n\nmessage Data {\n  enum DataType {\n    Raw = 0;\n    Directory = 1;\n    File = 2;\n    Metadata = 3;\n    Symlink = 4;\n    HAMTShard = 5;\n  }\n\n  required DataType Type = 1;\n  optional bytes Data = 2;\n  optional uint64 filesize = 3;\n  repeated uint64 blocksizes = 4;\n  optional uint64 hashType = 5;\n  optional uint64 fanout = 6;\n  optional uint32 mode = 7;\n  optional UnixTime mtime = 8;\n}\n\nmessage UnixTime {\n  required int64 Seconds = 1;\n  optional fixed32 FractionalNanoseconds = 2;\n}\n\nmessage Metadata {\n  optional string MimeType = 1;\n}\n'},function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){"use strict";e.exports=function(){var e=function(e,n){return t(e.slice(),n)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var r=e.length;if(r<=1)return e;for(var i=new Array(r),o=1;o<r;o*=2){n(e,t,o,i);var s=e;e=i,i=s}return e}e.inplace=function(e,r){var i=t(e,r);return i!==e&&n(i,null,e.length,e),e};var n=function(e,t,n,r){var i,o,s,a,u,c=e.length,l=0,f=2*n;for(i=0;i<c;i+=f)for(s=(o=i+n)+n,o>c&&(o=c),s>c&&(s=c),a=i,u=o;;)if(a<o&&u<s)t(e[a],e[u])<=0?r[l++]=e[a++]:r[l++]=e[u++];else if(a<o)r[l++]=e[a++];else{if(!(u<s))break;r[l++]=e[u++]}};return e}()},function(e,t,n){"use strict";const r=n(19),i=n(81);e.exports=async(e,t={})=>{const n=await i.cid(e.serialize(),t);return new r(t.name||"",e.size,n)}},function(e,t,n){"use strict";const{Buffer:r}=n(0),i=n(186),o=n(188),s=n(190),{fromNumberTo32BitBuf:a}=n(191),u=e=>async t=>{switch(e){case"sha3-224":return r.from(i.sha3_224.arrayBuffer(t));case"sha3-256":return r.from(i.sha3_256.arrayBuffer(t));case"sha3-384":return r.from(i.sha3_384.arrayBuffer(t));case"sha3-512":return r.from(i.sha3_512.arrayBuffer(t));case"shake-128":return r.from(i.shake128.create(128).update(t).arrayBuffer());case"shake-256":return r.from(i.shake256.create(256).update(t).arrayBuffer());case"keccak-224":return r.from(i.keccak224.arrayBuffer(t));case"keccak-256":return r.from(i.keccak256.arrayBuffer(t));case"keccak-384":return r.from(i.keccak384.arrayBuffer(t));case"keccak-512":return r.from(i.keccak512.arrayBuffer(t));case"murmur3-128":return r.from(o.x64.hash128(t),"hex");case"murmur3-32":return a(o.x86.hash32(t));default:throw new TypeError("".concat(e," is not a supported algorithm"))}};e.exports={identity:e=>r.from(e),sha1:s("sha1"),sha2256:s("sha2-256"),sha2512:s("sha2-512"),dblSha2256:s("dbl-sha2-256"),sha3224:u("sha3-224"),sha3256:u("sha3-256"),sha3384:u("sha3-384"),sha3512:u("sha3-512"),shake128:u("shake-128"),shake256:u("shake-256"),keccak224:u("keccak-224"),keccak256:u("keccak-256"),keccak384:u("keccak-384"),keccak512:u("keccak-512"),murmur3128:u("murmur3-128"),murmur332:u("murmur3-32"),addBlake:n(192)}},function(e,t,n){"use strict";(function(r,i){var o;!function(){var s="input is invalid type",a="object"==typeof window,u=a?window:{};u.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&"object"==typeof self;!u.JS_SHA3_NO_NODE_JS&&"object"==typeof r&&r.versions&&r.versions.node?u=i:c&&(u=self);var l=!u.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,f=n(187),h=!u.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,p="0123456789abcdef".split(""),d=[4,1024,262144,67108864],y=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],m=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!u.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var k=function(e,t,n){return function(r){return new B(e,t,e).update(r)[n]()}},_=function(e,t,n){return function(r,i){return new B(e,t,i).update(r)[n]()}},S=function(e,t,n){return function(t,r,i,o){return j["cshake"+e].update(t,r,i,o)[n]()}},E=function(e,t,n){return function(t,r,i,o){return j["kmac"+e].update(t,r,i,o)[n]()}},x=function(e,t,n,r){for(var i=0;i<v.length;++i){var o=v[i];e[o]=t(n,r,o)}return e},A=function(e,t){var n=k(e,t,"hex");return n.create=function(){return new B(e,t,e)},n.update=function(e){return n.create().update(e)},x(n,k,e,t)},O=[{name:"keccak",padding:[1,256,65536,16777216],bits:b,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:b,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var n=_(e,t,"hex");return n.create=function(n){return new B(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},x(n,_,e,t)}},{name:"cshake",padding:d,bits:m,createMethod:function(e,t){var n=w[e],r=S(e,0,"hex");return r.create=function(r,i,o){return i||o?new B(e,t,r).bytepad([i,o],n):j["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},x(r,S,e,t)}},{name:"kmac",padding:d,bits:m,createMethod:function(e,t){var n=w[e],r=E(e,0,"hex");return r.create=function(r,i,o){return new N(e,t,i).bytepad(["KMAC",o],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},x(r,E,e,t)}}],j={},R=[],T=0;T<O.length;++T)for(var P=O[T],C=P.bits,I=0;I<C.length;++I){var L=P.name+"_"+C[I];if(R.push(L),j[L]=P.createMethod(C[I],P.padding),"sha3"!==P.name){var D=P.name+C[I];R.push(D),j[D]=j[L]}}function B(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function N(e,t,n){B.call(this,e,t,n)}B.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(s);if(null===e)throw new Error(s);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(s);t=!0}for(var r,i,o=this.blocks,a=this.byteCount,u=e.length,c=this.blockCount,l=0,f=this.s;l<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,r=1;r<c+1;++r)o[r]=0;if(t)for(r=this.start;l<u&&r<a;++l)o[r>>2]|=e[l]<<y[3&r++];else for(r=this.start;l<u&&r<a;++l)(i=e.charCodeAt(l))<128?o[r>>2]|=i<<y[3&r++]:i<2048?(o[r>>2]|=(192|i>>6)<<y[3&r++],o[r>>2]|=(128|63&i)<<y[3&r++]):i<55296||i>=57344?(o[r>>2]|=(224|i>>12)<<y[3&r++],o[r>>2]|=(128|i>>6&63)<<y[3&r++],o[r>>2]|=(128|63&i)<<y[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),o[r>>2]|=(240|i>>18)<<y[3&r++],o[r>>2]|=(128|i>>12&63)<<y[3&r++],o[r>>2]|=(128|i>>6&63)<<y[3&r++],o[r>>2]|=(128|63&i)<<y[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=o[c],r=0;r<c;++r)f[r]^=o[r];M(f),this.reset=!0}else this.start=r}return this},B.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},B.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(s);if(null===e)throw new Error(s);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(s);t=!0}var r=0,i=e.length;if(t)r=i;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),r+=4)}return r+=this.encode(8*r),this.update(e),r},B.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,o=[];return o.length=i,this.update(o),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];M(r)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<r;){for(o=0;o<t&&s<r;++o,++s)e=n[o],a+=p[e>>4&15]+p[15&e]+p[e>>12&15]+p[e>>8&15]+p[e>>20&15]+p[e>>16&15]+p[e>>28&15]+p[e>>24&15];s%t==0&&(M(n),o=0)}return i&&(e=n[o],a+=p[e>>4&15]+p[15&e],i>1&&(a+=p[e>>12&15]+p[e>>8&15]),i>2&&(a+=p[e>>20&15]+p[e>>16&15])),a},B.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<r;){for(o=0;o<t&&s<r;++o,++s)u[s]=n[o];s%t==0&&M(n)}return i&&(u[o]=n[o],e=e.slice(0,a)),e},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<n&&a<i;++s,++a)e=a<<2,t=r[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%n==0&&M(r)}return o&&(e=a<<2,t=r[s],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},N.prototype=new B,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var M=function(e){var t,n,r,i,o,s,a,u,c,l,f,h,p,d,y,b,m,v,w,k,_,S,E,x,A,O,j,R,T,P,C,I,L,D,B,N,M,U,z,F,q,W,H,V,Y,$,G,J,K,X,Z,Q,ee,te,ne,re,ie,oe,se,ae,ue,ce,le;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(u<<1|c>>>31),n=o^(c<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(l<<1|f>>>31),n=a^(f<<1|l>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(h<<1|p>>>31),n=c^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=l^(i<<1|o>>>31),n=f^(o<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,d=e[0],y=e[1],$=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,R=e[20]<<3|e[21]>>>29,T=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,W=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,m=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,K=e[23]<<10|e[22]>>>22,P=e[33]<<13|e[32]>>>19,C=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,I=e[45]<<29|e[44]>>>3,L=e[44]<<29|e[45]>>>3,x=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,Y=e[9]<<27|e[8]>>>5,O=e[18]<<20|e[19]>>>12,j=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,F=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=d^~b&v,e[1]=y^~m&w,e[10]=x^~O&R,e[11]=A^~j&T,e[20]=D^~N&U,e[21]=B^~M&z,e[30]=V^~$&J,e[31]=Y^~G&K,e[40]=te^~re&oe,e[41]=ne^~ie&se,e[2]=b^~v&k,e[3]=m^~w&_,e[12]=O^~R&P,e[13]=j^~T&C,e[22]=N^~U&F,e[23]=M^~z&q,e[32]=$^~J&X,e[33]=G^~K&Z,e[42]=re^~oe&ae,e[43]=ie^~se&ue,e[4]=v^~k&S,e[5]=w^~_&E,e[14]=R^~P&I,e[15]=T^~C&L,e[24]=U^~F&W,e[25]=z^~q&H,e[34]=J^~X&Q,e[35]=K^~Z&ee,e[44]=oe^~ae&ce,e[45]=se^~ue&le,e[6]=k^~S&d,e[7]=_^~E&y,e[16]=P^~I&x,e[17]=C^~L&A,e[26]=F^~W&D,e[27]=q^~H&B,e[36]=X^~Q&V,e[37]=Z^~ee&Y,e[46]=ae^~ce&te,e[47]=ue^~le&ne,e[8]=S^~d&b,e[9]=E^~y&m,e[18]=I^~x&O,e[19]=L^~A&j,e[28]=W^~D&N,e[29]=H^~B&M,e[38]=Q^~V&$,e[39]=ee^~Y&G,e[48]=ce^~te&re,e[49]=le^~ne&ie,e[0]^=g[r],e[1]^=g[r+1]};if(l)e.exports=j;else{for(T=0;T<R.length;++T)u[R[T]]=j[R[T]];f&&(void 0===(o=function(){return j}.call(t,n,t,e))||(e.exports=o))}}()}).call(this,n(2),n(5))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";e.exports=n(189)},function(e,t,n){"use strict";!function(n,r){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=s(e^=e>>>16,2246822507),e=s(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function h(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function p(e,t){return[e[0]^t[0],e[1]^t[1]]}function d(e){return e=p(e,[0,e[0]>>>1]),e=p(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=p(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var n=e.length%4,r=e.length-n,c=t,l=0,f=3432918353,h=461845907,p=0;p<r;p+=4)l=s(l=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,f),l=s(l=a(l,15),h),c=s(c=a(c^=l,13),5)+3864292196;switch(l=0,n){case 3:l^=e[p+2]<<16;case 2:l^=e[p+1]<<8;case 1:l=s(l^=e[p],f),c^=l=s(l=a(l,15),h)}return(c=u(c^=e.length))>>>0}},i.x86.hash128=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var n=e.length%16,r=e.length-n,c=t,l=t,f=t,h=t,p=0,d=0,y=0,g=0,b=597399067,m=2869860233,v=951274213,w=2716044179,k=0;k<r;k+=16)p=e[k]|e[k+1]<<8|e[k+2]<<16|e[k+3]<<24,d=e[k+4]|e[k+5]<<8|e[k+6]<<16|e[k+7]<<24,y=e[k+8]|e[k+9]<<8|e[k+10]<<16|e[k+11]<<24,g=e[k+12]|e[k+13]<<8|e[k+14]<<16|e[k+15]<<24,p=a(p=s(p,b),15),c=a(c^=p=s(p,m),19),c=s(c+=l,5)+1444728091,d=a(d=s(d,m),16),l=a(l^=d=s(d,v),17),l=s(l+=f,5)+197830471,y=a(y=s(y,v),17),f=a(f^=y=s(y,w),15),f=s(f+=h,5)+2530024501,g=a(g=s(g,w),18),h=a(h^=g=s(g,b),13),h=s(h+=c,5)+850148119;switch(p=0,d=0,y=0,g=0,n){case 15:g^=e[k+14]<<16;case 14:g^=e[k+13]<<8;case 13:g=s(g^=e[k+12],w),h^=g=s(g=a(g,18),b);case 12:y^=e[k+11]<<24;case 11:y^=e[k+10]<<16;case 10:y^=e[k+9]<<8;case 9:y=s(y^=e[k+8],v),f^=y=s(y=a(y,17),w);case 8:d^=e[k+7]<<24;case 7:d^=e[k+6]<<16;case 6:d^=e[k+5]<<8;case 5:d=s(d^=e[k+4],m),l^=d=s(d=a(d,16),v);case 4:p^=e[k+3]<<24;case 3:p^=e[k+2]<<16;case 2:p^=e[k+1]<<8;case 1:p=s(p^=e[k],b),c^=p=s(p=a(p,15),m)}return c^=e.length,c+=l^=e.length,c+=f^=e.length,l+=c+=h^=e.length,f+=c,h+=c,c=u(c),c+=l=u(l),c+=f=u(f),l+=c+=h=u(h),f+=c,h+=c,("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)}},i.x64.hash128=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var n=e.length%16,r=e.length-n,s=[0,t],a=[0,t],u=[0,0],y=[0,0],g=[2277735313,289559509],b=[1291169091,658871167],m=0;m<r;m+=16)u=[e[m+4]|e[m+5]<<8|e[m+6]<<16|e[m+7]<<24,e[m]|e[m+1]<<8|e[m+2]<<16|e[m+3]<<24],y=[e[m+12]|e[m+13]<<8|e[m+14]<<16|e[m+15]<<24,e[m+8]|e[m+9]<<8|e[m+10]<<16|e[m+11]<<24],u=f(u=l(u,g),31),s=c(s=f(s=p(s,u=l(u,b)),27),a),s=c(l(s,[0,5]),[0,1390208809]),y=f(y=l(y,b),33),a=c(a=f(a=p(a,y=l(y,g)),31),s),a=c(l(a,[0,5]),[0,944331445]);switch(u=[0,0],y=[0,0],n){case 15:y=p(y,h([0,e[m+14]],48));case 14:y=p(y,h([0,e[m+13]],40));case 13:y=p(y,h([0,e[m+12]],32));case 12:y=p(y,h([0,e[m+11]],24));case 11:y=p(y,h([0,e[m+10]],16));case 10:y=p(y,h([0,e[m+9]],8));case 9:y=l(y=p(y,[0,e[m+8]]),b),a=p(a,y=l(y=f(y,33),g));case 8:u=p(u,h([0,e[m+7]],56));case 7:u=p(u,h([0,e[m+6]],48));case 6:u=p(u,h([0,e[m+5]],40));case 5:u=p(u,h([0,e[m+4]],32));case 4:u=p(u,h([0,e[m+3]],24));case 3:u=p(u,h([0,e[m+2]],16));case 2:u=p(u,h([0,e[m+1]],8));case 1:u=l(u=p(u,[0,e[m]]),g),s=p(s,u=l(u=f(u,31),b))}return s=c(s=p(s,[0,e.length]),a=p(a,[0,e.length])),a=c(a,s),s=c(s=d(s),a=d(a)),a=c(a,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},function(e,t,n){"use strict";const{Buffer:r}=n(0),i=self.crypto||self.msCrypto;e.exports=e=>{if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return async t=>{switch(e){case"sha1":return r.from(await i.subtle.digest({name:"SHA-1"},t));case"sha2-256":return r.from(await i.subtle.digest({name:"SHA-256"},t));case"sha2-512":return r.from(await i.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{const e=await i.subtle.digest({name:"SHA-256"},t);return r.from(await i.subtle.digest({name:"SHA-256"},e))}default:throw new Error("".concat(e," is not a supported algorithm"))}}}},function(e,t,n){"use strict";const{Buffer:r}=n(0);e.exports={fromNumberTo32BitBuf:e=>{const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&e,e>>=8;return r.from(t)}}},function(e,t,n){"use strict";const{Buffer:r}=n(0),i=n(193),o={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},s={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},a=(e,t)=>async n=>{const i=t.init(e,null);return t.update(i,n),r.from(t.digest(i))};e.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,o);for(let t=0;t<32;t++)e[45633+t]=a(t+1,s)}},function(e,t,n){"use strict";var r=n(194),i=n(195);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},function(e,t,n){"use strict";var r=n(82);function i(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function o(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var o=e[t+1]+r;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,s,a){var u=f[s],c=f[s+1],h=f[a],p=f[a+1];i(l,e,t),o(l,e,u,c);var d=l[r]^l[e],y=l[r+1]^l[e+1];l[r]=y,l[r+1]=d,i(l,n,r),d=l[t]^l[n],y=l[t+1]^l[n+1],l[t]=d>>>24^y<<8,l[t+1]=y>>>24^d<<8,i(l,e,t),o(l,e,h,p),d=l[r]^l[e],y=l[r+1]^l[e+1],l[r]=d>>>16^y<<16,l[r+1]=y>>>16^d<<16,i(l,n,r),d=l[t]^l[n],y=l[t+1]^l[n+1],l[t]=y>>>31^d<<1,l[t+1]=d>>>31^y<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),l=new Uint32Array(32),f=new Uint32Array(32);function h(e,t){var n=0;for(n=0;n<16;n++)l[n]=e.h[n],l[n+16]=u[n];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),n=0;n<32;n++)f[n]=s(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,c[16*n+0],c[16*n+1]),a(2,10,18,26,c[16*n+2],c[16*n+3]),a(4,12,20,28,c[16*n+4],c[16*n+5]),a(6,14,22,30,c[16*n+6],c[16*n+7]),a(0,10,20,30,c[16*n+8],c[16*n+9]),a(2,12,22,24,c[16*n+10],c[16*n+11]),a(4,14,16,26,c[16*n+12],c[16*n+13]),a(6,8,18,28,c[16*n+14],c[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^l[n]^l[n+16]}function p(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)n.h[r]=u[r];var i=t?t.length:0;return n.h[0]^=16842752^i<<8^e,t&&(d(n,t),n.c=128),n}function d(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function y(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function g(e,t,n){n=n||64,e=r.normalizeInput(e);var i=p(n,t);return d(i,e),y(i)}e.exports={blake2b:g,blake2bHex:function(e,t,n){var i=g(e,t,n);return r.toHex(i)},blake2bInit:p,blake2bUpdate:d,blake2bFinal:y}},function(e,t,n){"use strict";var r=n(82);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,n,r,i,o){c[e]=c[e]+c[t]+i,c[r]=s(c[r]^c[e],16),c[n]=c[n]+c[r],c[t]=s(c[t]^c[n],12),c[e]=c[e]+c[t]+o,c[r]=s(c[r]^c[e],8),c[n]=c[n]+c[r],c[t]=s(c[t]^c[n],7)}function s(e,t){return e>>>t^e<<32-t}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function f(e,t){var n=0;for(n=0;n<8;n++)c[n]=e.h[n],c[n+8]=a[n];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),n=0;n<16;n++)l[n]=i(e.b,4*n);for(n=0;n<10;n++)o(0,4,8,12,l[u[16*n+0]],l[u[16*n+1]]),o(1,5,9,13,l[u[16*n+2]],l[u[16*n+3]]),o(2,6,10,14,l[u[16*n+4]],l[u[16*n+5]]),o(3,7,11,15,l[u[16*n+6]],l[u[16*n+7]]),o(0,5,10,15,l[u[16*n+8]],l[u[16*n+9]]),o(1,6,11,12,l[u[16*n+10]],l[u[16*n+11]]),o(2,7,8,13,l[u[16*n+12]],l[u[16*n+13]]),o(3,4,9,14,l[u[16*n+14]],l[u[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=c[n]^c[n+8]}function h(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");var r={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(p(r,t),r.c=64),r}function p(e,t){for(var n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[n]}function d(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;f(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function y(e,t,n){n=n||32,e=r.normalizeInput(e);var i=h(n,t);return p(i,e),d(i)}e.exports={blake2s:y,blake2sHex:function(e,t,n){var i=y(e,t,n);return r.toHex(i)},blake2sInit:h,blake2sUpdate:p,blake2sFinal:d}},function(e,t,n){"use strict";const r=n(78),i=n(83);e.exports=(e,t)=>{const n=(e=>{if(i.isDAGLink(e))return e;if(!("cid"in e||"hash"in e||"Hash"in e||"multihash"in e))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new i(e.Name||e.name,e.Tsize||e.size,e.Hash||e.multihash||e.hash||e.cid)})(t);e._links.push(n),e._links=r(e._links)}},function(e,t,n){"use strict";const r=n(19);e.exports.createDagLinkFromB58EncodedHash=function(e){return new r(e.Name||e.name||"",e.Tsize||e.Size||e.size||0,e.Hash||e.hash||e.multihash||e.cid)}},function(e,t,n){"use strict";(function(t){const r=n(14);e.exports=(e,n)=>{if("string"==typeof n)e._links=e._links.filter(e=>e.Name!==n);else{if(!t.isBuffer(n)&&!r.isCID(n))throw new Error("second arg needs to be a name or CID");e._links=e._links.filter(e=>!e.Hash.equals(n))}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(14),i=n(84);t.resolve=(e,t)=>{let n=i.deserialize(e);const o=t.split("/").filter(Boolean);for(;o.length;){const e=o.shift();if(void 0===n[e]){for(const t of n.Links)if(t.Name===e)return{value:t.Hash,remainderPath:o.join("/")};throw new Error("Object has no property '".concat(e,"'"))}if(n=n[e],r.isCID(n))return{value:n,remainderPath:o.join("/")}}return{value:n,remainderPath:""}},t.tree=function*(e){const t=i.deserialize(e);yield"Data",yield"Links";for(let n=0;n<t.Links.length;n++)yield"Links/".concat(n),yield"Links/".concat(n,"/Name"),yield"Links/".concat(n,"/Tsize"),yield"Links/".concat(n,"/Hash")}},function(e,t,n){"use strict";e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(201),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){"use strict";var r=1e3,i=6e4,o=36e5,s=24*o;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return a(e,t,s,"day");if(t>=o)return a(e,t,o,"hour");if(t>=i)return a(e,t,i,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const r=n(1),i={"dag-pb":n(203),raw:n(210),"dag-cbor":n(211),identity:n(212)},o=(e,t,n,s,a,u)=>{const c=i[e.codec];if(!c)throw r(new Error("No resolver for codec ".concat(e.codec)),"ERR_NO_RESOLVER");return c(e,t,n,s,o,a,u)};e.exports=o},function(e,t,n){"use strict";const r=n(1),i=n(3),o=n(204),s={raw:n(85),file:n(85),directory:n(208),"hamt-sharded-directory":n(209),metadata:(e,t,n,r,i,o,s)=>{},symlink:(e,t,n,r,i,o,s)=>{}};e.exports=async(e,t,n,a,u,c,l)=>{const f=await l.get(e);let h,p;t||(t=e.toBaseEncodedString());try{h=i.unmarshal(f.Data)}catch(d){throw r(d,"ERR_NOT_UNIXFS")}if(n||(n=t),a.length){let e;if(e=h&&"hamt-sharded-directory"===h.type?await o(f,a[0],l):((e,t)=>{const n=e.Links.find(e=>e.Name===t);return n&&n.Hash})(f,a[0]),!e)throw r(new Error("file does not exist"),"ERR_NOT_FOUND");const t=a.shift();p={cid:e,toResolve:a,name:t,path:"".concat(n,"/").concat(t)}}return{entry:{name:t,path:n,cid:e,node:f,content:s[h.type](e,f,h,n,u,c,l),unixfs:h,depth:c},next:p}}},function(e,t,n){"use strict";(function(t){const r=n(42),i=n(33),o=async function(e){const n=(await i(t.from(e,"utf8"),"murmur3-128")).slice(2,10),r=n.length,o=t.alloc(r);for(let t=0;t<r;t++)o[r-t-1]=n[t];return o};o.code=34;const s=e=>e.toString("16").toUpperCase().padStart(2,"0").substring(0,2),a=async(e,t,n,i)=>{var u,c,l;i||((i={rootBucket:new r({hashFn:o}),hamtDepth:1}).lastBucket=i.rootBucket),await(u=e.Links,c=i.lastBucket,l=i.rootBucket,Promise.all(u.map(e=>{if(2===e.Name.length){const t=parseInt(e.Name,16);return c._putObjectAt(t,new r({hashFn:o},c,t))}return l.put(e.Name.substring(2),!0)})));const f=await i.rootBucket._findNewBucketAndPos(t);let h=s(f.pos);const p=(e=>{let t=e.bucket;const n=[];for(;t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(f);p.length>i.hamtDepth&&(i.lastBucket=p[i.hamtDepth],h=s(i.lastBucket._posAtParent));const d=e.Links.find(e=>{const n=e.Name.substring(0,2),r=e.Name.substring(2);if(n===h&&(!r||r===t))return!0});return d?d.Name.substring(2)===t?d.Hash:(i.hamtDepth++,e=await n.get(d.Hash),a(e,t,n,i)):null};e.exports=a}).call(this,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){return e+i(t)}function i(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function o(e,t){return e[0]-t[0]}function s(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let n=this._internalPositionFor(e,!1);if(void 0===t)-1!==n&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let r=!1;-1===n?(n=this._data.length,this._setBit(e),this._changedData=!0):r=!0,this._setInternalPos(n,e,t,r),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,n=new Array(this.length);for(;t<this.length;)n[t]=e(this.get(t),t,this),t++;return n}reduce(e,t){let n=0,r=t;for(;n<this.length;){r=e(r,this.get(n),n),n++}return r}find(e){let t,n,r=0;for(;r<this.length&&!t;)n=this.get(r),t=e(n),r++;return t?n:void 0}_internalPositionFor(e,t){const n=this._bytePosFor(e,t);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],s=e-7*n;return(o&1<<s)>0?this._bitArrays.slice(0,n).reduce(r,0)+i(o&~(4294967295<<s+1))-1:-1}_bytePosFor(e,t){const n=Math.floor(e/7),r=n+1;for(;!t&&this._bitArrays.length<r;)this._bitArrays.push(0);return n}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,n,r){const i=this._data,o=[t,n];if(r)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{const e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(o),this._changedData=!1}bitField(){const e=[];let t,n=8,r=0,i=0;const o=this._bitArrays.slice();for(;o.length||r;){0===r&&(t=o.shift(),r=7);const s=Math.min(r,n);i|=(t&~(255<<s))<<8-n,t>>>=s,r-=s,n-=s,n&&(r||o.length)||(e.push(i),i=0,n=8)}for(var s=e.length-1;s>0;s--){if(0!==e[s])break;e.pop()}return e}compactArray(){return this._sortData(),this._data.map(s)}}},function(e,t,n){"use strict";(function(t){const r=n(207);e.exports=function(e){return function(t){return t instanceof i?t:new i(t,e)}};class i{constructor(e,n){if("string"!=typeof e&&!t.isBuffer(e))throw new Error("can only hash strings or buffers");this._value=e,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let n=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.availableBits(),t);n=(n<<r)+e.take(r),t-=r,this._availableBits-=r,0===e.availableBits()&&this._currentBufferIndex++}return n}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.totalBits()-e.availableBits(),t);e.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?this._value+this._depth:this._value,t=await this._hashFn(e),n=new r(t);this._buffers.push(n),this._availableBits+=n.availableBits()}}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];function o(e,t,n){return(e&function(e,t){return r[e]&i[Math.min(t+e-1,7)]}(t,n))>>>t}e.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,n=0;for(;t&&this._haveBits();){const e=this._value[this._currentBytePos],r=this._currentBitPos+1,i=Math.min(r,t);n=(n<<i)+o(e,r-i,i),t-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},function(e,t,n){"use strict";function r(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof i;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):o(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){o("throw",c)}}function o(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function i(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};e.exports=(e,t,n,o,s,a,u)=>function(){var e,n=(e=function*(e={}){const n=e.offset||0,r=e.length||t.Links.length,c=t.Links.slice(n,r);for(const t of c){const e=yield(l=s(t.Hash,t.Name,"".concat(o,"/").concat(t.Name),[],a+1,u),new i(l));yield e.entry}var l},function(){return new r(e.apply(this,arguments))});return function(){return n.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};function u(e,t,n,r,i,o){return c.apply(this,arguments)}function c(){return(c=i((function*(e,t,n,i,o,s){const c=e.Links;for(const b of c){const c=b.Name.substring(2);if(c){const e=yield r(n(b.Hash,c,"".concat(t,"/").concat(c),[],i+1,o));yield e.entry}else{e=yield r(o.get(b.Hash));var l,f=!0,h=!1;try{for(var p,d,y=a(u(e,t,n,i,o,s));f=(p=yield r(y.next())).done,d=yield r(p.value),!f;f=!0){const e=d;yield e}}catch(g){h=!0,l=g}finally{try{f||null==y.return||(yield r(y.return()))}finally{if(h)throw l}}}}}))).apply(this,arguments)}e.exports=(e,t,n,r,i,o,s)=>(e={})=>u(t,r,i,o,s,e)},function(e,t,n){"use strict";const r=n(1),i=n(43),o=n(44);e.exports=async(e,t,n,s,a,u,c)=>{if(s.length)throw r(new Error("No link named ".concat(n," found in raw node ").concat(e.toBaseEncodedString())),"ERR_NOT_FOUND");const l=await c.get(e);return{entry:{name:t,path:n,cid:e,node:l,content:(f=l,function*(e={}){const{offset:t,length:n}=o(f.length,e.offset,e.length);yield i(f,0,t,t+n)}),depth:u}};var f}},function(e,t,n){"use strict";const r=n(14),i=n(1);e.exports=async(e,t,n,o,s,a,u)=>{const c=await u.get(e);let l=c,f=n;for(;o.length;){const s=o[0];if(!(s in l))throw i(new Error("No property named ".concat(s," found in cbor node ").concat(e.toBaseEncodedString())),"ERR_NO_PROP");if(o.shift(),f="".concat(f,"/").concat(s),r.isCID(l[s]))return{entry:{name:t,path:n,cid:e,node:c,depth:a},next:{cid:l[s],name:s,path:f,toResolve:o}};l=l[s]}return{entry:{name:t,path:n,cid:e,node:c,depth:a}}}},function(e,t,n){"use strict";const r=n(1),i=n(43),o=n(44),s=n(33).multihash;e.exports=async(e,t,n,a,u,c,l)=>{if(a.length)throw r(new Error("No link named ".concat(n," found in raw node ").concat(e.toBaseEncodedString())),"ERR_NOT_FOUND");const f=await s.decode(e.multihash);return{entry:{name:t,path:n,cid:e,node:f,content:(h=f.digest,function*(e={}){const{offset:t,length:n}=o(h.length,e.offset,e.length);yield i(h,0,t,t+n)}),depth:c}};var h}},function(e,t,n){"use strict";e.exports=async e=>{let t;var n,r=!0,i=!1;try{for(var o,s,a=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e);r=(o=await a.next()).done,s=await o.value,!r;r=!0){t=s}}catch(u){i=!0,n=u}finally{try{r||null==a.return||await a.return()}finally{if(i)throw n}}return t}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return new u(e)}function s(e){return function(){return new a(e.apply(this,arguments))}}function a(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof u;Promise.resolve(a?s.wrapped:s).then((function(e){a?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){this.wrapped=e}function c(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)};const l=n(7),f=n(13),h=n(4)("ipfs:mfs:touch"),p=n(1),d=n(3),y=n(28),g=n(20),b=n(22),m=n(23),{DAGNode:v}=n(6),w=n(12),k=n(9),_=n(217),S=n(88),E=n(17),x=n(34),A=n(50),O=n(53),j=n(21),R={flush:!0,shardSplitThreshold:1e3,hashAlg:"sha2-256",cidVersion:0,recursive:!1};function T(e,t,n){t||(t=0);const r=e.match(/^(u?g?o?a?)(-?\+?=?)?(r?w?x?X?s?t?)$/);if(!r)throw new Error("Invalid file mode: ".concat(e));let[i,o,s,a]=r;"a"!==o&&o||(o="ugo");let u=function(e,t,n){let r=0;return(e.includes("x")||e.includes("X")&&(n||1&t||8&t||64&t))&&(r+=1),e.includes("w")&&(r+=2),e.includes("r")&&(r+=4),r}(a,t,n);return u=function(e,t){let n=0;return e.includes("u")&&(n+=t<<6),e.includes("g")&&(n+=t<<3),e.includes("o")&&(n+=t),n}(o,u),u=function(e,t,n){return t.includes("t")&&(n+=parseInt("1000",8)),t.includes("s")&&(e.includes("u")&&(n+=parseInt("4000",8)),e.includes("g")&&(n+=parseInt("2000",8))),n}(o,a,u),"="===s?(o.includes("u")&&(t&=parseInt("7077",8),t|=u),o.includes("g")&&(t&=parseInt("7707",8),t|=u),o.includes("o")&&(t&=parseInt("7770",8),t|=u),t):"+"===s?u|t:"-"===s?u^t:void 0}function P(e,t){return("string"==typeof e||e instanceof String)&&(e=e.match(/^\d+$/g)?parseInt(e,8):e.split(",").reduce((e,n)=>T(n,e,t.isDirectory()),t.mode)),e}e.exports=e=>async function(t,n,a){a=l(a,R),h("Fetching stats for ".concat(t));const{cid:u,mfsDirectory:T,name:C}=await f(e,t);if("dag-pb"!==u.codec)throw p(new Error("".concat(t," was not a UnixFS node")),"ERR_NOT_UNIXFS");if(a.recursive){const l=await _(s((function*(){var t,r=!0,i=!1;try{for(var s,a,l=c(E.recursive(u,e.ipld));r=(s=yield o(l.next())).done,a=yield o(s.value),!r;r=!0){const t=a;let r=yield o(e.ipld.get(t.cid));t.unixfs.mode=P(n,t.unixfs),r=new v(t.unixfs.marshal(),r.Links),yield{path:t.path,content:r}}}catch(f){i=!0,t=f}finally{try{r||null==l.return||(yield o(l.return()))}finally{if(i)throw t}}})),t=>{return S(t,e.ipld,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{dagBuilder:(n=s((function*(e,t,n){var r,i=!0,s=!1;try{for(var a,u,l=c(e);i=(a=yield o(l.next())).done,u=yield o(a.value),!i;i=!0){const e=u;yield async function(){return{cid:await j(e.content,t,n),path:e.path,unixfs:d.unmarshal(e.content.Data),node:e.content}}}}catch(f){s=!0,r=f}finally{try{i||null==l.return||(yield o(l.return()))}finally{if(s)throw r}}})),function(e,t,r){return n.apply(this,arguments)})}));var n},e=>x(e));return await O(e)(t,a),void await A(e)("/ipfs/".concat(l.cid),t,a)}let I=await e.ipld.get(u);const L=d.unmarshal(I.Data);L.mode=P(n,L),I=new v(L.marshal(),I.Links);const D=await e.ipld.put(I,w.DAG_PB,{cidVersion:u.version,hashAlg:k.names[a.hashAlg],onlyHash:!a.flush}),B=await y(e,T,a),N=B[B.length-1],M=await e.ipld.get(N.cid),U=await g(e,{parent:M,name:C,cid:D,size:I.serialize().length,flush:a.flush,hashAlg:a.hashAlg,cidVersion:u.version});N.cid=U.cid;const z=await b(e,B,a);await m(e,z)}},function(e,t,n){"use strict";const r=n(42);e.exports=function(e){return new r(e)},e.exports.isBucket=r.isBucket},function(e,t,n){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},function(e,t,n){"use strict";const r=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},i=e=>e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next),o=e=>e&&"function"==typeof e.sink&&i(e.source),s=e=>t=>(e.sink(t),e.source),a=(...e)=>{if(o(e[0])){const t=e[0];e[0]=()=>t.source}else if(i(e[0])){const t=e[0];e[0]=()=>t}if(e.length>1&&o(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let t=1;t<e.length-1;t++)o(e[t])&&(e[t]=s(e[t]));return r(...e)};e.exports=a,e.exports.pipe=a,e.exports.rawPipe=r,e.exports.isIterable=i,e.exports.isDuplex=o},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(219),c=n(220);function l(){return(l=i((function*(e,t,i){var o,s=!0,l=!1;try{for(var f,h,p=a(e);s=(f=yield r(p.next())).done,h=yield r(f.value),!s;s=!0){const e=h;if(e.path&&("./"===e.path.substring(0,2)&&(i.wrapWithDirectory=!0),e.path=e.path.split("/").filter(e=>e&&"."!==e).join("/")),e.content){let r,o,s=e.content;(s[Symbol.asyncIterator]||s[Symbol.iterator])&&void 0===s.length||(s={[Symbol.iterator]:function*(){yield e.content}}),r="function"==typeof i.chunker?i.chunker:"rabin"===i.chunker?n(225):n(238),o="function"==typeof i.chunkValidator?i.chunkValidator:n(239),yield()=>c(e,r(o(s,i),i),t,i)}else yield()=>u(e,t,i)}}catch(d){l=!0,o=d}finally{try{s||null==p.return||(yield r(p.return()))}finally{if(l)throw o}}}))).apply(this,arguments)}e.exports=function(e,t,n){return l.apply(this,arguments)}},function(e,t,n){"use strict";const r=n(3),i=n(21),{DAGNode:o}=n(6);e.exports=async(e,t,n)=>{const s=new r({type:"directory",mtime:e.mtime,mode:e.mode}),a=new o(s.marshal(),[]);return{cid:await i(a,t,n),path:e.path,unixfs:s,size:a.size}}},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(1),c=n(3),l=n(21),{DAGNode:f,DAGLink:h}=n(6),p=n(48),d=n(89),y={flat:n(221),balanced:n(222),trickle:n(223)};function g(){return(g=i((function*(e,t,i,o){let s,u,c=-1;u="function"==typeof o.bufferImporter?o.bufferImporter:n(224);var l,f=!0,h=!1;try{for(var p,y,g=a(d(u(e,t,i,o),o.blockWriteConcurrency));f=(p=yield r(g.next())).done,y=yield r(p.value),!f;f=!0){const e=y;c++,0!==c?(1===c&&(yield s,s=null),yield e):s=e}}catch(b){h=!0,l=b}finally{try{f||null==g.return||(yield r(g.return()))}finally{if(h)throw l}}s&&(s.single=!0,yield s)}))).apply(this,arguments)}e.exports=async(e,t,n,r)=>{const i=y[r.strategy];if(!i)throw u(new Error("Unknown importer build strategy name: ".concat(r.strategy)),"ERR_BAD_STRATEGY");const o=await p(i(function(e,t,n,r){return g.apply(this,arguments)}(e,t,n,r),((e,t,n)=>async function(r){if(1===r.length&&r[0].single&&n.reduceSingleLeafToSelf){const t=r[0];return{cid:t.cid,path:e.path,unixfs:t.unixfs,size:t.size}}const i=new c({type:"file",mtime:e.mtime,mode:e.mode}),o=r.filter(e=>!("raw"!==e.cid.codec||!e.size)||(!(e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs.data.length))).map(e=>"raw"===e.cid.codec?(i.addBlockSize(e.size),new h(e.name,e.size,e.cid)):(e.unixfs.data?i.addBlockSize(e.unixfs.data.length):i.addBlockSize(e.unixfs.fileSize()),new h(e.name,e.size,e.cid))),s=new f(i.marshal(),o);return{cid:await l(s,t,n),path:e.path,unixfs:i,size:s.size}})(e,n,r),r));if(o.length>1)throw u(new Error("expected a maximum of 1 roots and got "+o.length),"ETOOMANYROOTS");return o[0]}},function(e,t,n){"use strict";function r(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof i;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):o(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){o("throw",c)}}function o(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function i(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};const o=n(48);e.exports=function(){var e,t=(e=function*(e,t){var n;yield t(yield(n=o(e),new i(n)))},function(){return new r(e.apply(this,arguments))});return function(e,n){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const s=n(47);function a(){return(a=r((function*(e,t,n){yield u(e,t,n)}))).apply(this,arguments)}async function u(e,t,n){const r=[];var i,o=!0,a=!1;try{for(var c,l,f=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(s(e,n.maxChildrenPerNode));o=(c=await f.next()).done,l=await c.value,!o;o=!0){const e=l;r.push(await t(e))}}catch(h){a=!0,i=h}finally{try{o||null==f.return||await f.return()}finally{if(a)throw i}}return r.length>1?u(r,t,n):r[0]}e.exports=function(e,t,n){return a.apply(this,arguments)}},function(e,t,n){"use strict";const r=n(47);e.exports=function*(e,t,n){yield async function(e,t,n){let s,a=0,u=1,c=s=new o(n.layerRepeat);var l,f=!0,h=!1;try{for(var p,d,y=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(r(e,n.maxChildrenPerNode));p=await y.next(),f=p.done,d=await p.value,!f;f=!0){const e=d;c.isFull()&&(c!==s&&s.addChild(await c.reduce(t)),a&&a%n.layerRepeat==0&&u++,c=new i(u,n.layerRepeat,a),a++),c.append(e)}}catch(g){h=!0,l=g}finally{try{f||null==y.return||await y.return()}finally{if(h)throw l}}c&&c!==s&&s.addChild(await c.reduce(t));return s.reduce(t)}(e,t,n)};class i{constructor(e,t,n){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter(e=>e.data).map(e=>this._reduce(e,t)))),t(e.data.concat(n))}_findParent(e,t){const n=e.parent;if(n&&0!==n.depth)return n.children.length!==n.maxChildren&&n.maxChildren?n:this._findParent(n,t)}}class o extends i{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e(this.root.data.concat(this.root.children))}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new c(e)}function a(e){return function(){return new u(e.apply(this,arguments))}}function u(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof c;Promise.resolve(a?s.wrapped:s).then((function(e){a?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function l(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(u.prototype[Symbol.asyncIterator]=function(){return this}),u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};const f=n(3),h=n(21),{DAGNode:p}=n(6);function d(){return(d=a((function*(e,t,n,r){var o,a=!0,u=!1;try{for(var c,d,y=l(t);a=(c=yield s(y.next())).done,d=yield s(c.value),!a;a=!0){const t=d;yield async()=>{let o,s,a;r.progress(t.length);const u=i({},r);return r.rawLeaves?(o=t,a=t.length,u.codec="raw",u.cidVersion=1):(s=new f({type:r.leafType,data:t,mtime:e.mtime,mode:e.mode}),o=new p(s.marshal()),a=o.size),{cid:await h(o,n,u),unixfs:s,size:a}}}}catch(g){u=!0,o=g}finally{try{a||null==y.return||(yield s(y.return()))}finally{if(u)throw o}}}))).apply(this,arguments)}e.exports=function(e,t,n,r){return d.apply(this,arguments)}},function(e,t,n){"use strict";function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(90),{create:c}=n(234),l=n(1);e.exports=function(){var e=i((function*(e,t){const n=f();let i,o,s;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)s=t.avgChunkSize,i=t.minChunkSize,o=t.maxChunkSize;else{if(!t.avgChunkSize)throw l(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");s=t.avgChunkSize,i=s/3,o=s+s/2}if(i<16)throw l(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");o<i&&(o=i),s<i&&(s=i);const u=Math.floor(Math.log2(s));var c,h=!0,p=!1;try{for(var d,y,g=a(n(e,{min:i,max:o,bits:u,window:t.window,polynomial:t.polynomial}));h=(d=yield r(g.next())).done,y=yield r(d.value),!h;h=!0){const e=y;yield e}}catch(b){p=!0,c=b}finally{try{h||null==g.return||(yield r(g.return()))}finally{if(p)throw c}}}));return function(t,n){return e.apply(this,arguments)}}();const f=()=>function(){var e=i((function*(e,t){const n=yield r(c(t.bits,t.min,t.max,t.window)),i=new u;var o,s=!0,l=!1;try{for(var f,h,p=a(e);s=(f=yield r(p.next())).done,h=yield r(f.value),!s;s=!0){const e=h;i.append(e);const t=n.fingerprint(e);for(let n=0;n<t.length;n++){var d=t[n],y=i.slice(0,d);i.consume(d),yield y}}}catch(g){l=!0,o=g}finally{try{s||null==p.return||(yield r(p.return()))}finally{if(l)throw o}}i.length&&(yield i.slice(0))}));return function(t,n){return e.apply(this,arguments)}}()},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(0).Buffer,s=n(228).inspect,a=s&&s.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t},t[a]=function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(49),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[s]=null,e[a]=null,t(p(n,!1)))}}function y(e){t.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[u]?r(e[u]):n(p(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(p(void 0,!0)):t[f](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(b,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[h].read();r?(n[l]=null,n[s]=null,n[a]=null,e(p(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[s]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(p(void 0,!0))),n[c]=!0})),e.on("readable",y.bind(null,n)),n}}).call(this,n(2))},function(e,t,n){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(98);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(10)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(24).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(49)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(c),o||(s.forEach(c),i(r))}))}));return t.reduce(l)}},function(e,t,n){"use strict";(function(t){const n=Symbol.for("BufferList");function r(e){if(!(this instanceof r))return new r(e);r._init.call(this,e)}r._init=function(e){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},r.prototype._new=function(e){return new r(e)},r.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},r.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let r=0;r<t;r++)n+=this._bufs[r].length;return n},r.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},r.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},r.prototype.copy=function(e,n,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||t.alloc(0);if(i<=0)return e||t.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let u=a,c=o&&n||0,l=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:t.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(u<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,n,l,l+u):this._bufs[s[0]].slice(l,l+u);o||(e=t.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const n=this._bufs[t].length-l;if(!(u>n)){this._bufs[t].copy(e,c,l,l+u);break}this._bufs[t].copy(e,c,l),c+=n,u-=n,l&&(l=0)}return e},r.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},r.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},r.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},r.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},r.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(t.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(t.from(e));return this},r.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},r.prototype.indexOf=function(e,n,r){if(void 0===r&&"string"==typeof n&&(r=n,n=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=t.from([e]):"string"==typeof e?e=t.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=t.from(e.buffer,e.byteOffset,e.byteLength):t.isBuffer(e)||(e=t.from(e)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===e.length)return n>this.length?this.length:n;const i=this._offset(n);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const n=t.indexOf(e,s);if(-1!==n)return this._reverseOffset([o,n]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},r.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){r.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),r.prototype._isBufferList=function(e){return e instanceof r||r.isBufferList(e)},r.isBufferList=function(e){return null!=e&&e[n]},e.exports=r}).call(this,n(0).Buffer)},function(e,t,n){"use strict";const r=n(235),i=n(236);e.exports={Rabin:r,create:async(e,t,n,o)=>{const s=await i();return new r(e,t,n,o,s)}}},function(e,t,n){"use strict";e.exports=class{constructor(e=12,t=8192,n=32768,r=64,i){this.bits=e,this.min=t,this.max=n,this.asModule=i,this.rabin=new i.Rabin(e,t,n,r)}fingerprint(e){const t=new Int32Array(Math.ceil(e.length/this.min)),n=this.asModule.newArray(t),r=this.asModule.newArray(e);this.rabin.fingerprint(r,n);const i=this.asModule.getArray(Int32Array,n);this.asModule.freeArray(n),this.asModule.freeArray(r);const o=[];for(let s=0;s<i.length&&0!==i[s];s++)o[s]=i[s];return o}}},function(e,t,n){"use strict";const{instantiateStreaming:r}=n(237);function i(e={}){if(!i.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,90,16,96,0,0,96,2,127,127,1,127,96,4,127,127,127,127,0,96,1,127,1,127,96,3,127,127,127,0,96,1,126,1,127,96,2,126,126,1,126,96,5,127,127,127,127,127,1,127,96,3,127,127,126,0,96,2,127,127,1,126,96,3,127,127,127,1,127,96,1,127,0,96,2,127,127,0,96,1,127,1,126,96,2,127,126,0,96,0,1,127,2,13,1,3,101,110,118,5,97,98,111,114,116,0,2,3,57,56,3,3,12,3,3,15,5,6,1,8,4,1,9,11,7,4,10,10,11,0,0,0,3,12,3,12,3,12,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,4,4,1,112,0,1,5,3,1,0,1,6,26,5,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,7,253,6,44,6,109,101,109,111,114,121,2,0,5,116,97,98,108,101,1,0,6,100,101,103,114,101,101,0,7,3,109,111,100,0,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,23,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,24,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,25,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,26,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,27,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,28,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,29,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,30,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,31,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,32,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,33,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,34,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,35,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,36,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,37,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,38,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,39,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,40,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,41,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,42,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,43,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,44,27,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,95,100,101,103,114,101,101,0,45,27,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,95,100,101,103,114,101,101,0,46,26,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,95,115,104,105,102,116,0,47,26,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,95,115,104,105,102,116,0,48,22,82,97,98,105,110,35,103,101,116,58,97,118,101,114,97,103,101,95,98,105,116,115,0,49,22,82,97,98,105,110,35,115,101,116,58,97,118,101,114,97,103,101,95,98,105,116,115,0,50,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,51,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,52,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,53,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,54,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,55,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,56,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,15,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,16,14,109,101,109,111,114,121,46,99,111,109,112,97,114,101,0,18,15,109,101,109,111,114,121,46,97,108,108,111,99,97,116,101,0,4,11,109,101,109,111,114,121,46,102,114,101,101,0,19,12,109,101,109,111,114,121,46,114,101,115,101,116,0,20,8,1,21,9,7,1,0,65,0,11,1,22,10,188,30,56,104,1,3,127,32,0,65,128,128,128,128,4,75,4,64,0,11,35,1,34,1,32,0,65,1,32,0,65,1,75,27,106,65,7,106,65,120,113,34,0,63,0,34,2,65,16,116,75,4,64,32,2,32,0,32,1,107,65,255,255,3,106,65,128,128,124,113,65,16,118,34,3,32,2,32,3,74,27,64,0,65,0,72,4,64,32,3,64,0,65,0,72,4,64,0,11,11,11,32,0,36,1,32,1,11,51,1,1,127,32,0,65,248,255,255,255,3,75,4,64,65,0,65,200,0,65,26,65,2,16,0,0,11,65,1,65,32,32,0,65,7,106,103,107,116,16,1,34,1,32,0,54,2,0,32,1,11,145,3,1,1,127,32,1,69,4,64,15,11,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,4,64,15,11,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,4,64,15,11,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,4,64,15,11,65,0,32,0,107,65,3,113,34,2,32,0,106,34,0,65,0,54,2,0,32,1,32,2,107,65,124,113,34,1,32,0,106,65,4,107,65,0,54,2,0,32,1,65,8,77,4,64,15,11,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,4,64,15,11,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,65,4,113,65,24,106,34,2,32,0,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,6,0,32,0,16,1,11,76,1,1,127,65,128,16,16,2,34,1,65,8,106,65,128,16,16,3,32,0,69,4,64,65,12,16,1,33,0,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,32,1,54,2,0,32,0,65,0,54,2,4,32,0,65,128,16,54,2,8,32,0,11,8,0,65,12,16,1,16,5,11,70,2,1,127,1,126,66,128,128,128,128,128,128,128,128,128,127,33,2,3,64,2,64,32,1,65,192,0,78,13,0,32,0,32,2,131,66,0,86,4,64,65,63,32,1,107,15,5,32,2,66,1,136,33,2,32,1,65,1,106,33,1,12,2,11,0,11,11,65,127,11,175,2,2,1,127,2,126,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,0,32,3,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,2,127,32,1,33,4,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,3,32,4,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,78,4,64,32,1,2,127,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,0,32,3,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,3,65,0,33,2,3,64,2,64,32,2,65,192,0,78,13,0,65,63,32,2,107,32,1,32,3,131,66,0,86,13,2,26,32,3,66,1,136,33,3,32,2,65,1,106,33,2,12,1,11,11,65,127,11,107,172,134,32,0,133,33,0,12,1,11,11,32,0,11,96,1,1,127,32,1,65,248,255,255,255,3,75,4,64,65,0,65,8,65,23,65,34,16,0,0,11,32,1,16,2,34,2,65,8,106,32,1,16,3,32,0,69,4,64,65,12,16,1,33,0,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,32,2,54,2,0,32,0,65,0,54,2,4,32,0,32,1,54,2,8,32,0,11,49,0,32,1,32,0,40,2,8,65,3,118,79,4,64,65,0,65,8,65,50,65,63,16,0,0,11,32,0,40,2,4,32,0,40,2,0,32,1,65,3,116,106,106,32,2,55,3,8,11,43,0,32,1,32,0,40,2,8,79,4,64,65,0,65,8,65,50,65,63,16,0,0,11,32,0,40,2,4,32,1,32,0,40,2,0,106,106,32,2,58,0,8,11,41,0,32,1,32,0,40,2,8,79,4,64,65,0,65,8,65,39,65,63,16,0,0,11,32,0,40,2,4,32,1,32,0,40,2,0,106,106,45,0,8,11,47,0,32,1,32,0,40,2,8,65,3,118,79,4,64,65,0,65,8,65,39,65,63,16,0,0,11,32,0,40,2,4,32,0,40,2,0,32,1,65,3,116,106,106,41,3,8,11,166,10,2,3,127,5,126,35,2,69,4,64,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,4,32,0,41,3,72,33,6,3,64,2,127,32,4,33,5,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,32,6,33,7,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,7,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,78,4,64,32,6,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,6,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,107,172,134,32,5,133,33,4,12,1,11,11,65,0,33,1,3,64,32,1,32,0,40,2,4,65,1,107,72,4,64,32,5,66,8,134,33,4,32,0,41,3,72,33,6,3,64,2,127,32,4,33,5,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,2,127,32,6,33,7,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,7,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,78,4,64,32,6,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,4,32,6,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,107,172,134,32,5,133,33,4,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,35,4,32,2,32,5,16,10,32,2,65,1,106,33,2,12,1,11,11,2,127,32,0,41,3,72,33,4,66,128,128,128,128,128,128,128,128,128,127,33,5,65,0,33,2,3,64,32,2,65,192,0,72,4,64,65,63,32,2,107,32,4,32,5,131,66,0,86,13,2,26,32,5,66,1,136,33,5,32,2,65,1,106,33,2,12,1,11,11,65,127,11,172,33,8,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,3,33,3,32,2,172,32,8,134,33,5,32,0,41,3,72,33,6,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,32,6,33,7,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,7,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,78,4,64,32,6,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,5,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,1,3,64,32,1,65,192,0,72,4,64,65,63,32,1,107,32,4,32,6,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,1,65,1,106,33,1,12,1,11,11,65,127,11,107,172,134,32,5,133,33,5,12,1,11,11,32,3,32,2,32,2,172,32,8,134,32,5,132,16,10,32,2,65,1,106,33,2,12,1,11,11,65,1,36,2,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,65,0,16,11,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,12,33,1,32,0,40,2,0,32,0,40,2,8,65,1,16,11,32,0,32,0,41,3,40,35,4,32,1,65,255,1,113,16,13,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,41,3,40,32,0,41,3,88,136,167,33,1,32,0,32,0,41,3,40,66,8,134,55,3,40,32,0,32,0,41,3,40,66,1,132,55,3,40,32,0,32,0,41,3,40,35,3,32,1,65,255,1,113,16,13,133,55,3,40,11,234,1,0,32,0,69,4,64,65,128,1,16,1,33,0,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,66,0,55,3,104,32,0,66,0,55,3,112,32,0,66,0,55,3,120,32,0,32,1,173,55,3,96,32,0,32,2,173,55,3,104,32,0,32,3,173,55,3,112,32,0,65,12,16,1,32,4,16,9,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,0,41,3,96,134,66,1,125,55,3,120,32,0,66,243,130,183,218,216,230,232,30,55,3,72,32,0,66,53,55,3,80,32,0,32,0,41,3,80,66,8,125,55,3,88,32,0,16,14,32,0,11,206,4,1,5,127,32,1,40,2,8,33,4,32,1,40,2,0,65,8,106,33,5,3,64,2,127,65,0,33,3,3,64,32,3,32,4,72,4,64,32,3,32,5,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,12,33,6,32,0,40,2,0,32,0,40,2,8,32,1,16,11,32,0,32,0,41,3,40,35,4,32,6,65,255,1,113,16,13,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,41,3,40,32,0,41,3,88,136,167,33,6,32,0,32,0,41,3,40,66,8,134,55,3,40,32,0,32,0,41,3,40,32,1,173,132,55,3,40,32,0,32,0,41,3,40,35,3,32,6,65,255,1,113,16,13,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,2,127,32,0,41,3,16,32,0,41,3,104,90,34,1,4,64,32,0,41,3,40,32,0,41,3,120,131,66,0,81,33,1,11,32,1,69,11,4,127,32,0,41,3,16,32,0,41,3,112,90,5,32,1,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,65,0,16,11,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,12,33,1,32,0,40,2,0,32,0,40,2,8,65,1,16,11,32,0,32,0,41,3,40,35,4,32,1,65,255,1,113,16,13,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,41,3,40,32,0,41,3,88,136,167,33,1,32,0,32,0,41,3,40,66,8,134,55,3,40,32,0,32,0,41,3,40,66,1,132,55,3,40,32,0,32,0,41,3,40,35,3,32,1,65,255,1,113,16,13,133,55,3,40,32,3,65,1,106,12,3,5,32,3,65,1,106,33,3,12,2,11,0,11,11,65,127,11,34,1,65,0,78,4,64,32,4,32,1,107,33,4,32,1,32,5,106,33,5,32,7,34,1,65,1,106,33,7,32,2,40,2,4,32,2,40,2,0,32,1,65,2,116,106,106,32,0,41,3,56,62,2,8,32,2,40,2,4,32,2,40,2,0,32,1,65,2,116,106,106,40,2,8,26,12,1,11,11,11,88,1,1,127,32,0,32,1,70,4,64,65,0,15,11,3,64,32,2,65,0,71,34,3,4,64,32,0,45,0,0,32,1,45,0,0,70,33,3,11,32,3,4,64,32,2,65,1,107,33,2,32,0,65,1,106,33,0,32,1,65,1,106,33,1,12,1,11,11,32,2,4,127,32,0,45,0,0,32,1,45,0,0,107,5,65,0,11,11,10,0,32,0,32,1,32,2,16,17,11,3,0,1,11,6,0,35,0,36,1,11,19,0,65,136,1,36,0,35,0,36,1,16,6,36,3,16,6,36,4,11,3,0,1,11,7,0,32,0,40,2,0,11,9,0,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,7,0,32,0,41,3,104,11,9,0,32,0,32,1,55,3,104,11,7,0,32,0,41,3,112,11,9,0,32,0,32,1,55,3,112,11,7,0,32,0,41,3,120,11,9,0,32,0,32,1,55,3,120,11,11,128,1,2,0,65,8,11,57,27,0,0,0,126,0,108,0,105,0,98,0,47,0,105,0,110,0,116,0,101,0,114,0,110,0,97,0,108,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,200,0,11,59,28,0,0,0,126,0,108,0,105,0,98,0,47,0,105,0,110,0,116,0,101,0,114,0,110,0,97,0,108,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,32,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,14,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return r(new Response(new Blob([t],{type:"application/wasm"})),e)}i.supported="undefined"!=typeof WebAssembly,e.exports=i},function(e,t,n){"use strict";const r="undefined"!=typeof BigUint64Array,i=Symbol();function o(e,t,n){var r=n+4>>>1,i=e[n>>>2],o=[];for(;i>1024;){let e=t[r+1024-1],n=e>=55296&&e<56320?1023:1024,s=t.subarray(r,r+=n);o.push(String.fromCharCode.apply(String,s)),i-=n}return o.join("")+String.fromCharCode.apply(String,t.subarray(r,r+i))}function s(e){var t={};function n(e,t){if(!e)return"<yet unknown>";var n=e.buffer;return o(new Uint32Array(n),new Uint16Array(n),t)}var r=e.env=e.env||{};return r.abort=r.abort||function(e,i,o,s){var a=t.memory||r.memory;throw Error("abort: "+n(a,e)+" at "+n(a,i)+":"+o+":"+s)},r.trace=r.trace||function(e,i){var o=t.memory||r.memory;console.log("trace: "+n(o,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function a(e,t){var n,i,s,a,c,f,h,p,d,y,g,b=t.exports,m=b.memory,v=b["memory.allocate"],w=b["memory.fill"],k=b["memory.free"],_=b.table,S=b._setargc||function(){};function E(){n!==m.buffer&&(n=m.buffer,i=new Int8Array(n),s=new Uint8Array(n),a=new Int16Array(n),c=new Uint16Array(n),f=new Int32Array(n),h=new Uint32Array(n),r&&(y=new BigInt64Array(n),g=new BigUint64Array(n)),p=new Float32Array(n),d=new Float64Array(n))}return E(),e.newString=function(e){var t=e.length,n=v(4+(t<<1)),r=4+n>>>1;E(),h[n>>>2]=t;for(let i=0;i<t;++i)c[r+i]=e.charCodeAt(i);return n},e.getString=function(e){return E(),o(h,c,e)},e.newArray=function(e,t,r){var i=e.constructor;i===Function?(i=e,e=null):void 0===t&&(t=e.length);var o=i.BYTES_PER_ELEMENT;if(!o)throw Error("not a typed array");var s=o*t,a=v(12),u=v(function(e){return 1<<32-Math.clz32(e+8-1)}(s));if(E(),h[a>>>2]=u,h[a+4>>>2]=0,h[a+8>>>2]=s,h[u>>>2]=s,h[u+4>>>2]=0,e){if(new i(n,u+8,t).set(e),e.length<t&&!r){let t=o*e.length;w(u+8+t,0,s-t)}}else r||w(u+8,0,s);return a},e.getArray=function(e,t){var r=e.BYTES_PER_ELEMENT;if(!r)throw Error("not a typed array");E();var i=h[t>>>2],o=h[t+4>>>2],s=h[t+8>>>2];return new e(n,i+8+o,(s-o)/r)},e.freeArray=function(e){E();var t=h[e>>>2];k(t),k(e)},e.newFunction=function(e){"function"==typeof e.original&&(e=e.original);var t=_.length;return _.grow(1),_.set(t,e),t},e.getFunction=function(e){return u(_.get(e),S)},e.memory=e.memory||m,e.table=e.table||_,l(b,Object.defineProperties(e,{I8:{get:function(){return E(),i}},U8:{get:function(){return E(),s}},I16:{get:function(){return E(),a}},U16:{get:function(){return E(),c}},I32:{get:function(){return E(),f}},U32:{get:function(){return E(),h}},I64:{get:function(){return E(),y}},U64:{get:function(){return E(),g}},F32:{get:function(){return E(),p}},F64:{get:function(){return E(),d}}}))}function u(e,t){var n=(...n)=>(t(n.length),e(...n));return n.original=e,n}function c(e,t){return a(s(t||(t={})),new WebAssembly.Instance(e,t))}function l(e,t){var n=t?Object.create(t):{},r=e._setargc||function(){};function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}for(let s in e){if(!o(e,s))continue;let t=e[s],a=s.split("."),c=n;for(;a.length>1;){let e=a.shift();o(c,e)||(c[e]={}),c=c[e]}let l=a[0],f=l.indexOf("#");if(f>=0){let n=l.substring(0,f),a=c[n];if(void 0===a||!a.prototype){let e=function e(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={},e.wrap=function(t){return Object.create(e.prototype,{[i]:{value:t,writable:!1}})},a&&Object.getOwnPropertyNames(a).forEach(t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))),c[n]=e}if(l=l.substring(f+1),c=c[n].prototype,/^(get|set):/.test(l)){if(!o(c,l=l.substring(4))){let t=e[s.replace("set:","get:")],n=e[s.replace("get:","set:")];Object.defineProperty(c,l,{get:function(){return t(this[i])},set:function(e){n(this[i],e)},enumerable:!0})}}else"constructor"===l?c[l]=u(t,r):Object.defineProperty(c,l,{value:function(...e){return r(e.length),t(this[i],...e)}})}else/^(get|set):/.test(l)?o(c,l=l.substring(4))||Object.defineProperty(c,l,{get:e[s.replace("set:","get:")],set:e[s.replace("get:","set:")],enumerable:!0}):c[l]="function"==typeof t?u(t,r):t}return n}t.instantiate=c,t.instantiateBuffer=function(e,t){return c(new WebAssembly.Module(e),t)},t.instantiateStreaming=async function(e,t){return a(s(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance)},t.demangle=l},function(e,t,n){"use strict";function r(e){return new o(e)}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const s=n(90);e.exports=function(){var e,t=(e=function*(e,t){let n=new s,i=0,o=!1;const a=t.maxChunkSize;var u,c=!0,l=!1;try{for(var f,h,p=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e);c=(f=yield r(p.next())).done,h=yield r(f.value),!c;c=!0){const e=h;for(n.append(e),i+=e.length;i>=a;)if(yield n.slice(0,a),o=!0,a===n.length)n=new s,i=0;else{const e=new s;e.append(n.shallowSlice(a)),n=e,i-=a}}}catch(d){l=!0,u=d}finally{try{c||null==p.return||(yield r(p.return()))}finally{if(l)throw u}}o&&!i||(yield n.slice(0,i))},function(){return new i(e.apply(this,arguments))});return function(e,n){return t.apply(this,arguments)}}()},function(e,t,n){"use strict";(function(t){function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(1);function c(){return(c=i((function*(e){var n,i=!0,o=!1;try{for(var s,c,l=a(e);i=(s=yield r(l.next())).done,c=yield r(s.value),!i;i=!0){const e=c;if(void 0===e.length)throw u(new Error("Content was invalid"),"ERR_INVALID_CONTENT");"string"==typeof e||e instanceof String?yield t.from(e,"utf8"):Array.isArray(e)?yield t.from(e):yield e}}catch(f){o=!0,n=f}finally{try{i||null==l.return||(yield r(l.return()))}finally{if(o)throw n}}}))).apply(this,arguments)}e.exports=function(e){return c.apply(this,arguments)}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return new s(e)}function s(e){this.wrapped=e}function a(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function u(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const c=n(241),l=n(242),f=n(46),h=n(243),p=n(1),d=n(244);async function y(e,t,n){const r=h(e.path||""),i=r.length-1;let o=t,s="";for(let a=0;a<r.length;a++){const u=r[a];s+="".concat(s?"/":"").concat(u);const h=a===i;if(o.dirty=!0,o.cid=null,o.size=null,h)await o.put(u,e),t=await l(null,o,n.shardSplitThreshold,n);else{let e=await o.get(u);e&&e instanceof f||(e=new c({dir:!0,parent:o,parentKey:u,path:s,dirty:!0,flat:!0,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},n)),await o.put(u,e),o=e}}return t}function g(){return(g=r((function*(e,t,n){let r=new c({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n);var i,s=!0,l=!1;try{for(var h,g,b=u(e);s=(h=yield o(b.next())).done,g=yield o(h.value),!s;s=!0){const e=g;e&&(r=yield o(y(e,r,n)),e.unixfs&&e.unixfs.isDirectory()||(yield e))}}catch(m){l=!0,i=m}finally{try{s||null==b.return||(yield o(b.return()))}finally{if(l)throw i}}if(!n.wrapWithDirectory){if(r.childCount()>1)throw p(new Error("detected more than one root"),"ERR_MORE_THAN_ONE_ROOT");const e=yield o(d(r.eachChildSeries()));if(!e)return;r=e.child}r instanceof f?yield*a(u(r.flush(r.path,t)),o):r&&r.unixfs&&r.unixfs.isDirectory()&&(yield r)}))).apply(this,arguments)}e.exports=function(e,t,n){return g.apply(this,arguments)}},function(e,t,n){"use strict";function r(e){return new o(e)}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}function s(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const{DAGLink:a,DAGNode:u}=n(6),c=n(3),l=n(46),f=n(21);e.exports=class extends l{constructor(e,t){super(e,t),this._children={}}put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return this._children[e]}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const n=e[t];yield{key:n,child:this._children[n]}}}flush(e,t){var n,o=this;return(n=function*(){const n=Object.keys(o._children),i=[];for(let e=0;e<n.length;e++){let u=o._children[n[e]];if("function"==typeof u.flush){var l,h=!0,p=!1;try{for(var d,y,g=s(u.flush(u.path,t));h=(d=yield r(g.next())).done,y=yield r(d.value),!h;h=!0)u=y,yield u}catch(w){p=!0,l=w}finally{try{h||null==g.return||(yield r(g.return()))}finally{if(p)throw l}}}i.push(new a(n[e],u.size,u.cid))}const b=new c({type:"directory",mtime:o.mtime,mode:o.mode}),m=new u(b.marshal(),i),v=yield r(f(m,t,o.options));o.cid=v,o.size=m.size,yield{cid:v,unixfs:b,path:e,size:m.size}},function(){return new i(n.apply(this,arguments))})()}}},function(e,t,n){"use strict";const r=n(45);e.exports=async function e(t,n,i,o){let s=n;n.flat&&n.directChildrenCount()>=i&&(s=await async function(e,t){const n=new r({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);var i,o=!0,s=!1;try{for(var a,u,c=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e.eachChildSeries());a=await c.next(),o=a.done,u=await a.value,!o;o=!0){const{key:e,child:t}=u;await n.put(e,t)}}catch(l){s=!0,i=l}finally{try{o||null==c.return||await c.return()}finally{if(s)throw i}}return n}(n,o));const a=s.parent;return a?(s!==n&&(t&&(t.parent=s),await a.put(s.parentKey,s)),e(s,a,i,o)):s}},function(e,t,n){"use strict";e.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)},function(e,t,n){"use strict";e.exports=async e=>{var t,n=!0,r=!1;try{for(var i,o,s=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e);n=(i=await s.next()).done,o=await i.value,!n;n=!0){return o}}catch(a){r=!0,t=a}finally{try{n||null==s.return||await s.return()}finally{if(r)throw t}}}},function(e,t,n){"use strict";const r=n(3),{DAGNode:i}=n(6),o=n(12),s=n(9);e.exports=async(e,t,n)=>{const a=s.names[n.hashAlg],u=new r({type:t,mode:n.mode,mtime:n.mtime}),c=new i(u.marshal());return{cid:await e.ipld.put(c,o.DAG_PB,{cidVersion:n.cidVersion,hashAlg:a,onlyHash:!n.flush}),node:c}}},function(e,t,n){"use strict";const r=n(52);e.exports=async function(e,t){const{sources:n,options:i}=await r(e,t);return{destination:n.pop(),sources:n,options:i}}},function(e,t,n){"use strict";const{DAGNode:r,DAGLink:i}=n(6),o=n(14),s=n(4)("ipfs:mfs:core:utils:remove-link"),a=n(3),{generatePath:u,updateHamtDirectory:c}=n(87),l=n(1),f=n(12),h=n(9),p=async(e,t)=>{const n=h.names[t.hashAlg];t.parent.rmLink(t.name);const r=await e.ipld.put(t.parent,f.DAG_PB,{cidVersion:t.cidVersion,hashAlg:n});return s("Updated regular directory ".concat(r)),{node:t.parent,cid:r}},d=async(e,t)=>{const{rootBucket:n,path:r}=await u(e,t.name,t.parent);await n.del(t.name);const{node:i}=await y(e,r,{name:t.name,cid:t.cid,size:t.size,hashAlg:t.hashAlg,cidVersion:t.cidVersion,flush:t.flush},t);return c(e,i.Links,n,t)},y=async(e,t,n,i)=>{const{bucket:o,prefix:a,node:u}=t.pop(),f=u.Links.find(e=>e.Name.substring(0,2)===a);if(!f)throw l(new Error("No link found with prefix ".concat(a," for file ").concat(n.name)),"ERR_NOT_FOUND");if(f.Name==="".concat(a).concat(n.name))return s("Removing existing link ".concat(f.Name)),u.rmLink(f.Name),await o.del(n.name),c(e,u.Links,o,i);s("Descending into sub-shard ".concat(f.Name," for ").concat(a).concat(n.name));const h=await y(e,t,n,i);let p=a;1===h.node.Links.length&&(s("Removing subshard for ".concat(a)),h.cid=h.node.Links[0].Hash,h.node=h.node.Links[0],p="".concat(a).concat(h.node.Name.substring(2))),s("Updating shard ".concat(a," with name ").concat(p));const d=r.isDAGNode(h.node)?h.node.size:h.node.Tsize;return g(e,o,u,a,p,d,h.cid,i)},g=(e,t,n,r,o,s,a,u)=>(n.rmLink(r),n.addLink(new i(o,s,a)),c(e,n.Links,t,u));e.exports=async(e,t)=>{if(!t.parentCid&&!t.parent)throw l(new Error("No parent node or CID passed to removeLink"),"EINVALIDPARENT");if(t.parentCid&&!o.isCID(t.parentCid))throw l(new Error("Invalid CID passed to removeLink"),"EINVALIDPARENTCID");if(t.parent||(s("Loading parent node ".concat(t.parentCid)),t.parent=await e.ipld.get(t.parentCid)),!t.name)throw l(new Error("No child name passed to removeLink"),"EINVALIDCHILDNAME");return"hamt-sharded-directory"===a.unmarshal(t.parent.Data).type?(s("Removing ".concat(t.name," from sharded directory")),d(e,t)):(s("Removing link ".concat(t.name," regular directory")),p(e,t))}},function(e,t,n){"use strict";const r=n(7),i=n(31),{FILE_SEPARATOR:o}=n(8),s={};e.exports=e=>async function(t=o,n=s){return n=r(n,s),(await i(e)(t,n)).cid}},function(e,t,n){"use strict";const r=n(7),i=n(52),o=n(50),s=n(53),a={parents:!1,recursive:!1,flush:!0,cidVersion:0,hashAlg:"sha2-256",shardSplitThreshold:1e3};e.exports=e=>async function(...t){Array.isArray(t[0])&&(t=t[0].concat(t.slice(1)));const{sources:n}=await i(e,t),u=r(t,a),c=n.map(e=>e.path).concat(u),l=n.slice(0,-1).map(e=>e.path).concat(Object.assign(u,{recursive:!0}));await o(e).apply(null,c),await s(e).apply(null,l)}},function(e,t,n){"use strict";const r=n(7),i=n(13),o=n(4)("ipfs:mfs:touch"),s=n(1),a=n(3),u=n(28),c=n(20),l=n(22),f=n(23),{DAGNode:h}=n(6),p=n(12),d=n(9),y={mtime:void 0,flush:!0,shardSplitThreshold:1e3,cidVersion:0,hashAlg:"sha2-256"};e.exports=e=>async function(t,n){(n=r(n=n||{},y)).mtime=n.mtime||new Date,o("Touching ".concat(t," mtime: ").concat(n.mtime));const{cid:g,mfsDirectory:b,name:m,exists:v}=await i(e,t);let w,k,_=n.cidVersion;if(v){if("dag-pb"!==g.codec)throw s(new Error("".concat(t," was not a UnixFS node")),"ERR_NOT_UNIXFS");_=g.version,w=await e.ipld.get(g);const r=a.unmarshal(w.Data);r.mtime=n.mtime,w=new h(r.marshal(),w.Links),k=await e.ipld.put(w,p.DAG_PB,{cidVersion:g.version,hashAlg:d.names["sha2-256"],onlyHash:!n.flush})}else{const t=new a({type:"file",mtime:n.mtime});w=new h(t.marshal()),k=await e.ipld.put(w,p.DAG_PB,{cidVersion:n.cidVersion,hashAlg:d.names["sha2-256"],onlyHash:!n.flush})}const S=await u(e,b,n),E=S[S.length-1],x=await e.ipld.get(E.cid),A=await c(e,{parent:x,name:m,cid:k,size:w.serialize().length,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,hashAlg:"sha2-256",cidVersion:_});E.cid=A.cid;const O=await l(e,S,n);await f(e,O)}},function(e,t,n){"use strict";(function(t){function r(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function i(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function o(e){return new u(e)}function s(e){return function(){return new a(e.apply(this,arguments))}}function a(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof u;Promise.resolve(a?s.wrapped:s).then((function(e){a?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)};const c=n(4)("ipfs:mfs:write"),l=n(88),f=n(31),h=n(51),p=n(20),d=n(7),y=n(61),g=n(252),b=n(13),m=n(41),v=n(28),w=n(22),k=n(23),_=n(1),{MAX_CHUNK_SIZE:S}=n(8),E=n(34),x={offset:0,length:void 0,create:!1,truncate:!1,rawLeaves:!1,reduceSingleLeafToSelf:!1,cidVersion:0,hashAlg:"sha2-256",parents:!1,progress:()=>{},strategy:"trickle",flush:!0,leafType:"raw",shardSplitThreshold:1e3,mode:void 0,mtime:void 0};e.exports=e=>async function(t,n,r){let i,o,s;if(r=d(r,x),c("Reading source, destination and parent"),await y().readLock(async()=>{i=await g(n,r),o=await b(e,t),s=await b(e,o.mfsDirectory)})(),c("Read source, destination and parent"),!r.parents&&!s.exists)throw _(new Error("directory does not exist"),"ERR_NO_EXIST");if(!r.create&&!o.exists)throw _(new Error("file does not exist"),"ERR_NO_EXIST");return A(e,t,i,o,r)};const A=async(e,t,n,r,i)=>{const o=await O(e,n,r,i);await y().writeLock(async()=>{const n=m(t),r=n.pop();let s=!1;try{await f(e)("/".concat(n.join("/")),i),s=!0}catch(g){if("ERR_NOT_FOUND"!==g.code)throw g}s||await h(e)("/".concat(n.join("/")),i);const a=await b(e,t),u=await v(e,a.mfsDirectory,i),c=u[u.length-1];if(!c.type.includes("directory"))throw _(new Error("cannot write to ".concat(c.name,": Not a directory")),"ERR_NOT_A_DIRECTORY");const l=await e.ipld.get(c.cid),d=await p(e,{parent:l,name:r,cid:o.cid,size:o.size,flush:i.flush,shardSplitThreshold:i.shardSplitThreshold,hashAlg:i.hashAlg,cidVersion:i.cidVersion});c.cid=d.cid;const y=await w(e,u,i);await k(e,y)})()},O=async(e,t,n,r)=>{n.exists?c("Overwriting file ".concat(n.cid," offset ").concat(r.offset," length ").concat(r.length)):c("Writing file offset ".concat(r.offset," length ").concat(r.length));const i=[];if(r.offset>0)if(n.unixfs){if(c("Writing first ".concat(r.offset," bytes of original file")),i.push(()=>n.content({offset:0,length:r.offset})),n.unixfs.fileSize()<r.offset){const e=r.offset-n.unixfs.fileSize();c("Writing zeros for extra ".concat(e," bytes")),i.push(R(e))}}else c("Writing zeros for first ".concat(r.offset," bytes")),i.push(R(r.offset));i.push(j(t,r.length));const o=P(T(i),e=>{if(n.unixfs&&!r.truncate){const t=n.unixfs.fileSize();if(t>e)return c("Writing last ".concat(t-e," of ").concat(t," bytes from original file starting at offset ").concat(e)),n.content({offset:e});c("Not writing last bytes from original file")}return{[Symbol.asyncIterator]:s((function*(){}))}});let a,u;void 0!==r.mode&&null!==r.mode?a=r.mode:n&&n.unixfs&&(a=n.unixfs.mode),void 0!==r.mtime&&null!==r.mtine?u=r.mtime:n&&n.unixfs&&(u=n.unixfs.mtime);const f=await E(l([{content:o,mode:a,mtime:u}],e.ipld,{progress:r.progress,hashAlg:r.hashAlg,cidVersion:r.cidVersion,strategy:r.strategy,rawLeaves:r.rawLeaves,reduceSingleLeafToSelf:r.reduceSingleLeafToSelf,leafType:r.leafType}));return c("Wrote ".concat(f.cid)),{cid:f.cid,size:f.size}},j=(e,t)=>function(){var n=s((function*(){let n=0;var r,s=!0,a=!1;try{for(var u,c,l=i(e);s=(u=yield o(l.next())).done,c=yield o(u.value),!s;s=!0){const e=c;if(n+=e.length,n>t)return void(yield e.slice(0,t-n));yield e}}catch(f){a=!0,r=f}finally{try{s||null==l.return||(yield o(l.return()))}finally{if(a)throw r}}}));return function(){return n.apply(this,arguments)}}(),R=(e,n=S)=>{const r=t.alloc(n,0),i={[Symbol.asyncIterator]:function*(){for(;;)yield r.slice()}};return j(i,e)},T=function(){var e=s((function*(e){for(let t=0;t<e.length;t++)yield*r(i(e[t]()),o)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=s((function*(e,t){let n=0;var r,s=!0,a=!1;try{for(var u,c,l=i(e);s=(u=yield o(l.next())).done,c=yield o(u.value),!s;s=!0){const e=c;n+=e.length,yield e}}catch(b){a=!0,r=b}finally{try{s||null==l.return||(yield o(l.return()))}finally{if(a)throw r}}var f,h=!0,p=!1;try{for(var d,y,g=i(t(n));h=(d=yield o(g.next())).done,y=yield o(d.value),!h;h=!0){const e=y;n+=e.length,yield e}}catch(b){p=!0,f=b}finally{try{h||null==g.return||(yield o(g.return()))}finally{if(p)throw f}}}));return function(t,n){return e.apply(this,arguments)}}()}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t,r){const i=n(1),o=n(253),s=n(4)("ipfs:mfs:utils:to-async-iterator"),{MAX_CHUNK_SIZE:a}=n(8);e.exports=e=>{if(!e)throw i(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");if("string"==typeof e||e instanceof String)return s("Content was a path"),o.createReadStream(e);if(e.length)return s("Content was array-like"),{[Symbol.asyncIterator]:function*(){yield e}};if(e[Symbol.asyncIterator])return s("Content was an async iterator"),e;if(e[Symbol.iterator])return s("Content was an iterator"),e;if(t.Blob&&e instanceof t.Blob){s("Content was an HTML5 Blob");let n=0;const i={next:()=>n>e.size?{done:!0}:new Promise((i,o)=>{const s=e.slice(n,a);n+=a;const u=new t.FileReader,c=e=>{if(u.removeEventListener("loadend",c,!1),e.error)return o(e.error);i({done:!1,value:r.from(u.result)})};u.addEventListener("loadend",c),u.readAsArrayBuffer(s)})};return{[Symbol.asyncIterator]:()=>i}}throw i(new Error("Don't know how to convert ".concat(e," into an async iterator")),"ERR_INVALID_PARAMS")}}).call(this,n(5),n(0).Buffer)},function(e,t){},function(e,t,n){"use strict";function r(e){return new o(e)}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const s=n(17),a=n(7),u=n(13),c=n(1),l={offset:0,length:1/0};e.exports=e=>function(t,n={}){return n=a(n,l),{[Symbol.asyncIterator]:(o=function*(){const i=yield r(u(e,t)),o=yield r(s(i.mfsPath,e.ipld));if("file"!==o.unixfs.type)throw c(new Error("".concat(t," was not a file")),"ERR_NOT_FILE");if(!o.content)throw c(new Error("Could not load content stream from ".concat(t)),"ERR_NO_CONTENT");var a,l=!0,f=!1;try{for(var h,p,d=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(o.content({offset:n.offset,length:n.length}));l=(h=yield r(d.next())).done,p=yield r(h.value),!l;l=!0){const e=p;yield e}}catch(y){f=!0,a=y}finally{try{l||null==d.return||(yield r(d.return()))}finally{if(f)throw a}}},f=function(){return new i(o.apply(this,arguments))},function(){return f.apply(this,arguments)})};var o,f}},function(e,t,n){"use strict";function r(e){return new o(e)}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const s=n(17),a=n(7),u=n(13),{FILE_SEPARATOR:c,FILE_TYPES:l}=n(8),f={},h=e=>{let t,n,r=0,i=e.node.size||e.node.length;e.unixfs&&(i=e.unixfs.fileSize(),r=l[e.unixfs.type],t=e.unixfs.mode,n=e.unixfs.mtime);const o={cid:e.cid,name:e.name,type:r,size:i,mode:t};return void 0!==n&&(o.mtime=n),o};e.exports=e=>function(){var t,n=(t=function*(t=c,n={}){"object"!=typeof t||t instanceof String||(n=t,t=c),n=a(n,f);const i=yield r(u(e,t)),o=yield r(s(i.mfsPath,e.ipld));if(o.unixfs&&o.unixfs.type.includes("directory")){var l,p=!0,d=!1;try{for(var y,g,b=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(o.content(n));p=(y=yield r(b.next())).done,g=yield r(y.value),!p;p=!0){const e=g;yield h(e)}}catch(m){d=!0,l=m}finally{try{p||null==b.return||(yield r(b.return()))}finally{if(d)throw l}}}else yield h(o)},function(){return new i(t.apply(this,arguments))});return function(){return n.apply(this,arguments)}}()},function(e,t,n){"use strict";const r=n(257),i=n(258),o=n(259),s=n(260),a=n(276),u=n(277),c=n(278),l=n(279),f=n(280),h=n(281),p=n(282);e.exports=[r,i,o,s,a,u,c,l,f,h,p]},function(e,t,n){"use strict";const r=n(11),i={method:"POST",path:"/api/v0/files/chmod",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,mode:i,recursive:o,hashAlg:s,flush:a,shardSplitThreshold:u}=e.query;return await n.files.chmod(r,i,{recursive:o,hashAlg:s,flush:a,shardSplitThreshold:u}),t.response()},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string(),mode:r.string(),recursive:r.boolean().default(!1),flush:r.boolean().default(!0),hashAlg:r.string().default("sha2-256"),shardSplitThreshold:r.number().integer().min(0).default(1e3)})}}};e.exports=i},function(e,t,n){"use strict";const r=n(11),i={method:"POST",path:"/api/v0/files/cp",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,parents:i,flush:o,hashAlg:s,shardSplitThreshold:a}=e.query,u=r.concat({parents:i,flush:o,hashAlg:s,shardSplitThreshold:a});return await n.files.cp.apply(null,u),t.response()},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.array().items(r.string()).min(2),parents:r.boolean().default(!1),flush:r.boolean().default(!0),hashAlg:r.string().default("sha2-256"),shardSplitThreshold:r.number().integer().min(0).default(1e3)})}}};e.exports=i},function(e,t,n){"use strict";const r=n(11),{FILE_SEPARATOR:i}=n(8),o={method:"POST",path:"/api/v0/files/flush",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,cidBase:o}=e.query;let s=await n.files.flush(r||i,{});return o&&"base58btc"!==o&&0===s.version&&(s=s.toV1()),t.response({Cid:s.toString(o)})},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string(),cidBase:r.string()})}}};e.exports=o},function(e,t,n){"use strict";const r=n(11),{PassThrough:i}=n(99),o=n(104),s=n(48),a=(e,t)=>{t=t||{};const n={Name:e.name,Type:t.long?e.type:0,Size:t.long&&e.size||0,Hash:e.cid.toString(t.cidBase),Mode:e.mode.toString(8).padStart(4,"0")};return e.mtime&&(n.Mtime=e.mtime.secs,null!=e.mtime.nsecs&&(n.MtimeNsecs=e.mtime.nsecs)),n},u={method:"POST",path:"/api/v0/files/ls",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,long:u,cidBase:c,stream:l}=e.query;if(l){const e=await new Promise((e,t)=>{const s=o.readable(n.files.ls(r),{objectMode:!0}),l=new i;s.on("data",t=>{e(l),l.write(JSON.stringify(a(t,{cidBase:c,long:u}))+"\n")}),s.once("end",t=>{e(l),l.end(t?JSON.stringify(a(t,{cidBase:c,long:u}))+"\n":void 0)}),s.once("error",e=>{l.end(),t(e)})});return t.response(e).header("X-Stream-Output","1")}const f=await s(n.files.ls(r));return t.response({Entries:f.map(e=>a(e,{cidBase:c,long:u}))})},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().default("/"),long:r.boolean().default(!1),cidBase:r.string(),stream:r.boolean().default(!1)}).rename("l","long",{override:!0,ignoreUndefined:!0}).rename("s","stream",{override:!0,ignoreUndefined:!0})}}};e.exports=u},function(e,t){},function(e,t,n){"use strict";var r=n(55).Buffer,i=n(263);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){"use strict";(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(265),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||void 0,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||void 0}).call(this,n(5))},function(e,t,n){"use strict";(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,o,s,a,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},h.clearImmediate=p}function p(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,n(5),n(2))},function(e,t,n){"use strict";e.exports=o;var r=n(103),i=Object.create(n(29));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(10),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";e.exports=n(18)},function(e,t,n){"use strict";e.exports=n(54).Transform},function(e,t,n){"use strict";e.exports=n(54).PassThrough},function(e,t,n){"use strict";function r(e){return new o(e)}function i(e){var t,n;function r(t,n){try{var s=e[t](n),a=s.value,u=a instanceof o;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};const s=n(105),a=n(106);e.exports=function(e,t){const{promise:n,resolve:o}=a(),u=(c=function*(){const e=yield r(n);var t,i=!0,o=!1;try{for(var s,a,u=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(e);i=(s=yield r(u.next())).done,a=yield r(s.value),!i;i=!0){const e=a;yield e}}catch(c){o=!0,t=c}finally{try{i||null==u.return||(yield r(u.return()))}finally{if(o)throw t}}},function(){return new i(c.apply(this,arguments))})();var c;return s({sink:t=>o(e(t)),source:u},t)}},function(e,t,n){"use strict";e.exports=function(e){if(e){if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();if("function"==typeof e.next)return e}throw new Error("argument is not an iterator or iterable")}},function(e,t,n){"use strict";const r=n(274),i=n(106);e.exports=class{constructor(){this._buffer=new r,this._waitingConsumers=new r}push(e){const{promise:t,resolve:n}=i();return this._buffer.push({chunk:e,resolve:n}),this._consume(),t}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){const e=this._waitingConsumers.shift(),t=this._buffer.shift();e.resolve(t.chunk),t.resolve()}}shift(){const{promise:e,resolve:t}=i();return this._waitingConsumers.push({resolve:t}),this._consume(),e}isEmpty(){return this._buffer.isEmpty()}}},function(e,t,n){"use strict";const r=n(275);e.exports=class{constructor(e){this.hwm=e||16,this.head=new r(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){const t=this.head;this.head=t.next=new r(2*this.head.buffer.length),this.head.push(e)}}shift(){const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}},function(e,t,n){"use strict";e.exports=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}}},function(e,t,n){"use strict";const r=n(11),i=n(107),o={method:"POST",path:"/api/v0/files/mkdir",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,mode:o,mtime:s,mtimeNsecs:a,parents:u,hashAlg:c,cidVersion:l,flush:f,shardSplitThreshold:h}=e.query;return await n.files.mkdir(r,{mode:o,mtime:i(s,a),parents:u,hashAlg:c,cidVersion:l,flush:f,shardSplitThreshold:h}),t.response()},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().required(),mode:r.string(),mtime:r.number().integer(),mtimeNsecs:r.number().integer().min(0),parents:r.boolean().default(!1),hashAlg:r.string().default("sha2-256"),cidVersion:r.number().integer().valid([0,1]).default(0),flush:r.boolean().default(!0),shardSplitThreshold:r.number().integer().min(0).default(1e3)}).rename("p","parents",{override:!0,ignoreUndefined:!0})}}};e.exports=o},function(e,t,n){"use strict";const r=n(11),i={method:"POST",path:"/api/v0/files/mv",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,recursive:i,parents:o,hashAlg:s,cidVersion:a,flush:u,shardSplitThreshold:c}=e.query,l=r.concat({recursive:i,parents:o,cidVersion:a,flush:u,hashAlg:s,shardSplitThreshold:c});return await n.files.mv.apply(null,l),t.response()},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.array().items(r.string()).min(2),recursive:r.boolean().default(!1),parents:r.boolean().default(!1),hashAlg:r.string().default("sha2-256"),cidVersion:r.number().integer().valid([0,1]).default(0),flush:r.boolean().default(!0),shardSplitThreshold:r.number().integer().min(0).default(1e3)})}}};e.exports=i},function(e,t,n){"use strict";const r=n(11),{PassThrough:i}=n(99),o=n(104),s={method:"POST",path:"/api/v0/files/read",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,offset:s,length:a}=e.query,u=await new Promise((e,t)=>{const u=o.readable(n.files.read(r,{offset:s,length:a}));u.once("data",t=>{const n=new i;e(n),n.write(t),u.pipe(n)}),u.once("error",e=>{t(e)})});return t.response(u).header("X-Stream-Output","1")},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().required(),offset:r.number().integer().min(0),length:r.number().integer().min(0)}).rename("o","offset",{override:!0,ignoreUndefined:!0}).rename("n","length",{override:!0,ignoreUndefined:!0}).rename("count","length",{override:!0,ignoreUndefined:!0})}}};e.exports=s},function(e,t,n){"use strict";const r=n(11),i={method:"POST",path:"/api/v0/files/rm",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,recursive:i}=e.query;return await n.files.rm(r,{recursive:i}),t.response()},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().required(),recursive:r.boolean().default(!1)}).rename("r","recursive",{override:!0,ignoreUndefined:!0})}}};e.exports=i},function(e,t,n){"use strict";const r=n(11),i={method:"POST",path:"/api/v0/files/stat",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,hash:i,size:o,withLocal:s,cidBase:a}=e.query,u=await n.files.stat(r,{hash:i,size:o,withLocal:s});return t.response({Type:u.type,Blocks:u.blocks,Size:u.size,Hash:u.cid.toString(a),CumulativeSize:u.cumulativeSize,WithLocality:u.withLocality,Local:u.local,SizeLocal:u.sizeLocal,Mtime:u.mtime?u.mtime.secs:void 0,MtimeNsecs:u.mtime?u.mtime.nsecs:void 0,Mode:u.mode.toString(8).padStart(4,"0")})},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().default("/"),hash:r.boolean().default(!1),size:r.boolean().default(!1),withLocal:r.boolean().default(!1),cidBase:r.string()})}}};e.exports=i},function(e,t,n){"use strict";const r=n(11),i=n(107),o={method:"POST",path:"/api/v0/files/touch",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,flush:o,shardSplitThreshold:s,cidVersion:a,hashAlg:u,mtime:c,mtimeNsecs:l}=e.query;return await n.files.touch(r,{mtime:i(c,l),flush:o,shardSplitThreshold:s,cidVersion:a,hashAlg:u}),t.response()},options:{validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().required(),mtime:r.number().integer(),mtimeNsecs:r.number().integer().min(0),hashAlg:r.string().default("sha2-256"),cidVersion:r.number().integer().valid([0,1]).default(0),flush:r.boolean().default(!0),shardSplitThreshold:r.number().integer().min(0).default(1e3)})}}};e.exports=o},function(e,t,n){"use strict";const r=n(11),i=n(283),o=n(109),s={method:"POST",path:"/api/v0/files/write",async handler(e,t){const{ipfs:n}=e.server.app,{arg:r,offset:s,length:a,create:u,truncate:c,rawLeaves:l,reduceSingleLeafToSelf:f,cidVersion:h,hashAlg:p,parents:d,progress:y,strategy:g,flush:b,shardSplitThreshold:m}=e.query;let v=0;var w,k=!0,_=!1;try{for(var S,E,x=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(i(e));k=(S=await x.next()).done,E=await S.value,!k;k=!0){const e=E;if("file"===e.type){if(v++,v>1)throw o.badRequest("Please only send one file");await n.files.write(r,e.content,{offset:s,length:a,create:u,truncate:c,rawLeaves:l,reduceSingleLeafToSelf:f,cidVersion:h,hashAlg:p,parents:d,progress:y,strategy:g,flush:b,shardSplitThreshold:m,mode:e.mode,mtime:e.mtime})}}}catch(A){_=!0,w=A}finally{try{k||null==x.return||await x.return()}finally{if(_)throw w}}return t.response()},options:{payload:{parse:!1,output:"stream"},validate:{options:{allowUnknown:!0,stripUnknown:!0},query:r.object().keys({arg:r.string().required(),offset:r.number().integer().min(0),length:r.number().integer().min(0),create:r.boolean().default(!1),truncate:r.boolean().default(!1),rawLeaves:r.boolean().default(!1),cidVersion:r.number().integer().valid([0,1]).default(0),hashAlg:r.string().default("sha2-256"),parents:r.boolean().default(!1),progress:r.func(),strategy:r.string().valid(["flat","balanced","trickle"]).default("trickle"),flush:r.boolean().default(!0),reduceSingleLeafToSelf:r.boolean().default(!1),shardSplitThreshold:r.number().integer().min(0).default(1e3)}).rename("o","offset",{override:!0,ignoreUndefined:!0}).rename("e","create",{override:!0,ignoreUndefined:!0}).rename("t","truncate",{override:!0,ignoreUndefined:!0})}}};e.exports=s},function(e,t,n){"use strict";const r=n(108),i=n(298);e.exports=(e,t={})=>(t.boundary=r.type(e.headers["content-type"]).boundary,i(e.payload||e,t))},function(e,t,n){"use strict";e.exports={applyToDefaults:n(285),assert:n(26),Bench:n(286),block:n(287),clone:n(57),contain:n(288),deepEqual:n(115),Error:n(110),escapeHeaderAttribute:n(289),escapeHtml:n(290),escapeJson:n(291),escapeRegex:n(116),flatten:n(292),ignore:n(114),intersect:n(293),isPromise:n(294),merge:n(113),once:n(295),reach:n(58),reachTemplate:n(296),stringify:n(111),wait:n(297)}},function(e,t,n){"use strict";const r=n(26),i=n(57),o=n(113),s=n(37),a={};e.exports=function(e,t,n={}){if(r(e&&"object"==typeof e,"Invalid defaults value: must be an object"),r(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),r("object"==typeof n,"Invalid options: must be an object"),!t)return null;if(n.shallow)return a.applyToDefaultsWithShallow(e,t,n);const s=i(e);if(!0===t)return s;const u=void 0!==n.nullOverride&&n.nullOverride;return o(s,t,{nullOverride:u,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(e,t,n){const a=n.shallow;r(Array.isArray(a),"Invalid keys"),(n=Object.assign({},n)).shallow=!1;const u=i(e,{shallow:a});if(!0===t)return u;const c=s.store(t,a);return o(u,t,{mergeArrays:!1,nullOverride:!1}),s.restore(u,t,c),u}},function(e,t,n){"use strict";(function(t){const n={};e.exports=n.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=n.Bench.now()}elapsed(){return n.Bench.now()-this.ts}static now(){const e=t.hrtime();return 1e3*e[0]+e[1]/1e6}}}).call(this,n(2))},function(e,t,n){"use strict";const r=n(114);e.exports=function(){return new Promise(r)}},function(e,t,n){"use strict";const r=n(26),i=n(115),o=n(116),s=n(37),a={};e.exports=function(e,t,n={}){return"object"!=typeof t&&(t=[t]),r(!Array.isArray(t)||t.length,"Values array cannot be empty"),"string"==typeof e?a.string(e,t,n):Array.isArray(e)?a.array(e,t,n):(r("object"==typeof e,"Reference must be string or an object"),a.object(e,t,n))},a.array=function(e,t,n){if(Array.isArray(t)||(t=[t]),!e.length)return!1;if(n.only&&n.once&&e.length!==t.length)return!1;let r;const i=new Map;for(const s of t)if(n.deep&&s&&"object"==typeof s){r=r||a.compare(n);let e=!1;for(const[t,n]of i.entries())if(r(t,s)){++n.allowed,e=!0;break}e||i.set(s,{allowed:1,hits:0})}else{const e=i.get(s);e?++e.allowed:i.set(s,{allowed:1,hits:0})}let o=0;for(const s of e){let e;if(n.deep&&s&&"object"==typeof s){for(const[t,n]of i.entries())if(r(t,s)){e=n;break}}else e=i.get(s);if(e&&(++e.hits,++o,n.once&&e.hits>e.allowed))return!1}if(n.only&&o!==e.length)return!1;for(const s of i.values())if(s.hits!==s.allowed&&s.hits<s.allowed&&!n.part)return!1;return!!o},a.object=function(e,t,n){r(void 0===n.once,"Cannot use option once with object");const i=s.keys(e,n);if(!i.length)return!1;if(Array.isArray(t))return a.array(i,t,n);const o=Object.getOwnPropertySymbols(t).filter(e=>t.propertyIsEnumerable(e)),u=[...Object.keys(t),...o],c=a.compare(n),l=new Set(u);for(const r of i)if(l.has(r)){if(!c(t[r],e[r]))return!1;l.delete(r)}else if(n.only)return!1;return!l.size||!!n.part&&l.size<u.length},a.string=function(e,t,n){if(""===e)return 1===t.length&&""===t[0]||!n.once&&!t.some(e=>""!==e);const i=new Map,s=[];for(const l of t)if(r("string"==typeof l,"Cannot compare string reference to non-string value"),l){const e=i.get(l);e?++e.allowed:(i.set(l,{allowed:1,hits:0}),s.push(o(l)))}else if(n.once||n.only)return!1;if(!s.length)return!0;const a=new RegExp("(".concat(s.join("|"),")"),"g"),u=e.replace(a,(e,t)=>(++i.get(t).hits,""));if(n.only&&u)return!1;let c=!1;for(const r of i.values())if(r.hits&&(c=!0),r.hits!==r.allowed){if(r.hits<r.allowed&&!n.part)return!1;if(n.once)return!1}return!!c},a.compare=function(e){if(!e.deep)return a.shallow;const t=void 0!==e.only,n=void 0!==e.part,r={prototype:t?e.only:!!n&&!e.part,part:t?!e.only:!!n&&e.part};return(e,t)=>i(e,t,r)},a.shallow=function(e,t){return e===t}},function(e,t,n){"use strict";const r=n(26);e.exports=function(e){return r(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}},function(e,t,n){"use strict";const r={};e.exports=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){const i=e.charCodeAt(n);r.isSafe(i)?t+=e[n]:t+=r.escapeHtmlChar(i)}return t},r.escapeHtmlChar=function(e){const t=r.namedHtml[e];if(void 0!==t)return t;if(e>=256)return"&#"+e+";";const n=e.toString(16).padStart(2,"0");return"&#x".concat(n,";")},r.isSafe=function(e){return void 0!==r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,n){"use strict";e.exports=function(e){if(!e)return"";let t;return e.replace(/[<>&\u2028\u2029]/g,e=>(t=e.charCodeAt(0),60===t?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029"))}},function(e,t,n){"use strict";const r={};e.exports=r.flatten=function(e,t){const n=t||[];for(let i=0;i<e.length;++i)Array.isArray(e[i])?r.flatten(e[i],n):n.push(e[i]);return n}},function(e,t,n){"use strict";const r={};e.exports=function(e,t,n={}){if(!e||!t)return n.first?null:[];const i=[],o=Array.isArray(e)?new Set(e):e,s=new Set;for(const a of t)if(r.has(o,a)&&!s.has(a)){if(n.first)return a;i.push(a),s.add(a)}return n.first?null:i},r.has=function(e,t){return"function"==typeof e.has?e.has(t):void 0!==e[t]}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&"function"==typeof e.then}},function(e,t,n){"use strict";e.exports=function(e){if(e._hoekOnce)return e;let t=!1;const n=function(...n){t||(t=!0,e(...n))};return n._hoekOnce=!0,n}},function(e,t,n){"use strict";const r=n(58);e.exports=function(e,t,n){return t.replace(/{([^}]+)}/g,(t,i)=>{const o=r(e,i,n);return null==o?"":o})}},function(e,t,n){"use strict";e.exports=function(e){return new Promise(t=>setTimeout(t,e))}},function(e,t,n){"use strict";(function(t){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(){return new a(e.apply(this,arguments))}}function a(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof c;Promise.resolve(a?s.wrapped:s).then((function(e){a?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){return new c(e)}function c(e){this.wrapped=e}function l(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return this}),n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function f(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)};const h=n(108),p=n(299),d=e=>"multipart/form-data"===e||"application/x-directory"===e,y=e=>{const t={};if(t.type=e.split(";")[0],"file"===t.type||"form-data"===t.type){const n=/ filename="(.[^"]+)"/,r=e.match(n);t.filename=r?r[1]:"";const i=/ name="(.[^"]+)"/,o=e.match(i);t.name=o?o[1]:""}return t},g=async e=>{const n=[];let r=0;var i,o=!0,s=!1;try{for(var a,u,c=f(e);o=(a=await c.next()).done,u=await a.value,!o;o=!0){const e=u;r+=e.length,n.push(e)}}catch(l){s=!0,i=l}finally{try{o||null==c.return||await c.return()}finally{if(s)throw i}}return t.concat(n,r)},b=async e=>{var t,n=!0,r=!1;try{for(var i,o=f(e);n=(i=await o.next()).done,await i.value,!n;n=!0){}}catch(s){r=!0,t=s}finally{try{n||null==o.return||await o.return()}finally{if(r)throw t}}};function m(e,t){return v.apply(this,arguments)}function v(){return(v=s((function*(e,t){var n,r=!0,o=!1;try{for(var s,a,c=f(e);r=(s=yield u(c.next())).done,a=yield u(s.value),!r;r=!0){const e=a;if(!e.headers["content-type"])throw new Error("No content-type in multipart part");const n=h.type(e.headers["content-type"]);if(n.boundary){yield*l(f(w(e.body,i({},t,{boundary:n.boundary}))),u);continue}if(!e.headers["content-disposition"])throw new Error("No content disposition in multipart part");const r={};e.headers.mtime&&(r.mtime={secs:parseInt(e.headers.mtime,10)},e.headers["mtime-nsecs"]&&(r.mtime.nsecs=parseInt(e.headers["mtime-nsecs"],10))),e.headers.mode&&(r.mode=parseInt(e.headers.mode,8)),d(n.mime)?r.type="directory":"application/symlink"===n.mime?r.type="symlink":r.type="file";const o=y(e.headers["content-disposition"]);r.name=decodeURIComponent(o.filename),r.body=e.body,yield r}}catch(p){o=!0,n=p}finally{try{r||null==c.return||(yield u(c.return()))}finally{if(o)throw n}}}))).apply(this,arguments)}function w(e,t){return k.apply(this,arguments)}function k(){return(k=s((function*(e,t){var n,r=!0,i=!1;try{for(var o,s,a=f(m(p(e,t.boundary),t));r=(o=yield u(a.next())).done,s=yield u(o.value),!r;r=!0){const e=s;"directory"===e.type&&(yield{type:"directory",name:e.name,mtime:e.mtime,mode:e.mode},yield u(b(e.body))),"symlink"===e.type&&(yield{type:"symlink",name:e.name,target:(yield u(g(e.body))).toString("utf8"),mtime:e.mtime,mode:e.mode}),"file"===e.type&&(yield{type:"file",name:e.name,content:e.body,mtime:e.mtime,mode:e.mode})}}catch(c){i=!0,n=c}finally{try{r||null==a.return||(yield u(a.return()))}finally{if(i)throw n}}}))).apply(this,arguments)}e.exports=w}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){return new s(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(c){i("throw",c)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function a(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};const u=n(300),c=n(301);function l(){return(l=i((function*(e,n){if(!n){if(!(e&&e.headers&&e.headers["content-type"]&&e.headers["content-type"].includes("boundary")))throw new Error("Not a multipart request");n=e.headers["content-type"].split("boundary=")[1].trim()}n="--".concat(n);const i=t.from("\r\n\r\n");e=d(e),yield r(p(e,t.from(n)));var o,s=!0,u=!1;try{for(var l,h,b=a(e);s=(l=yield r(b.next())).done,h=yield r(l.value),!s;s=!0){const o=h;e.push(o);const s=(yield r(g(f(e,i)))).toString();if("--\r\n"===s)return;const a=y(f(e,t.from("\r\n".concat(n)))),u={headers:c(s),body:a.iterator};yield u,yield r(a.complete)}}catch(m){u=!0,o=m}finally{try{s||null==b.return||(yield r(b.return()))}finally{if(u)throw o}}}))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=i((function*(e,n){let i=t.alloc(0);var o,s=!0,c=!1;try{for(var l,f,h=a(e);s=(l=yield r(h.next())).done,f=yield r(l.value),!s;s=!0){const r=f;i=t.concat([i,r],i.length+r.length);const o=u(i,n);if(-1!==o)return o>0&&(yield i.slice(0,o)),void e.push(i.slice(o+n.length));i.length>n.length&&(yield i.slice(0,i.length-n.length),i=i.slice(i.length-n.length))}}catch(p){c=!0,o=p}finally{try{s||null==h.return||(yield r(h.return()))}finally{if(c)throw o}}i.length&&(yield i)}))).apply(this,arguments)}async function p(e,t){var n,r=!0,i=!1;try{for(var o,s=a(f(e,t));r=(o=await s.next()).done,await o.value,!r;r=!0){}}catch(u){i=!0,n=u}finally{try{r||null==s.return||await s.return()}finally{if(i)throw n}}}function d(e){const t=[],n=e[Symbol.asyncIterator](),r={[Symbol.asyncIterator]:()=>r,next:()=>t.length?{done:!1,value:t.shift()}:n.next(),push:function(e){t.push(e)}};return r}function y(e){let t;const n=new Promise((e,n)=>{t={resolve:e,reject:n}}),r=e[Symbol.asyncIterator](),i={[Symbol.asyncIterator]:()=>i,next:async()=>{try{const e=await r.next();return e.done&&t.resolve(),e}catch(e){t.reject(e)}}};return{complete:n,iterator:i}}e.exports=function(e,t){return l.apply(this,arguments)};const g=async e=>{const n=[];let r=0;var i,o=!0,s=!1;try{for(var u,c,l=a(e);o=(u=await l.next()).done,c=await u.value,!o;o=!0){const e=c;r+=e.length,n.push(e)}}catch(f){s=!0,i=f}finally{try{o||null==l.return||await l.return()}finally{if(s)throw i}}return t.concat(n,r)}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";(function(t){e.exports=function(e,n,r,i){if(!t.isBuffer(e))throw TypeError("buffer is not a buffer");if(void 0===i&&"string"==typeof r&&(i=r,r=void 0),"string"==typeof n)n=new t(n,i||"utf8");else if("number"!=typeof n||isNaN(n)){if(!t.isBuffer(n))throw TypeError("search is not a bufferable object")}else n=new t([n]);if(0===n.length)return-1;if(void 0===r||"number"==typeof r&&isNaN(r))r=0;else if("number"!=typeof r)throw TypeError("offset is not a number");r<0&&(r=e.length+r),r<0&&(r=0);for(var o=0,s=-1,a=r;a<e.length&&(e[a]!=n[o]&&(s=-1,a-=o-1,o=0),e[a]!=n[o]||(-1==s&&(s=a),++o!=n.length));++a);return s>-1&&e.length-s<n.length?-1:s}}).call(this,n(0).Buffer)},function(e,t,n){"use strict";var r=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,n={},i=r(e).split("\n"),o=0;o<i.length;o++){var s=i[o],a=s.indexOf(":"),u=r(s.slice(0,a)).toLowerCase(),c=r(s.slice(a+1));void 0===n[u]?n[u]=c:(t=n[u],"[object Array]"===Object.prototype.toString.call(t)?n[u].push(c):n[u]=[n[u],c])}return n}}])}));
//# sourceMappingURL=index.min.js.map